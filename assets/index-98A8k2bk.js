function Nb(r,i){for(var u=0;u<i.length;u++){const m=i[u];if(typeof m!="string"&&!Array.isArray(m)){for(const b in m)if(b!=="default"&&!(b in r)){const C=Object.getOwnPropertyDescriptor(m,b);C&&Object.defineProperty(r,b,C.get?C:{enumerable:!0,get:()=>m[b]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))m(b);new MutationObserver(b=>{for(const C of b)if(C.type==="childList")for(const O of C.addedNodes)O.tagName==="LINK"&&O.rel==="modulepreload"&&m(O)}).observe(document,{childList:!0,subtree:!0});function u(b){const C={};return b.integrity&&(C.integrity=b.integrity),b.referrerPolicy&&(C.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?C.credentials="include":b.crossOrigin==="anonymous"?C.credentials="omit":C.credentials="same-origin",C}function m(b){if(b.ep)return;b.ep=!0;const C=u(b);fetch(b.href,C)}})();function Xf(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function zb(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var i=r.default;if(typeof i=="function"){var u=function m(){var b=!1;try{b=this instanceof m}catch{}return b?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};u.prototype=i.prototype}else u={};return Object.defineProperty(u,"__esModule",{value:!0}),Object.keys(r).forEach(function(m){var b=Object.getOwnPropertyDescriptor(r,m);Object.defineProperty(u,m,b.get?b:{enumerable:!0,get:function(){return r[m]}})}),u}var tf={exports:{}},vs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function Fb(){if(Kp)return vs;Kp=1;var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function u(m,b,C){var O=null;if(C!==void 0&&(O=""+C),b.key!==void 0&&(O=""+b.key),"key"in b){C={};for(var d in b)d!=="key"&&(C[d]=b[d])}else C=b;return b=C.ref,{$$typeof:r,type:m,key:O,ref:b!==void 0?b:null,props:C}}return vs.Fragment=i,vs.jsx=u,vs.jsxs=u,vs}var Qp;function Ub(){return Qp||(Qp=1,tf.exports=Fb()),tf.exports}var Q=Ub(),ef={exports:{}},Ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function Hb(){if(Zp)return Ut;Zp=1;var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),O=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),s=Symbol.iterator;function l(P){return P===null||typeof P!="object"?null:(P=s&&P[s]||P["@@iterator"],typeof P=="function"?P:null)}var o={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c=Object.assign,v={};function f(P,M,N){this.props=P,this.context=M,this.refs=v,this.updater=N||o}f.prototype.isReactComponent={},f.prototype.setState=function(P,M){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,M,"setState")},f.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function y(){}y.prototype=f.prototype;function x(P,M,N){this.props=P,this.context=M,this.refs=v,this.updater=N||o}var _=x.prototype=new y;_.constructor=x,c(_,f.prototype),_.isPureReactComponent=!0;var T=Array.isArray,E={H:null,A:null,T:null,S:null,V:null},A=Object.prototype.hasOwnProperty;function k(P,M,N,X,L,B){return N=B.ref,{$$typeof:r,type:P,key:M,ref:N!==void 0?N:null,props:B}}function z(P,M){return k(P.type,M,void 0,void 0,void 0,P.props)}function I(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function D(P){var M={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(N){return M[N]})}var q=/\/+/g;function st(P,M){return typeof P=="object"&&P!==null&&P.key!=null?D(""+P.key):M.toString(36)}function Z(){}function $(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(Z,Z):(P.status="pending",P.then(function(M){P.status==="pending"&&(P.status="fulfilled",P.value=M)},function(M){P.status==="pending"&&(P.status="rejected",P.reason=M)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ut(P,M,N,X,L){var B=typeof P;(B==="undefined"||B==="boolean")&&(P=null);var H=!1;if(P===null)H=!0;else switch(B){case"bigint":case"string":case"number":H=!0;break;case"object":switch(P.$$typeof){case r:case i:H=!0;break;case g:return H=P._init,ut(H(P._payload),M,N,X,L)}}if(H)return L=L(P),H=X===""?"."+st(P,0):X,T(L)?(N="",H!=null&&(N=H.replace(q,"$&/")+"/"),ut(L,M,N,"",function(et){return et})):L!=null&&(I(L)&&(L=z(L,N+(L.key==null||P&&P.key===L.key?"":(""+L.key).replace(q,"$&/")+"/")+H)),M.push(L)),1;H=0;var Y=X===""?".":X+":";if(T(P))for(var rt=0;rt<P.length;rt++)X=P[rt],B=Y+st(X,rt),H+=ut(X,M,N,B,L);else if(rt=l(P),typeof rt=="function")for(P=rt.call(P),rt=0;!(X=P.next()).done;)X=X.value,B=Y+st(X,rt++),H+=ut(X,M,N,B,L);else if(B==="object"){if(typeof P.then=="function")return ut($(P),M,N,X,L);throw M=String(P),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return H}function U(P,M,N){if(P==null)return P;var X=[],L=0;return ut(P,X,"","",function(B){return M.call(N,B,L++)}),X}function tt(P){if(P._status===-1){var M=P._result;M=M(),M.then(function(N){(P._status===0||P._status===-1)&&(P._status=1,P._result=N)},function(N){(P._status===0||P._status===-1)&&(P._status=2,P._result=N)}),P._status===-1&&(P._status=0,P._result=M)}if(P._status===1)return P._result.default;throw P._result}var nt=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function F(){}return Ut.Children={map:U,forEach:function(P,M,N){U(P,function(){M.apply(this,arguments)},N)},count:function(P){var M=0;return U(P,function(){M++}),M},toArray:function(P){return U(P,function(M){return M})||[]},only:function(P){if(!I(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ut.Component=f,Ut.Fragment=u,Ut.Profiler=b,Ut.PureComponent=x,Ut.StrictMode=m,Ut.Suspense=a,Ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Ut.__COMPILER_RUNTIME={__proto__:null,c:function(P){return E.H.useMemoCache(P)}},Ut.cache=function(P){return function(){return P.apply(null,arguments)}},Ut.cloneElement=function(P,M,N){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var X=c({},P.props),L=P.key,B=void 0;if(M!=null)for(H in M.ref!==void 0&&(B=void 0),M.key!==void 0&&(L=""+M.key),M)!A.call(M,H)||H==="key"||H==="__self"||H==="__source"||H==="ref"&&M.ref===void 0||(X[H]=M[H]);var H=arguments.length-2;if(H===1)X.children=N;else if(1<H){for(var Y=Array(H),rt=0;rt<H;rt++)Y[rt]=arguments[rt+2];X.children=Y}return k(P.type,L,void 0,void 0,B,X)},Ut.createContext=function(P){return P={$$typeof:O,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:C,_context:P},P},Ut.createElement=function(P,M,N){var X,L={},B=null;if(M!=null)for(X in M.key!==void 0&&(B=""+M.key),M)A.call(M,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(L[X]=M[X]);var H=arguments.length-2;if(H===1)L.children=N;else if(1<H){for(var Y=Array(H),rt=0;rt<H;rt++)Y[rt]=arguments[rt+2];L.children=Y}if(P&&P.defaultProps)for(X in H=P.defaultProps,H)L[X]===void 0&&(L[X]=H[X]);return k(P,B,void 0,void 0,null,L)},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(P){return{$$typeof:d,render:P}},Ut.isValidElement=I,Ut.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:tt}},Ut.memo=function(P,M){return{$$typeof:h,type:P,compare:M===void 0?null:M}},Ut.startTransition=function(P){var M=E.T,N={};E.T=N;try{var X=P(),L=E.S;L!==null&&L(N,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(F,nt)}catch(B){nt(B)}finally{E.T=M}},Ut.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Ut.use=function(P){return E.H.use(P)},Ut.useActionState=function(P,M,N){return E.H.useActionState(P,M,N)},Ut.useCallback=function(P,M){return E.H.useCallback(P,M)},Ut.useContext=function(P){return E.H.useContext(P)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(P,M){return E.H.useDeferredValue(P,M)},Ut.useEffect=function(P,M,N){var X=E.H;if(typeof N=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(P,M)},Ut.useId=function(){return E.H.useId()},Ut.useImperativeHandle=function(P,M,N){return E.H.useImperativeHandle(P,M,N)},Ut.useInsertionEffect=function(P,M){return E.H.useInsertionEffect(P,M)},Ut.useLayoutEffect=function(P,M){return E.H.useLayoutEffect(P,M)},Ut.useMemo=function(P,M){return E.H.useMemo(P,M)},Ut.useOptimistic=function(P,M){return E.H.useOptimistic(P,M)},Ut.useReducer=function(P,M,N){return E.H.useReducer(P,M,N)},Ut.useRef=function(P){return E.H.useRef(P)},Ut.useState=function(P){return E.H.useState(P)},Ut.useSyncExternalStore=function(P,M,N){return E.H.useSyncExternalStore(P,M,N)},Ut.useTransition=function(){return E.H.useTransition()},Ut.version="19.1.0",Ut}var Jp;function If(){return Jp||(Jp=1,ef.exports=Hb()),ef.exports}var G=If();const Ui=Xf(G),wf=Nb({__proto__:null,default:Ui},[G]);var nf={exports:{}},ys={},rf={exports:{}},af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm;function Yb(){return tm||(tm=1,function(r){function i(U,tt){var nt=U.length;U.push(tt);t:for(;0<nt;){var F=nt-1>>>1,P=U[F];if(0<b(P,tt))U[F]=tt,U[nt]=P,nt=F;else break t}}function u(U){return U.length===0?null:U[0]}function m(U){if(U.length===0)return null;var tt=U[0],nt=U.pop();if(nt!==tt){U[0]=nt;t:for(var F=0,P=U.length,M=P>>>1;F<M;){var N=2*(F+1)-1,X=U[N],L=N+1,B=U[L];if(0>b(X,nt))L<P&&0>b(B,X)?(U[F]=B,U[L]=nt,F=L):(U[F]=X,U[N]=nt,F=N);else if(L<P&&0>b(B,nt))U[F]=B,U[L]=nt,F=L;else break t}}return tt}function b(U,tt){var nt=U.sortIndex-tt.sortIndex;return nt!==0?nt:U.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var C=performance;r.unstable_now=function(){return C.now()}}else{var O=Date,d=O.now();r.unstable_now=function(){return O.now()-d}}var a=[],h=[],g=1,s=null,l=3,o=!1,c=!1,v=!1,f=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function T(U){for(var tt=u(h);tt!==null;){if(tt.callback===null)m(h);else if(tt.startTime<=U)m(h),tt.sortIndex=tt.expirationTime,i(a,tt);else break;tt=u(h)}}function E(U){if(v=!1,T(U),!c)if(u(a)!==null)c=!0,A||(A=!0,st());else{var tt=u(h);tt!==null&&ut(E,tt.startTime-U)}}var A=!1,k=-1,z=5,I=-1;function D(){return f?!0:!(r.unstable_now()-I<z)}function q(){if(f=!1,A){var U=r.unstable_now();I=U;var tt=!0;try{t:{c=!1,v&&(v=!1,x(k),k=-1),o=!0;var nt=l;try{e:{for(T(U),s=u(a);s!==null&&!(s.expirationTime>U&&D());){var F=s.callback;if(typeof F=="function"){s.callback=null,l=s.priorityLevel;var P=F(s.expirationTime<=U);if(U=r.unstable_now(),typeof P=="function"){s.callback=P,T(U),tt=!0;break e}s===u(a)&&m(a),T(U)}else m(a);s=u(a)}if(s!==null)tt=!0;else{var M=u(h);M!==null&&ut(E,M.startTime-U),tt=!1}}break t}finally{s=null,l=nt,o=!1}tt=void 0}}finally{tt?st():A=!1}}}var st;if(typeof _=="function")st=function(){_(q)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,$=Z.port2;Z.port1.onmessage=q,st=function(){$.postMessage(null)}}else st=function(){y(q,0)};function ut(U,tt){k=y(function(){U(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(U){U.callback=null},r.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<U?Math.floor(1e3/U):5},r.unstable_getCurrentPriorityLevel=function(){return l},r.unstable_next=function(U){switch(l){case 1:case 2:case 3:var tt=3;break;default:tt=l}var nt=l;l=tt;try{return U()}finally{l=nt}},r.unstable_requestPaint=function(){f=!0},r.unstable_runWithPriority=function(U,tt){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var nt=l;l=U;try{return tt()}finally{l=nt}},r.unstable_scheduleCallback=function(U,tt,nt){var F=r.unstable_now();switch(typeof nt=="object"&&nt!==null?(nt=nt.delay,nt=typeof nt=="number"&&0<nt?F+nt:F):nt=F,U){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=nt+P,U={id:g++,callback:tt,priorityLevel:U,startTime:nt,expirationTime:P,sortIndex:-1},nt>F?(U.sortIndex=nt,i(h,U),u(a)===null&&U===u(h)&&(v?(x(k),k=-1):v=!0,ut(E,nt-F))):(U.sortIndex=P,i(a,U),c||o||(c=!0,A||(A=!0,st()))),U},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(U){var tt=l;return function(){var nt=l;l=tt;try{return U.apply(this,arguments)}finally{l=nt}}}}(af)),af}var em;function Xb(){return em||(em=1,rf.exports=Yb()),rf.exports}var sf={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function Ib(){if(im)return Ye;im=1;var r=If();function i(a){var h="https://react.dev/errors/"+a;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+a+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var m={d:{f:u,r:function(){throw Error(i(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},b=Symbol.for("react.portal");function C(a,h,g){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:s==null?null:""+s,children:a,containerInfo:h,implementation:g}}var O=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(a,h){if(a==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=m,Ye.createPortal=function(a,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(i(299));return C(a,h,null,g)},Ye.flushSync=function(a){var h=O.T,g=m.p;try{if(O.T=null,m.p=2,a)return a()}finally{O.T=h,m.p=g,m.d.f()}},Ye.preconnect=function(a,h){typeof a=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,m.d.C(a,h))},Ye.prefetchDNS=function(a){typeof a=="string"&&m.d.D(a)},Ye.preinit=function(a,h){if(typeof a=="string"&&h&&typeof h.as=="string"){var g=h.as,s=d(g,h.crossOrigin),l=typeof h.integrity=="string"?h.integrity:void 0,o=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?m.d.S(a,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:s,integrity:l,fetchPriority:o}):g==="script"&&m.d.X(a,{crossOrigin:s,integrity:l,fetchPriority:o,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ye.preinitModule=function(a,h){if(typeof a=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=d(h.as,h.crossOrigin);m.d.M(a,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&m.d.M(a)},Ye.preload=function(a,h){if(typeof a=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,s=d(g,h.crossOrigin);m.d.L(a,g,{crossOrigin:s,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ye.preloadModule=function(a,h){if(typeof a=="string")if(h){var g=d(h.as,h.crossOrigin);m.d.m(a,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else m.d.m(a)},Ye.requestFormReset=function(a){m.d.r(a)},Ye.unstable_batchedUpdates=function(a,h){return a(h)},Ye.useFormState=function(a,h,g){return O.H.useFormState(a,h,g)},Ye.useFormStatus=function(){return O.H.useHostTransitionStatus()},Ye.version="19.1.0",Ye}var nm;function Rv(){if(nm)return sf.exports;nm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),sf.exports=Ib(),sf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function Vb(){if(rm)return ys;rm=1;var r=Xb(),i=If(),u=Rv();function m(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function b(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function C(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function O(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function d(t){if(C(t)!==t)throw Error(m(188))}function a(t){var e=t.alternate;if(!e){if(e=C(t),e===null)throw Error(m(188));return e!==t?null:t}for(var n=t,p=e;;){var S=n.return;if(S===null)break;var w=S.alternate;if(w===null){if(p=S.return,p!==null){n=p;continue}break}if(S.child===w.child){for(w=S.child;w;){if(w===n)return d(S),t;if(w===p)return d(S),e;w=w.sibling}throw Error(m(188))}if(n.return!==p.return)n=S,p=w;else{for(var R=!1,j=S.child;j;){if(j===n){R=!0,n=S,p=w;break}if(j===p){R=!0,p=S,n=w;break}j=j.sibling}if(!R){for(j=w.child;j;){if(j===n){R=!0,n=w,p=S;break}if(j===p){R=!0,p=w,n=S;break}j=j.sibling}if(!R)throw Error(m(189))}}if(n.alternate!==p)throw Error(m(190))}if(n.tag!==3)throw Error(m(188));return n.stateNode.current===n?t:e}function h(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=h(t),e!==null)return e;t=t.sibling}return null}var g=Object.assign,s=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function st(t){return t===null||typeof t!="object"?null:(t=q&&t[q]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Symbol.for("react.client.reference");function $(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Z?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case c:return"Fragment";case f:return"Profiler";case v:return"StrictMode";case E:return"Suspense";case A:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case o:return"Portal";case _:return(t.displayName||"Context")+".Provider";case x:return(t._context.displayName||"Context")+".Consumer";case T:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return e=t.displayName||null,e!==null?e:$(t.type)||"Memo";case z:e=t._payload,t=t._init;try{return $(t(e))}catch{}}return null}var ut=Array.isArray,U=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt={pending:!1,data:null,method:null,action:null},F=[],P=-1;function M(t){return{current:t}}function N(t){0>P||(t.current=F[P],F[P]=null,P--)}function X(t,e){P++,F[P]=t.current,t.current=e}var L=M(null),B=M(null),H=M(null),Y=M(null);function rt(t,e){switch(X(H,e),X(B,t),X(L,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?wp(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=wp(e),t=Tp(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}N(L),X(L,t)}function et(){N(L),N(B),N(H)}function pt(t){t.memoizedState!==null&&X(Y,t);var e=L.current,n=Tp(e,t.type);e!==n&&(X(B,t),X(L,n))}function gt(t){B.current===t&&(N(L),N(B)),Y.current===t&&(N(Y),hs._currentValue=nt)}var vt=Object.prototype.hasOwnProperty,it=r.unstable_scheduleCallback,K=r.unstable_cancelCallback,dt=r.unstable_shouldYield,mt=r.unstable_requestPaint,ct=r.unstable_now,bt=r.unstable_getCurrentPriorityLevel,_t=r.unstable_ImmediatePriority,kt=r.unstable_UserBlockingPriority,At=r.unstable_NormalPriority,ot=r.unstable_LowPriority,Rt=r.unstable_IdlePriority,Lt=r.log,wt=r.unstable_setDisableYieldValue,Tt=null,Et=null;function Mt(t){if(typeof Lt=="function"&&wt(t),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(Tt,t)}catch{}}var Ot=Math.clz32?Math.clz32:xe,Pt=Math.log,pe=Math.LN2;function xe(t){return t>>>=0,t===0?32:31-(Pt(t)/pe|0)|0}var Qt=256,he=4194304;function Ve(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pn(t,e,n){var p=t.pendingLanes;if(p===0)return 0;var S=0,w=t.suspendedLanes,R=t.pingedLanes;t=t.warmLanes;var j=p&134217727;return j!==0?(p=j&~w,p!==0?S=Ve(p):(R&=j,R!==0?S=Ve(R):n||(n=j&~t,n!==0&&(S=Ve(n))))):(j=p&~w,j!==0?S=Ve(j):R!==0?S=Ve(R):n||(n=p&~t,n!==0&&(S=Ve(n)))),S===0?0:e!==0&&e!==S&&(e&w)===0&&(w=S&-S,n=e&-e,w>=n||w===32&&(n&4194048)!==0)?e:S}function Ii(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Il(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pr(){var t=Qt;return Qt<<=1,(Qt&4194048)===0&&(Qt=256),t}function mr(){var t=he;return he<<=1,(he&62914560)===0&&(he=4194304),t}function Ca(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ue(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ae(t,e,n,p,S,w){var R=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var j=t.entanglements,V=t.expirationTimes,lt=t.hiddenUpdates;for(n=R&~n;0<n;){var St=31-Ot(n),Ct=1<<St;j[St]=0,V[St]=-1;var ft=lt[St];if(ft!==null)for(lt[St]=null,St=0;St<ft.length;St++){var ht=ft[St];ht!==null&&(ht.lane&=-536870913)}n&=~Ct}p!==0&&vr(t,p,0),w!==0&&S===0&&t.tag!==0&&(t.suspendedLanes|=w&~(R&~e))}function vr(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var p=31-Ot(e);t.entangledLanes|=e,t.entanglements[p]=t.entanglements[p]|1073741824|n&4194090}function Yn(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var p=31-Ot(n),S=1<<p;S&e|t[p]&e&&(t[p]|=e),n&=~S}}function Je(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vl(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fh(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:Ip(t.type))}function O0(t,e){var n=tt.p;try{return tt.p=t,e()}finally{tt.p=n}}var mn=Math.random().toString(36).slice(2),Ue="__reactFiber$"+mn,We="__reactProps$"+mn,yr="__reactContainer$"+mn,Gl="__reactEvents$"+mn,E0="__reactListeners$"+mn,A0="__reactHandles$"+mn,hh="__reactResources$"+mn,_a="__reactMarker$"+mn;function Wl(t){delete t[Ue],delete t[We],delete t[Gl],delete t[E0],delete t[A0]}function br(t){var e=t[Ue];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yr]||n[Ue]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Rp(t);t!==null;){if(n=t[Ue])return n;t=Rp(t)}return e}t=n,n=t.parentNode}return null}function Sr(t){if(t=t[Ue]||t[yr]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function wa(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(m(33))}function xr(t){var e=t[hh];return e||(e=t[hh]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ke(t){t[_a]=!0}var dh=new Set,gh={};function Xn(t,e){Cr(t,e),Cr(t+"Capture",e)}function Cr(t,e){for(gh[t]=e,t=0;t<e.length;t++)dh.add(e[t])}var R0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ph={},mh={};function D0(t){return vt.call(mh,t)?!0:vt.call(ph,t)?!1:R0.test(t)?mh[t]=!0:(ph[t]=!0,!1)}function Xs(t,e,n){if(D0(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var p=e.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Is(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Vi(t,e,n,p){if(p===null)t.removeAttribute(n);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+p)}}var $l,vh;function _r(t){if($l===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$l=e&&e[1]||"",vh=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$l+t+vh}var ql=!1;function Kl(t,e){if(!t||ql)return"";ql=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(e){var Ct=function(){throw Error()};if(Object.defineProperty(Ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ct,[])}catch(ht){var ft=ht}Reflect.construct(t,[],Ct)}else{try{Ct.call()}catch(ht){ft=ht}t.call(Ct.prototype)}}else{try{throw Error()}catch(ht){ft=ht}(Ct=t())&&typeof Ct.catch=="function"&&Ct.catch(function(){})}}catch(ht){if(ht&&ft&&typeof ht.stack=="string")return[ht.stack,ft.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),R=w[0],j=w[1];if(R&&j){var V=R.split(`
`),lt=j.split(`
`);for(S=p=0;p<V.length&&!V[p].includes("DetermineComponentFrameRoot");)p++;for(;S<lt.length&&!lt[S].includes("DetermineComponentFrameRoot");)S++;if(p===V.length||S===lt.length)for(p=V.length-1,S=lt.length-1;1<=p&&0<=S&&V[p]!==lt[S];)S--;for(;1<=p&&0<=S;p--,S--)if(V[p]!==lt[S]){if(p!==1||S!==1)do if(p--,S--,0>S||V[p]!==lt[S]){var St=`
`+V[p].replace(" at new "," at ");return t.displayName&&St.includes("<anonymous>")&&(St=St.replace("<anonymous>",t.displayName)),St}while(1<=p&&0<=S);break}}}finally{ql=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?_r(n):""}function k0(t){switch(t.tag){case 26:case 27:case 5:return _r(t.type);case 16:return _r("Lazy");case 13:return _r("Suspense");case 19:return _r("SuspenseList");case 0:case 15:return Kl(t.type,!1);case 11:return Kl(t.type.render,!1);case 1:return Kl(t.type,!0);case 31:return _r("Activity");default:return""}}function yh(t){try{var e="";do e+=k0(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function fi(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function M0(t){var e=bh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),p=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var S=n.get,w=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return S.call(this)},set:function(R){p=""+R,w.call(this,R)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return p},setValue:function(R){p=""+R},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vs(t){t._valueTracker||(t._valueTracker=M0(t))}function Sh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),p="";return t&&(p=bh(t)?t.checked?"true":"false":t.value),t=p,t!==n?(e.setValue(t),!0):!1}function Gs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var L0=/[\n"\\]/g;function hi(t){return t.replace(L0,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Ql(t,e,n,p,S,w,R,j){t.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?t.type=R:t.removeAttribute("type"),e!=null?R==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+fi(e)):t.value!==""+fi(e)&&(t.value=""+fi(e)):R!=="submit"&&R!=="reset"||t.removeAttribute("value"),e!=null?Zl(t,R,fi(e)):n!=null?Zl(t,R,fi(n)):p!=null&&t.removeAttribute("value"),S==null&&w!=null&&(t.defaultChecked=!!w),S!=null&&(t.checked=S&&typeof S!="function"&&typeof S!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?t.name=""+fi(j):t.removeAttribute("name")}function xh(t,e,n,p,S,w,R,j){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.type=w),e!=null||n!=null){if(!(w!=="submit"&&w!=="reset"||e!=null))return;n=n!=null?""+fi(n):"",e=e!=null?""+fi(e):n,j||e===t.value||(t.value=e),t.defaultValue=e}p=p??S,p=typeof p!="function"&&typeof p!="symbol"&&!!p,t.checked=j?t.checked:!!p,t.defaultChecked=!!p,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(t.name=R)}function Zl(t,e,n){e==="number"&&Gs(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function wr(t,e,n,p){if(t=t.options,e){e={};for(var S=0;S<n.length;S++)e["$"+n[S]]=!0;for(n=0;n<t.length;n++)S=e.hasOwnProperty("$"+t[n].value),t[n].selected!==S&&(t[n].selected=S),S&&p&&(t[n].defaultSelected=!0)}else{for(n=""+fi(n),e=null,S=0;S<t.length;S++){if(t[S].value===n){t[S].selected=!0,p&&(t[S].defaultSelected=!0);return}e!==null||t[S].disabled||(e=t[S])}e!==null&&(e.selected=!0)}}function Ch(t,e,n){if(e!=null&&(e=""+fi(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+fi(n):""}function _h(t,e,n,p){if(e==null){if(p!=null){if(n!=null)throw Error(m(92));if(ut(p)){if(1<p.length)throw Error(m(93));p=p[0]}n=p}n==null&&(n=""),e=n}n=fi(e),t.defaultValue=n,p=t.textContent,p===n&&p!==""&&p!==null&&(t.value=p)}function Tr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var j0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wh(t,e,n){var p=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?p?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":p?t.setProperty(e,n):typeof n!="number"||n===0||j0.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Th(t,e,n){if(e!=null&&typeof e!="object")throw Error(m(62));if(t=t.style,n!=null){for(var p in n)!n.hasOwnProperty(p)||e!=null&&e.hasOwnProperty(p)||(p.indexOf("--")===0?t.setProperty(p,""):p==="float"?t.cssFloat="":t[p]="");for(var S in e)p=e[S],e.hasOwnProperty(S)&&n[S]!==p&&wh(t,S,p)}else for(var w in e)e.hasOwnProperty(w)&&wh(t,w,e[w])}function Jl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var P0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),B0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ws(t){return B0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var tc=null;function ec(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Or=null,Er=null;function Oh(t){var e=Sr(t);if(e&&(t=e.stateNode)){var n=t[We]||null;t:switch(t=e.stateNode,e.type){case"input":if(Ql(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+hi(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var p=n[e];if(p!==t&&p.form===t.form){var S=p[We]||null;if(!S)throw Error(m(90));Ql(p,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(e=0;e<n.length;e++)p=n[e],p.form===t.form&&Sh(p)}break t;case"textarea":Ch(t,n.value,n.defaultValue);break t;case"select":e=n.value,e!=null&&wr(t,!!n.multiple,e,!1)}}}var ic=!1;function Eh(t,e,n){if(ic)return t(e,n);ic=!0;try{var p=t(e);return p}finally{if(ic=!1,(Or!==null||Er!==null)&&(Lo(),Or&&(e=Or,t=Er,Er=Or=null,Oh(e),t)))for(e=0;e<t.length;e++)Oh(t[e])}}function Ta(t,e){var n=t.stateNode;if(n===null)return null;var p=n[We]||null;if(p===null)return null;n=p[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(t=t.type,p=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!p;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(m(231,e,typeof n));return n}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nc=!1;if(Gi)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){nc=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{nc=!1}var vn=null,rc=null,$s=null;function Ah(){if($s)return $s;var t,e=rc,n=e.length,p,S="value"in vn?vn.value:vn.textContent,w=S.length;for(t=0;t<n&&e[t]===S[t];t++);var R=n-t;for(p=1;p<=R&&e[n-p]===S[w-p];p++);return $s=S.slice(t,1<p?1-p:void 0)}function qs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ks(){return!0}function Rh(){return!1}function $e(t){function e(n,p,S,w,R){this._reactName=n,this._targetInst=S,this.type=p,this.nativeEvent=w,this.target=R,this.currentTarget=null;for(var j in t)t.hasOwnProperty(j)&&(n=t[j],this[j]=n?n(w):w[j]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ks:Rh,this.isPropagationStopped=Rh,this}return g(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),e}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=$e(In),Ea=g({},In,{view:0,detail:0}),N0=$e(Ea),ac,sc,Aa,Zs=g({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Aa&&(Aa&&t.type==="mousemove"?(ac=t.screenX-Aa.screenX,sc=t.screenY-Aa.screenY):sc=ac=0,Aa=t),ac)},movementY:function(t){return"movementY"in t?t.movementY:sc}}),Dh=$e(Zs),z0=g({},Zs,{dataTransfer:0}),F0=$e(z0),U0=g({},Ea,{relatedTarget:0}),oc=$e(U0),H0=g({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),Y0=$e(H0),X0=g({},In,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),I0=$e(X0),V0=g({},In,{data:0}),kh=$e(V0),G0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$0[t])?!!e[t]:!1}function lc(){return q0}var K0=g({},Ea,{key:function(t){if(t.key){var e=G0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?W0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lc,charCode:function(t){return t.type==="keypress"?qs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Q0=$e(K0),Z0=g({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mh=$e(Z0),J0=g({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lc}),ty=$e(J0),ey=g({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),iy=$e(ey),ny=g({},Zs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ry=$e(ny),ay=g({},In,{newState:0,oldState:0}),sy=$e(ay),oy=[9,13,27,32],cc=Gi&&"CompositionEvent"in window,Ra=null;Gi&&"documentMode"in document&&(Ra=document.documentMode);var ly=Gi&&"TextEvent"in window&&!Ra,Lh=Gi&&(!cc||Ra&&8<Ra&&11>=Ra),jh=" ",Ph=!1;function Bh(t,e){switch(t){case"keyup":return oy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ar=!1;function cy(t,e){switch(t){case"compositionend":return Nh(e);case"keypress":return e.which!==32?null:(Ph=!0,jh);case"textInput":return t=e.data,t===jh&&Ph?null:t;default:return null}}function uy(t,e){if(Ar)return t==="compositionend"||!cc&&Bh(t,e)?(t=Ah(),$s=rc=vn=null,Ar=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lh&&e.locale!=="ko"?null:e.data;default:return null}}var fy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fy[t.type]:e==="textarea"}function Fh(t,e,n,p){Or?Er?Er.push(p):Er=[p]:Or=p,e=Fo(e,"onChange"),0<e.length&&(n=new Qs("onChange","change",null,n,p),t.push({event:n,listeners:e}))}var Da=null,ka=null;function hy(t){bp(t,0)}function Js(t){var e=wa(t);if(Sh(e))return t}function Uh(t,e){if(t==="change")return e}var Hh=!1;if(Gi){var uc;if(Gi){var fc="oninput"in document;if(!fc){var Yh=document.createElement("div");Yh.setAttribute("oninput","return;"),fc=typeof Yh.oninput=="function"}uc=fc}else uc=!1;Hh=uc&&(!document.documentMode||9<document.documentMode)}function Xh(){Da&&(Da.detachEvent("onpropertychange",Ih),ka=Da=null)}function Ih(t){if(t.propertyName==="value"&&Js(ka)){var e=[];Fh(e,ka,t,ec(t)),Eh(hy,e)}}function dy(t,e,n){t==="focusin"?(Xh(),Da=e,ka=n,Da.attachEvent("onpropertychange",Ih)):t==="focusout"&&Xh()}function gy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Js(ka)}function py(t,e){if(t==="click")return Js(e)}function my(t,e){if(t==="input"||t==="change")return Js(e)}function vy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ti=typeof Object.is=="function"?Object.is:vy;function Ma(t,e){if(ti(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),p=Object.keys(e);if(n.length!==p.length)return!1;for(p=0;p<n.length;p++){var S=n[p];if(!vt.call(e,S)||!ti(t[S],e[S]))return!1}return!0}function Vh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gh(t,e){var n=Vh(t);t=0;for(var p;n;){if(n.nodeType===3){if(p=t+n.textContent.length,t<=e&&p>=e)return{node:n,offset:e-t};t=p}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Vh(n)}}function Wh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Wh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $h(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Gs(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gs(t.document)}return e}function hc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var yy=Gi&&"documentMode"in document&&11>=document.documentMode,Rr=null,dc=null,La=null,gc=!1;function qh(t,e,n){var p=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gc||Rr==null||Rr!==Gs(p)||(p=Rr,"selectionStart"in p&&hc(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),La&&Ma(La,p)||(La=p,p=Fo(dc,"onSelect"),0<p.length&&(e=new Qs("onSelect","select",null,e,n),t.push({event:e,listeners:p}),e.target=Rr)))}function Vn(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Dr={animationend:Vn("Animation","AnimationEnd"),animationiteration:Vn("Animation","AnimationIteration"),animationstart:Vn("Animation","AnimationStart"),transitionrun:Vn("Transition","TransitionRun"),transitionstart:Vn("Transition","TransitionStart"),transitioncancel:Vn("Transition","TransitionCancel"),transitionend:Vn("Transition","TransitionEnd")},pc={},Kh={};Gi&&(Kh=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function Gn(t){if(pc[t])return pc[t];if(!Dr[t])return t;var e=Dr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Kh)return pc[t]=e[n];return t}var Qh=Gn("animationend"),Zh=Gn("animationiteration"),Jh=Gn("animationstart"),by=Gn("transitionrun"),Sy=Gn("transitionstart"),xy=Gn("transitioncancel"),td=Gn("transitionend"),ed=new Map,mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mc.push("scrollEnd");function Ti(t,e){ed.set(t,e),Xn(e,[t])}var id=new WeakMap;function di(t,e){if(typeof t=="object"&&t!==null){var n=id.get(t);return n!==void 0?n:(e={value:t,source:e,stack:yh(e)},id.set(t,e),e)}return{value:t,source:e,stack:yh(e)}}var gi=[],kr=0,vc=0;function to(){for(var t=kr,e=vc=kr=0;e<t;){var n=gi[e];gi[e++]=null;var p=gi[e];gi[e++]=null;var S=gi[e];gi[e++]=null;var w=gi[e];if(gi[e++]=null,p!==null&&S!==null){var R=p.pending;R===null?S.next=S:(S.next=R.next,R.next=S),p.pending=S}w!==0&&nd(n,S,w)}}function eo(t,e,n,p){gi[kr++]=t,gi[kr++]=e,gi[kr++]=n,gi[kr++]=p,vc|=p,t.lanes|=p,t=t.alternate,t!==null&&(t.lanes|=p)}function yc(t,e,n,p){return eo(t,e,n,p),io(t)}function Mr(t,e){return eo(t,null,null,e),io(t)}function nd(t,e,n){t.lanes|=n;var p=t.alternate;p!==null&&(p.lanes|=n);for(var S=!1,w=t.return;w!==null;)w.childLanes|=n,p=w.alternate,p!==null&&(p.childLanes|=n),w.tag===22&&(t=w.stateNode,t===null||t._visibility&1||(S=!0)),t=w,w=w.return;return t.tag===3?(w=t.stateNode,S&&e!==null&&(S=31-Ot(n),t=w.hiddenUpdates,p=t[S],p===null?t[S]=[e]:p.push(e),e.lane=n|536870912),w):null}function io(t){if(50<rs)throw rs=0,wu=null,Error(m(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Lr={};function Cy(t,e,n,p){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(t,e,n,p){return new Cy(t,e,n,p)}function bc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,e){var n=t.alternate;return n===null?(n=ei(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function rd(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function no(t,e,n,p,S,w){var R=0;if(p=t,typeof t=="function")bc(t)&&(R=1);else if(typeof t=="string")R=wb(t,n,L.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case I:return t=ei(31,n,e,S),t.elementType=I,t.lanes=w,t;case c:return Wn(n.children,S,w,e);case v:R=8,S|=24;break;case f:return t=ei(12,n,e,S|2),t.elementType=f,t.lanes=w,t;case E:return t=ei(13,n,e,S),t.elementType=E,t.lanes=w,t;case A:return t=ei(19,n,e,S),t.elementType=A,t.lanes=w,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case y:case _:R=10;break t;case x:R=9;break t;case T:R=11;break t;case k:R=14;break t;case z:R=16,p=null;break t}R=29,n=Error(m(130,t===null?"null":typeof t,"")),p=null}return e=ei(R,n,e,S),e.elementType=t,e.type=p,e.lanes=w,e}function Wn(t,e,n,p){return t=ei(7,t,p,e),t.lanes=n,t}function Sc(t,e,n){return t=ei(6,t,null,e),t.lanes=n,t}function xc(t,e,n){return e=ei(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var jr=[],Pr=0,ro=null,ao=0,pi=[],mi=0,$n=null,$i=1,qi="";function qn(t,e){jr[Pr++]=ao,jr[Pr++]=ro,ro=t,ao=e}function ad(t,e,n){pi[mi++]=$i,pi[mi++]=qi,pi[mi++]=$n,$n=t;var p=$i;t=qi;var S=32-Ot(p)-1;p&=~(1<<S),n+=1;var w=32-Ot(e)+S;if(30<w){var R=S-S%5;w=(p&(1<<R)-1).toString(32),p>>=R,S-=R,$i=1<<32-Ot(e)+S|n<<S|p,qi=w+t}else $i=1<<w|n<<S|p,qi=t}function Cc(t){t.return!==null&&(qn(t,1),ad(t,1,0))}function _c(t){for(;t===ro;)ro=jr[--Pr],jr[Pr]=null,ao=jr[--Pr],jr[Pr]=null;for(;t===$n;)$n=pi[--mi],pi[mi]=null,qi=pi[--mi],pi[mi]=null,$i=pi[--mi],pi[mi]=null}var Ge=null,ve=null,$t=!1,Kn=null,ki=!1,wc=Error(m(519));function Qn(t){var e=Error(m(418,""));throw Ba(di(e,t)),wc}function sd(t){var e=t.stateNode,n=t.type,p=t.memoizedProps;switch(e[Ue]=t,e[We]=p,n){case"dialog":It("cancel",e),It("close",e);break;case"iframe":case"object":case"embed":It("load",e);break;case"video":case"audio":for(n=0;n<ss.length;n++)It(ss[n],e);break;case"source":It("error",e);break;case"img":case"image":case"link":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"input":It("invalid",e),xh(e,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Vs(e);break;case"select":It("invalid",e);break;case"textarea":It("invalid",e),_h(e,p.value,p.defaultValue,p.children),Vs(e)}n=p.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||p.suppressHydrationWarning===!0||_p(e.textContent,n)?(p.popover!=null&&(It("beforetoggle",e),It("toggle",e)),p.onScroll!=null&&It("scroll",e),p.onScrollEnd!=null&&It("scrollend",e),p.onClick!=null&&(e.onclick=Uo),e=!0):e=!1,e||Qn(t)}function od(t){for(Ge=t.return;Ge;)switch(Ge.tag){case 5:case 13:ki=!1;return;case 27:case 3:ki=!0;return;default:Ge=Ge.return}}function ja(t){if(t!==Ge)return!1;if(!$t)return od(t),$t=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Uu(t.type,t.memoizedProps)),n=!n),n&&ve&&Qn(t),od(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(m(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){ve=Ei(t.nextSibling);break t}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}ve=null}}else e===27?(e=ve,Ln(t.type)?(t=Iu,Iu=null,ve=t):ve=e):ve=Ge?Ei(t.stateNode.nextSibling):null;return!0}function Pa(){ve=Ge=null,$t=!1}function ld(){var t=Kn;return t!==null&&(Qe===null?Qe=t:Qe.push.apply(Qe,t),Kn=null),t}function Ba(t){Kn===null?Kn=[t]:Kn.push(t)}var Tc=M(null),Zn=null,Ki=null;function yn(t,e,n){X(Tc,e._currentValue),e._currentValue=n}function Qi(t){t._currentValue=Tc.current,N(Tc)}function Oc(t,e,n){for(;t!==null;){var p=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,p!==null&&(p.childLanes|=e)):p!==null&&(p.childLanes&e)!==e&&(p.childLanes|=e),t===n)break;t=t.return}}function Ec(t,e,n,p){var S=t.child;for(S!==null&&(S.return=t);S!==null;){var w=S.dependencies;if(w!==null){var R=S.child;w=w.firstContext;t:for(;w!==null;){var j=w;w=S;for(var V=0;V<e.length;V++)if(j.context===e[V]){w.lanes|=n,j=w.alternate,j!==null&&(j.lanes|=n),Oc(w.return,n,t),p||(R=null);break t}w=j.next}}else if(S.tag===18){if(R=S.return,R===null)throw Error(m(341));R.lanes|=n,w=R.alternate,w!==null&&(w.lanes|=n),Oc(R,n,t),R=null}else R=S.child;if(R!==null)R.return=S;else for(R=S;R!==null;){if(R===t){R=null;break}if(S=R.sibling,S!==null){S.return=R.return,R=S;break}R=R.return}S=R}}function Na(t,e,n,p){t=null;for(var S=e,w=!1;S!==null;){if(!w){if((S.flags&524288)!==0)w=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var R=S.alternate;if(R===null)throw Error(m(387));if(R=R.memoizedProps,R!==null){var j=S.type;ti(S.pendingProps.value,R.value)||(t!==null?t.push(j):t=[j])}}else if(S===Y.current){if(R=S.alternate,R===null)throw Error(m(387));R.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(t!==null?t.push(hs):t=[hs])}S=S.return}t!==null&&Ec(e,t,n,p),e.flags|=262144}function so(t){for(t=t.firstContext;t!==null;){if(!ti(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jn(t){Zn=t,Ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return cd(Zn,t)}function oo(t,e){return Zn===null&&Jn(t),cd(t,e)}function cd(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Ki===null){if(t===null)throw Error(m(308));Ki=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ki=Ki.next=e;return n}var _y=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,p){t.push(p)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},wy=r.unstable_scheduleCallback,Ty=r.unstable_NormalPriority,Re={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ac(){return{controller:new _y,data:new Map,refCount:0}}function za(t){t.refCount--,t.refCount===0&&wy(Ty,function(){t.controller.abort()})}var Fa=null,Rc=0,Br=0,Nr=null;function Oy(t,e){if(Fa===null){var n=Fa=[];Rc=0,Br=ku(),Nr={status:"pending",value:void 0,then:function(p){n.push(p)}}}return Rc++,e.then(ud,ud),e}function ud(){if(--Rc===0&&Fa!==null){Nr!==null&&(Nr.status="fulfilled");var t=Fa;Fa=null,Br=0,Nr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Ey(t,e){var n=[],p={status:"pending",value:null,reason:null,then:function(S){n.push(S)}};return t.then(function(){p.status="fulfilled",p.value=e;for(var S=0;S<n.length;S++)(0,n[S])(e)},function(S){for(p.status="rejected",p.reason=S,S=0;S<n.length;S++)(0,n[S])(void 0)}),p}var fd=U.S;U.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&Oy(t,e),fd!==null&&fd(t,e)};var tr=M(null);function Dc(){var t=tr.current;return t!==null?t:fe.pooledCache}function lo(t,e){e===null?X(tr,tr.current):X(tr,e.pool)}function hd(){var t=Dc();return t===null?null:{parent:Re._currentValue,pool:t}}var Ua=Error(m(460)),dd=Error(m(474)),co=Error(m(542)),kc={then:function(){}};function gd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function uo(){}function pd(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(uo,uo),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,vd(t),t;default:if(typeof e.status=="string")e.then(uo,uo);else{if(t=fe,t!==null&&100<t.shellSuspendCounter)throw Error(m(482));t=e,t.status="pending",t.then(function(p){if(e.status==="pending"){var S=e;S.status="fulfilled",S.value=p}},function(p){if(e.status==="pending"){var S=e;S.status="rejected",S.reason=p}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,vd(t),t}throw Ha=e,Ua}}var Ha=null;function md(){if(Ha===null)throw Error(m(459));var t=Ha;return Ha=null,t}function vd(t){if(t===Ua||t===co)throw Error(m(483))}var bn=!1;function Mc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Sn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xn(t,e,n){var p=t.updateQueue;if(p===null)return null;if(p=p.shared,(Jt&2)!==0){var S=p.pending;return S===null?e.next=e:(e.next=S.next,S.next=e),p.pending=e,e=io(t),nd(t,null,n),e}return eo(t,p,e,n),io(t)}function Ya(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var p=e.lanes;p&=t.pendingLanes,n|=p,e.lanes=n,Yn(t,n)}}function jc(t,e){var n=t.updateQueue,p=t.alternate;if(p!==null&&(p=p.updateQueue,n===p)){var S=null,w=null;if(n=n.firstBaseUpdate,n!==null){do{var R={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};w===null?S=w=R:w=w.next=R,n=n.next}while(n!==null);w===null?S=w=e:w=w.next=e}else S=w=e;n={baseState:p.baseState,firstBaseUpdate:S,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Pc=!1;function Xa(){if(Pc){var t=Nr;if(t!==null)throw t}}function Ia(t,e,n,p){Pc=!1;var S=t.updateQueue;bn=!1;var w=S.firstBaseUpdate,R=S.lastBaseUpdate,j=S.shared.pending;if(j!==null){S.shared.pending=null;var V=j,lt=V.next;V.next=null,R===null?w=lt:R.next=lt,R=V;var St=t.alternate;St!==null&&(St=St.updateQueue,j=St.lastBaseUpdate,j!==R&&(j===null?St.firstBaseUpdate=lt:j.next=lt,St.lastBaseUpdate=V))}if(w!==null){var Ct=S.baseState;R=0,St=lt=V=null,j=w;do{var ft=j.lane&-536870913,ht=ft!==j.lane;if(ht?(Vt&ft)===ft:(p&ft)===ft){ft!==0&&ft===Br&&(Pc=!0),St!==null&&(St=St.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});t:{var zt=t,Bt=j;ft=e;var re=n;switch(Bt.tag){case 1:if(zt=Bt.payload,typeof zt=="function"){Ct=zt.call(re,Ct,ft);break t}Ct=zt;break t;case 3:zt.flags=zt.flags&-65537|128;case 0:if(zt=Bt.payload,ft=typeof zt=="function"?zt.call(re,Ct,ft):zt,ft==null)break t;Ct=g({},Ct,ft);break t;case 2:bn=!0}}ft=j.callback,ft!==null&&(t.flags|=64,ht&&(t.flags|=8192),ht=S.callbacks,ht===null?S.callbacks=[ft]:ht.push(ft))}else ht={lane:ft,tag:j.tag,payload:j.payload,callback:j.callback,next:null},St===null?(lt=St=ht,V=Ct):St=St.next=ht,R|=ft;if(j=j.next,j===null){if(j=S.shared.pending,j===null)break;ht=j,j=ht.next,ht.next=null,S.lastBaseUpdate=ht,S.shared.pending=null}}while(!0);St===null&&(V=Ct),S.baseState=V,S.firstBaseUpdate=lt,S.lastBaseUpdate=St,w===null&&(S.shared.lanes=0),Rn|=R,t.lanes=R,t.memoizedState=Ct}}function yd(t,e){if(typeof t!="function")throw Error(m(191,t));t.call(e)}function bd(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)yd(n[t],e)}var zr=M(null),fo=M(0);function Sd(t,e){t=an,X(fo,t),X(zr,e),an=t|e.baseLanes}function Bc(){X(fo,an),X(zr,zr.current)}function Nc(){an=fo.current,N(zr),N(fo)}var Cn=0,Ht=null,ie=null,Te=null,ho=!1,Fr=!1,er=!1,go=0,Va=0,Ur=null,Ay=0;function Ce(){throw Error(m(321))}function zc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ti(t[n],e[n]))return!1;return!0}function Fc(t,e,n,p,S,w){return Cn=w,Ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,U.H=t===null||t.memoizedState===null?ng:rg,er=!1,w=n(p,S),er=!1,Fr&&(w=Cd(e,n,p,S)),xd(t),w}function xd(t){U.H=So;var e=ie!==null&&ie.next!==null;if(Cn=0,Te=ie=Ht=null,ho=!1,Va=0,Ur=null,e)throw Error(m(300));t===null||Me||(t=t.dependencies,t!==null&&so(t)&&(Me=!0))}function Cd(t,e,n,p){Ht=t;var S=0;do{if(Fr&&(Ur=null),Va=0,Fr=!1,25<=S)throw Error(m(301));if(S+=1,Te=ie=null,t.updateQueue!=null){var w=t.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}U.H=Py,w=e(n,p)}while(Fr);return w}function Ry(){var t=U.H,e=t.useState()[0];return e=typeof e.then=="function"?Ga(e):e,t=t.useState()[0],(ie!==null?ie.memoizedState:null)!==t&&(Ht.flags|=1024),e}function Uc(){var t=go!==0;return go=0,t}function Hc(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Yc(t){if(ho){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}ho=!1}Cn=0,Te=ie=Ht=null,Fr=!1,Va=go=0,Ur=null}function qe(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Ht.memoizedState=Te=t:Te=Te.next=t,Te}function Oe(){if(ie===null){var t=Ht.alternate;t=t!==null?t.memoizedState:null}else t=ie.next;var e=Te===null?Ht.memoizedState:Te.next;if(e!==null)Te=e,ie=t;else{if(t===null)throw Ht.alternate===null?Error(m(467)):Error(m(310));ie=t,t={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Te===null?Ht.memoizedState=Te=t:Te=Te.next=t}return Te}function Xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ga(t){var e=Va;return Va+=1,Ur===null&&(Ur=[]),t=pd(Ur,t,e),e=Ht,(Te===null?e.memoizedState:Te.next)===null&&(e=e.alternate,U.H=e===null||e.memoizedState===null?ng:rg),t}function po(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ga(t);if(t.$$typeof===_)return He(t)}throw Error(m(438,String(t)))}function Ic(t){var e=null,n=Ht.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var p=Ht.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(e={data:p.data.map(function(S){return S.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Xc(),Ht.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),p=0;p<t;p++)n[p]=D;return e.index++,n}function Zi(t,e){return typeof e=="function"?e(t):e}function mo(t){var e=Oe();return Vc(e,ie,t)}function Vc(t,e,n){var p=t.queue;if(p===null)throw Error(m(311));p.lastRenderedReducer=n;var S=t.baseQueue,w=p.pending;if(w!==null){if(S!==null){var R=S.next;S.next=w.next,w.next=R}e.baseQueue=S=w,p.pending=null}if(w=t.baseState,S===null)t.memoizedState=w;else{e=S.next;var j=R=null,V=null,lt=e,St=!1;do{var Ct=lt.lane&-536870913;if(Ct!==lt.lane?(Vt&Ct)===Ct:(Cn&Ct)===Ct){var ft=lt.revertLane;if(ft===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),Ct===Br&&(St=!0);else if((Cn&ft)===ft){lt=lt.next,ft===Br&&(St=!0);continue}else Ct={lane:0,revertLane:lt.revertLane,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null},V===null?(j=V=Ct,R=w):V=V.next=Ct,Ht.lanes|=ft,Rn|=ft;Ct=lt.action,er&&n(w,Ct),w=lt.hasEagerState?lt.eagerState:n(w,Ct)}else ft={lane:Ct,revertLane:lt.revertLane,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null},V===null?(j=V=ft,R=w):V=V.next=ft,Ht.lanes|=Ct,Rn|=Ct;lt=lt.next}while(lt!==null&&lt!==e);if(V===null?R=w:V.next=j,!ti(w,t.memoizedState)&&(Me=!0,St&&(n=Nr,n!==null)))throw n;t.memoizedState=w,t.baseState=R,t.baseQueue=V,p.lastRenderedState=w}return S===null&&(p.lanes=0),[t.memoizedState,p.dispatch]}function Gc(t){var e=Oe(),n=e.queue;if(n===null)throw Error(m(311));n.lastRenderedReducer=t;var p=n.dispatch,S=n.pending,w=e.memoizedState;if(S!==null){n.pending=null;var R=S=S.next;do w=t(w,R.action),R=R.next;while(R!==S);ti(w,e.memoizedState)||(Me=!0),e.memoizedState=w,e.baseQueue===null&&(e.baseState=w),n.lastRenderedState=w}return[w,p]}function _d(t,e,n){var p=Ht,S=Oe(),w=$t;if(w){if(n===void 0)throw Error(m(407));n=n()}else n=e();var R=!ti((ie||S).memoizedState,n);R&&(S.memoizedState=n,Me=!0),S=S.queue;var j=Od.bind(null,p,S,t);if(Wa(2048,8,j,[t]),S.getSnapshot!==e||R||Te!==null&&Te.memoizedState.tag&1){if(p.flags|=2048,Hr(9,vo(),Td.bind(null,p,S,n,e),null),fe===null)throw Error(m(349));w||(Cn&124)!==0||wd(p,e,n)}return n}function wd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ht.updateQueue,e===null?(e=Xc(),Ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Td(t,e,n,p){e.value=n,e.getSnapshot=p,Ed(e)&&Ad(t)}function Od(t,e,n){return n(function(){Ed(e)&&Ad(t)})}function Ed(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ti(t,n)}catch{return!0}}function Ad(t){var e=Mr(t,2);e!==null&&si(e,t,2)}function Wc(t){var e=qe();if(typeof t=="function"){var n=t;if(t=n(),er){Mt(!0);try{n()}finally{Mt(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},e}function Rd(t,e,n,p){return t.baseState=n,Vc(t,ie,typeof p=="function"?p:Zi)}function Dy(t,e,n,p,S){if(bo(t))throw Error(m(485));if(t=e.action,t!==null){var w={payload:S,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){w.listeners.push(R)}};U.T!==null?n(!0):w.isTransition=!1,p(w),n=e.pending,n===null?(w.next=e.pending=w,Dd(e,w)):(w.next=n.next,e.pending=n.next=w)}}function Dd(t,e){var n=e.action,p=e.payload,S=t.state;if(e.isTransition){var w=U.T,R={};U.T=R;try{var j=n(S,p),V=U.S;V!==null&&V(R,j),kd(t,e,j)}catch(lt){$c(t,e,lt)}finally{U.T=w}}else try{w=n(S,p),kd(t,e,w)}catch(lt){$c(t,e,lt)}}function kd(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(p){Md(t,e,p)},function(p){return $c(t,e,p)}):Md(t,e,n)}function Md(t,e,n){e.status="fulfilled",e.value=n,Ld(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Dd(t,n)))}function $c(t,e,n){var p=t.pending;if(t.pending=null,p!==null){p=p.next;do e.status="rejected",e.reason=n,Ld(e),e=e.next;while(e!==p)}t.action=null}function Ld(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function jd(t,e){return e}function Pd(t,e){if($t){var n=fe.formState;if(n!==null){t:{var p=Ht;if($t){if(ve){e:{for(var S=ve,w=ki;S.nodeType!==8;){if(!w){S=null;break e}if(S=Ei(S.nextSibling),S===null){S=null;break e}}w=S.data,S=w==="F!"||w==="F"?S:null}if(S){ve=Ei(S.nextSibling),p=S.data==="F!";break t}}Qn(p)}p=!1}p&&(e=n[0])}}return n=qe(),n.memoizedState=n.baseState=e,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jd,lastRenderedState:e},n.queue=p,n=tg.bind(null,Ht,p),p.dispatch=n,p=Wc(!1),w=Jc.bind(null,Ht,!1,p.queue),p=qe(),S={state:e,dispatch:null,action:t,pending:null},p.queue=S,n=Dy.bind(null,Ht,S,w,n),S.dispatch=n,p.memoizedState=t,[e,n,!1]}function Bd(t){var e=Oe();return Nd(e,ie,t)}function Nd(t,e,n){if(e=Vc(t,e,jd)[0],t=mo(Zi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var p=Ga(e)}catch(R){throw R===Ua?co:R}else p=e;e=Oe();var S=e.queue,w=S.dispatch;return n!==e.memoizedState&&(Ht.flags|=2048,Hr(9,vo(),ky.bind(null,S,n),null)),[p,w,t]}function ky(t,e){t.action=e}function zd(t){var e=Oe(),n=ie;if(n!==null)return Nd(e,n,t);Oe(),e=e.memoizedState,n=Oe();var p=n.queue.dispatch;return n.memoizedState=t,[e,p,!1]}function Hr(t,e,n,p){return t={tag:t,create:n,deps:p,inst:e,next:null},e=Ht.updateQueue,e===null&&(e=Xc(),Ht.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(p=n.next,n.next=t,t.next=p,e.lastEffect=t),t}function vo(){return{destroy:void 0,resource:void 0}}function Fd(){return Oe().memoizedState}function yo(t,e,n,p){var S=qe();p=p===void 0?null:p,Ht.flags|=t,S.memoizedState=Hr(1|e,vo(),n,p)}function Wa(t,e,n,p){var S=Oe();p=p===void 0?null:p;var w=S.memoizedState.inst;ie!==null&&p!==null&&zc(p,ie.memoizedState.deps)?S.memoizedState=Hr(e,w,n,p):(Ht.flags|=t,S.memoizedState=Hr(1|e,w,n,p))}function Ud(t,e){yo(8390656,8,t,e)}function Hd(t,e){Wa(2048,8,t,e)}function Yd(t,e){return Wa(4,2,t,e)}function Xd(t,e){return Wa(4,4,t,e)}function Id(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vd(t,e,n){n=n!=null?n.concat([t]):null,Wa(4,4,Id.bind(null,e,t),n)}function qc(){}function Gd(t,e){var n=Oe();e=e===void 0?null:e;var p=n.memoizedState;return e!==null&&zc(e,p[1])?p[0]:(n.memoizedState=[t,e],t)}function Wd(t,e){var n=Oe();e=e===void 0?null:e;var p=n.memoizedState;if(e!==null&&zc(e,p[1]))return p[0];if(p=t(),er){Mt(!0);try{t()}finally{Mt(!1)}}return n.memoizedState=[p,e],p}function Kc(t,e,n){return n===void 0||(Cn&1073741824)!==0?t.memoizedState=e:(t.memoizedState=n,t=Kg(),Ht.lanes|=t,Rn|=t,n)}function $d(t,e,n,p){return ti(n,e)?n:zr.current!==null?(t=Kc(t,n,p),ti(t,e)||(Me=!0),t):(Cn&42)===0?(Me=!0,t.memoizedState=n):(t=Kg(),Ht.lanes|=t,Rn|=t,e)}function qd(t,e,n,p,S){var w=tt.p;tt.p=w!==0&&8>w?w:8;var R=U.T,j={};U.T=j,Jc(t,!1,e,n);try{var V=S(),lt=U.S;if(lt!==null&&lt(j,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var St=Ey(V,p);$a(t,e,St,ai(t))}else $a(t,e,p,ai(t))}catch(Ct){$a(t,e,{then:function(){},status:"rejected",reason:Ct},ai())}finally{tt.p=w,U.T=R}}function My(){}function Qc(t,e,n,p){if(t.tag!==5)throw Error(m(476));var S=Kd(t).queue;qd(t,S,e,nt,n===null?My:function(){return Qd(t),n(p)})}function Kd(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:nt,baseState:nt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:nt},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Qd(t){var e=Kd(t).next.queue;$a(t,e,{},ai())}function Zc(){return He(hs)}function Zd(){return Oe().memoizedState}function Jd(){return Oe().memoizedState}function Ly(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=ai();t=Sn(n);var p=xn(e,t,n);p!==null&&(si(p,e,n),Ya(p,e,n)),e={cache:Ac()},t.payload=e;return}e=e.return}}function jy(t,e,n){var p=ai();n={lane:p,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},bo(t)?eg(e,n):(n=yc(t,e,n,p),n!==null&&(si(n,t,p),ig(n,e,p)))}function tg(t,e,n){var p=ai();$a(t,e,n,p)}function $a(t,e,n,p){var S={lane:p,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(bo(t))eg(e,S);else{var w=t.alternate;if(t.lanes===0&&(w===null||w.lanes===0)&&(w=e.lastRenderedReducer,w!==null))try{var R=e.lastRenderedState,j=w(R,n);if(S.hasEagerState=!0,S.eagerState=j,ti(j,R))return eo(t,e,S,0),fe===null&&to(),!1}catch{}finally{}if(n=yc(t,e,S,p),n!==null)return si(n,t,p),ig(n,e,p),!0}return!1}function Jc(t,e,n,p){if(p={lane:2,revertLane:ku(),action:p,hasEagerState:!1,eagerState:null,next:null},bo(t)){if(e)throw Error(m(479))}else e=yc(t,n,p,2),e!==null&&si(e,t,2)}function bo(t){var e=t.alternate;return t===Ht||e!==null&&e===Ht}function eg(t,e){Fr=ho=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ig(t,e,n){if((n&4194048)!==0){var p=e.lanes;p&=t.pendingLanes,n|=p,e.lanes=n,Yn(t,n)}}var So={readContext:He,use:po,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useLayoutEffect:Ce,useInsertionEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useSyncExternalStore:Ce,useId:Ce,useHostTransitionStatus:Ce,useFormState:Ce,useActionState:Ce,useOptimistic:Ce,useMemoCache:Ce,useCacheRefresh:Ce},ng={readContext:He,use:po,useCallback:function(t,e){return qe().memoizedState=[t,e===void 0?null:e],t},useContext:He,useEffect:Ud,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,yo(4194308,4,Id.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yo(4194308,4,t,e)},useInsertionEffect:function(t,e){yo(4,2,t,e)},useMemo:function(t,e){var n=qe();e=e===void 0?null:e;var p=t();if(er){Mt(!0);try{t()}finally{Mt(!1)}}return n.memoizedState=[p,e],p},useReducer:function(t,e,n){var p=qe();if(n!==void 0){var S=n(e);if(er){Mt(!0);try{n(e)}finally{Mt(!1)}}}else S=e;return p.memoizedState=p.baseState=S,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:S},p.queue=t,t=t.dispatch=jy.bind(null,Ht,t),[p.memoizedState,t]},useRef:function(t){var e=qe();return t={current:t},e.memoizedState=t},useState:function(t){t=Wc(t);var e=t.queue,n=tg.bind(null,Ht,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:qc,useDeferredValue:function(t,e){var n=qe();return Kc(n,t,e)},useTransition:function(){var t=Wc(!1);return t=qd.bind(null,Ht,t.queue,!0,!1),qe().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var p=Ht,S=qe();if($t){if(n===void 0)throw Error(m(407));n=n()}else{if(n=e(),fe===null)throw Error(m(349));(Vt&124)!==0||wd(p,e,n)}S.memoizedState=n;var w={value:n,getSnapshot:e};return S.queue=w,Ud(Od.bind(null,p,w,t),[t]),p.flags|=2048,Hr(9,vo(),Td.bind(null,p,w,n,e),null),n},useId:function(){var t=qe(),e=fe.identifierPrefix;if($t){var n=qi,p=$i;n=(p&~(1<<32-Ot(p)-1)).toString(32)+n,e="«"+e+"R"+n,n=go++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=Ay++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:Zc,useFormState:Pd,useActionState:Pd,useOptimistic:function(t){var e=qe();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Jc.bind(null,Ht,!0,n),n.dispatch=e,[t,e]},useMemoCache:Ic,useCacheRefresh:function(){return qe().memoizedState=Ly.bind(null,Ht)}},rg={readContext:He,use:po,useCallback:Gd,useContext:He,useEffect:Hd,useImperativeHandle:Vd,useInsertionEffect:Yd,useLayoutEffect:Xd,useMemo:Wd,useReducer:mo,useRef:Fd,useState:function(){return mo(Zi)},useDebugValue:qc,useDeferredValue:function(t,e){var n=Oe();return $d(n,ie.memoizedState,t,e)},useTransition:function(){var t=mo(Zi)[0],e=Oe().memoizedState;return[typeof t=="boolean"?t:Ga(t),e]},useSyncExternalStore:_d,useId:Zd,useHostTransitionStatus:Zc,useFormState:Bd,useActionState:Bd,useOptimistic:function(t,e){var n=Oe();return Rd(n,ie,t,e)},useMemoCache:Ic,useCacheRefresh:Jd},Py={readContext:He,use:po,useCallback:Gd,useContext:He,useEffect:Hd,useImperativeHandle:Vd,useInsertionEffect:Yd,useLayoutEffect:Xd,useMemo:Wd,useReducer:Gc,useRef:Fd,useState:function(){return Gc(Zi)},useDebugValue:qc,useDeferredValue:function(t,e){var n=Oe();return ie===null?Kc(n,t,e):$d(n,ie.memoizedState,t,e)},useTransition:function(){var t=Gc(Zi)[0],e=Oe().memoizedState;return[typeof t=="boolean"?t:Ga(t),e]},useSyncExternalStore:_d,useId:Zd,useHostTransitionStatus:Zc,useFormState:zd,useActionState:zd,useOptimistic:function(t,e){var n=Oe();return ie!==null?Rd(n,ie,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Ic,useCacheRefresh:Jd},Yr=null,qa=0;function xo(t){var e=qa;return qa+=1,Yr===null&&(Yr=[]),pd(Yr,t,e)}function Ka(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Co(t,e){throw e.$$typeof===s?Error(m(525)):(t=Object.prototype.toString.call(e),Error(m(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function ag(t){var e=t._init;return e(t._payload)}function sg(t){function e(J,W){if(t){var at=J.deletions;at===null?(J.deletions=[W],J.flags|=16):at.push(W)}}function n(J,W){if(!t)return null;for(;W!==null;)e(J,W),W=W.sibling;return null}function p(J){for(var W=new Map;J!==null;)J.key!==null?W.set(J.key,J):W.set(J.index,J),J=J.sibling;return W}function S(J,W){return J=Wi(J,W),J.index=0,J.sibling=null,J}function w(J,W,at){return J.index=at,t?(at=J.alternate,at!==null?(at=at.index,at<W?(J.flags|=67108866,W):at):(J.flags|=67108866,W)):(J.flags|=1048576,W)}function R(J){return t&&J.alternate===null&&(J.flags|=67108866),J}function j(J,W,at,xt){return W===null||W.tag!==6?(W=Sc(at,J.mode,xt),W.return=J,W):(W=S(W,at),W.return=J,W)}function V(J,W,at,xt){var Dt=at.type;return Dt===c?St(J,W,at.props.children,xt,at.key):W!==null&&(W.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===z&&ag(Dt)===W.type)?(W=S(W,at.props),Ka(W,at),W.return=J,W):(W=no(at.type,at.key,at.props,null,J.mode,xt),Ka(W,at),W.return=J,W)}function lt(J,W,at,xt){return W===null||W.tag!==4||W.stateNode.containerInfo!==at.containerInfo||W.stateNode.implementation!==at.implementation?(W=xc(at,J.mode,xt),W.return=J,W):(W=S(W,at.children||[]),W.return=J,W)}function St(J,W,at,xt,Dt){return W===null||W.tag!==7?(W=Wn(at,J.mode,xt,Dt),W.return=J,W):(W=S(W,at),W.return=J,W)}function Ct(J,W,at){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Sc(""+W,J.mode,at),W.return=J,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case l:return at=no(W.type,W.key,W.props,null,J.mode,at),Ka(at,W),at.return=J,at;case o:return W=xc(W,J.mode,at),W.return=J,W;case z:var xt=W._init;return W=xt(W._payload),Ct(J,W,at)}if(ut(W)||st(W))return W=Wn(W,J.mode,at,null),W.return=J,W;if(typeof W.then=="function")return Ct(J,xo(W),at);if(W.$$typeof===_)return Ct(J,oo(J,W),at);Co(J,W)}return null}function ft(J,W,at,xt){var Dt=W!==null?W.key:null;if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return Dt!==null?null:j(J,W,""+at,xt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case l:return at.key===Dt?V(J,W,at,xt):null;case o:return at.key===Dt?lt(J,W,at,xt):null;case z:return Dt=at._init,at=Dt(at._payload),ft(J,W,at,xt)}if(ut(at)||st(at))return Dt!==null?null:St(J,W,at,xt,null);if(typeof at.then=="function")return ft(J,W,xo(at),xt);if(at.$$typeof===_)return ft(J,W,oo(J,at),xt);Co(J,at)}return null}function ht(J,W,at,xt,Dt){if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return J=J.get(at)||null,j(W,J,""+xt,Dt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case l:return J=J.get(xt.key===null?at:xt.key)||null,V(W,J,xt,Dt);case o:return J=J.get(xt.key===null?at:xt.key)||null,lt(W,J,xt,Dt);case z:var Yt=xt._init;return xt=Yt(xt._payload),ht(J,W,at,xt,Dt)}if(ut(xt)||st(xt))return J=J.get(at)||null,St(W,J,xt,Dt,null);if(typeof xt.then=="function")return ht(J,W,at,xo(xt),Dt);if(xt.$$typeof===_)return ht(J,W,at,oo(W,xt),Dt);Co(W,xt)}return null}function zt(J,W,at,xt){for(var Dt=null,Yt=null,jt=W,Nt=W=0,je=null;jt!==null&&Nt<at.length;Nt++){jt.index>Nt?(je=jt,jt=null):je=jt.sibling;var Gt=ft(J,jt,at[Nt],xt);if(Gt===null){jt===null&&(jt=je);break}t&&jt&&Gt.alternate===null&&e(J,jt),W=w(Gt,W,Nt),Yt===null?Dt=Gt:Yt.sibling=Gt,Yt=Gt,jt=je}if(Nt===at.length)return n(J,jt),$t&&qn(J,Nt),Dt;if(jt===null){for(;Nt<at.length;Nt++)jt=Ct(J,at[Nt],xt),jt!==null&&(W=w(jt,W,Nt),Yt===null?Dt=jt:Yt.sibling=jt,Yt=jt);return $t&&qn(J,Nt),Dt}for(jt=p(jt);Nt<at.length;Nt++)je=ht(jt,J,Nt,at[Nt],xt),je!==null&&(t&&je.alternate!==null&&jt.delete(je.key===null?Nt:je.key),W=w(je,W,Nt),Yt===null?Dt=je:Yt.sibling=je,Yt=je);return t&&jt.forEach(function(zn){return e(J,zn)}),$t&&qn(J,Nt),Dt}function Bt(J,W,at,xt){if(at==null)throw Error(m(151));for(var Dt=null,Yt=null,jt=W,Nt=W=0,je=null,Gt=at.next();jt!==null&&!Gt.done;Nt++,Gt=at.next()){jt.index>Nt?(je=jt,jt=null):je=jt.sibling;var zn=ft(J,jt,Gt.value,xt);if(zn===null){jt===null&&(jt=je);break}t&&jt&&zn.alternate===null&&e(J,jt),W=w(zn,W,Nt),Yt===null?Dt=zn:Yt.sibling=zn,Yt=zn,jt=je}if(Gt.done)return n(J,jt),$t&&qn(J,Nt),Dt;if(jt===null){for(;!Gt.done;Nt++,Gt=at.next())Gt=Ct(J,Gt.value,xt),Gt!==null&&(W=w(Gt,W,Nt),Yt===null?Dt=Gt:Yt.sibling=Gt,Yt=Gt);return $t&&qn(J,Nt),Dt}for(jt=p(jt);!Gt.done;Nt++,Gt=at.next())Gt=ht(jt,J,Nt,Gt.value,xt),Gt!==null&&(t&&Gt.alternate!==null&&jt.delete(Gt.key===null?Nt:Gt.key),W=w(Gt,W,Nt),Yt===null?Dt=Gt:Yt.sibling=Gt,Yt=Gt);return t&&jt.forEach(function(Bb){return e(J,Bb)}),$t&&qn(J,Nt),Dt}function re(J,W,at,xt){if(typeof at=="object"&&at!==null&&at.type===c&&at.key===null&&(at=at.props.children),typeof at=="object"&&at!==null){switch(at.$$typeof){case l:t:{for(var Dt=at.key;W!==null;){if(W.key===Dt){if(Dt=at.type,Dt===c){if(W.tag===7){n(J,W.sibling),xt=S(W,at.props.children),xt.return=J,J=xt;break t}}else if(W.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===z&&ag(Dt)===W.type){n(J,W.sibling),xt=S(W,at.props),Ka(xt,at),xt.return=J,J=xt;break t}n(J,W);break}else e(J,W);W=W.sibling}at.type===c?(xt=Wn(at.props.children,J.mode,xt,at.key),xt.return=J,J=xt):(xt=no(at.type,at.key,at.props,null,J.mode,xt),Ka(xt,at),xt.return=J,J=xt)}return R(J);case o:t:{for(Dt=at.key;W!==null;){if(W.key===Dt)if(W.tag===4&&W.stateNode.containerInfo===at.containerInfo&&W.stateNode.implementation===at.implementation){n(J,W.sibling),xt=S(W,at.children||[]),xt.return=J,J=xt;break t}else{n(J,W);break}else e(J,W);W=W.sibling}xt=xc(at,J.mode,xt),xt.return=J,J=xt}return R(J);case z:return Dt=at._init,at=Dt(at._payload),re(J,W,at,xt)}if(ut(at))return zt(J,W,at,xt);if(st(at)){if(Dt=st(at),typeof Dt!="function")throw Error(m(150));return at=Dt.call(at),Bt(J,W,at,xt)}if(typeof at.then=="function")return re(J,W,xo(at),xt);if(at.$$typeof===_)return re(J,W,oo(J,at),xt);Co(J,at)}return typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint"?(at=""+at,W!==null&&W.tag===6?(n(J,W.sibling),xt=S(W,at),xt.return=J,J=xt):(n(J,W),xt=Sc(at,J.mode,xt),xt.return=J,J=xt),R(J)):n(J,W)}return function(J,W,at,xt){try{qa=0;var Dt=re(J,W,at,xt);return Yr=null,Dt}catch(jt){if(jt===Ua||jt===co)throw jt;var Yt=ei(29,jt,null,J.mode);return Yt.lanes=xt,Yt.return=J,Yt}finally{}}}var Xr=sg(!0),og=sg(!1),vi=M(null),Mi=null;function _n(t){var e=t.alternate;X(De,De.current&1),X(vi,t),Mi===null&&(e===null||zr.current!==null||e.memoizedState!==null)&&(Mi=t)}function lg(t){if(t.tag===22){if(X(De,De.current),X(vi,t),Mi===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Mi=t)}}else wn()}function wn(){X(De,De.current),X(vi,vi.current)}function Ji(t){N(vi),Mi===t&&(Mi=null),N(De)}var De=M(0);function _o(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Xu(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function tu(t,e,n,p){e=t.memoizedState,n=n(p,e),n=n==null?e:g({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var eu={enqueueSetState:function(t,e,n){t=t._reactInternals;var p=ai(),S=Sn(p);S.payload=e,n!=null&&(S.callback=n),e=xn(t,S,p),e!==null&&(si(e,t,p),Ya(e,t,p))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var p=ai(),S=Sn(p);S.tag=1,S.payload=e,n!=null&&(S.callback=n),e=xn(t,S,p),e!==null&&(si(e,t,p),Ya(e,t,p))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ai(),p=Sn(n);p.tag=2,e!=null&&(p.callback=e),e=xn(t,p,n),e!==null&&(si(e,t,n),Ya(e,t,n))}};function cg(t,e,n,p,S,w,R){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(p,w,R):e.prototype&&e.prototype.isPureReactComponent?!Ma(n,p)||!Ma(S,w):!0}function ug(t,e,n,p){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,p),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,p),e.state!==t&&eu.enqueueReplaceState(e,e.state,null)}function ir(t,e){var n=e;if("ref"in e){n={};for(var p in e)p!=="ref"&&(n[p]=e[p])}if(t=t.defaultProps){n===e&&(n=g({},n));for(var S in t)n[S]===void 0&&(n[S]=t[S])}return n}var wo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function fg(t){wo(t)}function hg(t){console.error(t)}function dg(t){wo(t)}function To(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(p){setTimeout(function(){throw p})}}function gg(t,e,n){try{var p=t.onCaughtError;p(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function iu(t,e,n){return n=Sn(n),n.tag=3,n.payload={element:null},n.callback=function(){To(t,e)},n}function pg(t){return t=Sn(t),t.tag=3,t}function mg(t,e,n,p){var S=n.type.getDerivedStateFromError;if(typeof S=="function"){var w=p.value;t.payload=function(){return S(w)},t.callback=function(){gg(e,n,p)}}var R=n.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(t.callback=function(){gg(e,n,p),typeof S!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var j=p.stack;this.componentDidCatch(p.value,{componentStack:j!==null?j:""})})}function By(t,e,n,p,S){if(n.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(e=n.alternate,e!==null&&Na(e,n,S,!0),n=vi.current,n!==null){switch(n.tag){case 13:return Mi===null?Ou():n.alternate===null&&ye===0&&(ye=3),n.flags&=-257,n.flags|=65536,n.lanes=S,p===kc?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([p]):e.add(p),Au(t,p,S)),!1;case 22:return n.flags|=65536,p===kc?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([p])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([p]):n.add(p)),Au(t,p,S)),!1}throw Error(m(435,n.tag))}return Au(t,p,S),Ou(),!1}if($t)return e=vi.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=S,p!==wc&&(t=Error(m(422),{cause:p}),Ba(di(t,n)))):(p!==wc&&(e=Error(m(423),{cause:p}),Ba(di(e,n))),t=t.current.alternate,t.flags|=65536,S&=-S,t.lanes|=S,p=di(p,n),S=iu(t.stateNode,p,S),jc(t,S),ye!==4&&(ye=2)),!1;var w=Error(m(520),{cause:p});if(w=di(w,n),ns===null?ns=[w]:ns.push(w),ye!==4&&(ye=2),e===null)return!0;p=di(p,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=S&-S,n.lanes|=t,t=iu(n.stateNode,p,t),jc(n,t),!1;case 1:if(e=n.type,w=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Dn===null||!Dn.has(w))))return n.flags|=65536,S&=-S,n.lanes|=S,S=pg(S),mg(S,t,n,p),jc(n,S),!1}n=n.return}while(n!==null);return!1}var vg=Error(m(461)),Me=!1;function Be(t,e,n,p){e.child=t===null?og(e,null,n,p):Xr(e,t.child,n,p)}function yg(t,e,n,p,S){n=n.render;var w=e.ref;if("ref"in p){var R={};for(var j in p)j!=="ref"&&(R[j]=p[j])}else R=p;return Jn(e),p=Fc(t,e,n,R,w,S),j=Uc(),t!==null&&!Me?(Hc(t,e,S),tn(t,e,S)):($t&&j&&Cc(e),e.flags|=1,Be(t,e,p,S),e.child)}function bg(t,e,n,p,S){if(t===null){var w=n.type;return typeof w=="function"&&!bc(w)&&w.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=w,Sg(t,e,w,p,S)):(t=no(n.type,null,p,e,e.mode,S),t.ref=e.ref,t.return=e,e.child=t)}if(w=t.child,!uu(t,S)){var R=w.memoizedProps;if(n=n.compare,n=n!==null?n:Ma,n(R,p)&&t.ref===e.ref)return tn(t,e,S)}return e.flags|=1,t=Wi(w,p),t.ref=e.ref,t.return=e,e.child=t}function Sg(t,e,n,p,S){if(t!==null){var w=t.memoizedProps;if(Ma(w,p)&&t.ref===e.ref)if(Me=!1,e.pendingProps=p=w,uu(t,S))(t.flags&131072)!==0&&(Me=!0);else return e.lanes=t.lanes,tn(t,e,S)}return nu(t,e,n,p,S)}function xg(t,e,n){var p=e.pendingProps,S=p.children,w=t!==null?t.memoizedState:null;if(p.mode==="hidden"){if((e.flags&128)!==0){if(p=w!==null?w.baseLanes|n:n,t!==null){for(S=e.child=t.child,w=0;S!==null;)w=w|S.lanes|S.childLanes,S=S.sibling;e.childLanes=w&~p}else e.childLanes=0,e.child=null;return Cg(t,e,p,n)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&lo(e,w!==null?w.cachePool:null),w!==null?Sd(e,w):Bc(),lg(e);else return e.lanes=e.childLanes=536870912,Cg(t,e,w!==null?w.baseLanes|n:n,n)}else w!==null?(lo(e,w.cachePool),Sd(e,w),wn(),e.memoizedState=null):(t!==null&&lo(e,null),Bc(),wn());return Be(t,e,S,n),e.child}function Cg(t,e,n,p){var S=Dc();return S=S===null?null:{parent:Re._currentValue,pool:S},e.memoizedState={baseLanes:n,cachePool:S},t!==null&&lo(e,null),Bc(),lg(e),t!==null&&Na(t,e,p,!0),null}function Oo(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(m(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function nu(t,e,n,p,S){return Jn(e),n=Fc(t,e,n,p,void 0,S),p=Uc(),t!==null&&!Me?(Hc(t,e,S),tn(t,e,S)):($t&&p&&Cc(e),e.flags|=1,Be(t,e,n,S),e.child)}function _g(t,e,n,p,S,w){return Jn(e),e.updateQueue=null,n=Cd(e,p,n,S),xd(t),p=Uc(),t!==null&&!Me?(Hc(t,e,w),tn(t,e,w)):($t&&p&&Cc(e),e.flags|=1,Be(t,e,n,w),e.child)}function wg(t,e,n,p,S){if(Jn(e),e.stateNode===null){var w=Lr,R=n.contextType;typeof R=="object"&&R!==null&&(w=He(R)),w=new n(p,w),e.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=eu,e.stateNode=w,w._reactInternals=e,w=e.stateNode,w.props=p,w.state=e.memoizedState,w.refs={},Mc(e),R=n.contextType,w.context=typeof R=="object"&&R!==null?He(R):Lr,w.state=e.memoizedState,R=n.getDerivedStateFromProps,typeof R=="function"&&(tu(e,n,R,p),w.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(R=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),R!==w.state&&eu.enqueueReplaceState(w,w.state,null),Ia(e,p,w,S),Xa(),w.state=e.memoizedState),typeof w.componentDidMount=="function"&&(e.flags|=4194308),p=!0}else if(t===null){w=e.stateNode;var j=e.memoizedProps,V=ir(n,j);w.props=V;var lt=w.context,St=n.contextType;R=Lr,typeof St=="object"&&St!==null&&(R=He(St));var Ct=n.getDerivedStateFromProps;St=typeof Ct=="function"||typeof w.getSnapshotBeforeUpdate=="function",j=e.pendingProps!==j,St||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(j||lt!==R)&&ug(e,w,p,R),bn=!1;var ft=e.memoizedState;w.state=ft,Ia(e,p,w,S),Xa(),lt=e.memoizedState,j||ft!==lt||bn?(typeof Ct=="function"&&(tu(e,n,Ct,p),lt=e.memoizedState),(V=bn||cg(e,n,V,p,ft,lt,R))?(St||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(e.flags|=4194308)):(typeof w.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=p,e.memoizedState=lt),w.props=p,w.state=lt,w.context=R,p=V):(typeof w.componentDidMount=="function"&&(e.flags|=4194308),p=!1)}else{w=e.stateNode,Lc(t,e),R=e.memoizedProps,St=ir(n,R),w.props=St,Ct=e.pendingProps,ft=w.context,lt=n.contextType,V=Lr,typeof lt=="object"&&lt!==null&&(V=He(lt)),j=n.getDerivedStateFromProps,(lt=typeof j=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==Ct||ft!==V)&&ug(e,w,p,V),bn=!1,ft=e.memoizedState,w.state=ft,Ia(e,p,w,S),Xa();var ht=e.memoizedState;R!==Ct||ft!==ht||bn||t!==null&&t.dependencies!==null&&so(t.dependencies)?(typeof j=="function"&&(tu(e,n,j,p),ht=e.memoizedState),(St=bn||cg(e,n,St,p,ft,ht,V)||t!==null&&t.dependencies!==null&&so(t.dependencies))?(lt||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,ht,V),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,ht,V)),typeof w.componentDidUpdate=="function"&&(e.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===t.memoizedProps&&ft===t.memoizedState||(e.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===t.memoizedProps&&ft===t.memoizedState||(e.flags|=1024),e.memoizedProps=p,e.memoizedState=ht),w.props=p,w.state=ht,w.context=V,p=St):(typeof w.componentDidUpdate!="function"||R===t.memoizedProps&&ft===t.memoizedState||(e.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===t.memoizedProps&&ft===t.memoizedState||(e.flags|=1024),p=!1)}return w=p,Oo(t,e),p=(e.flags&128)!==0,w||p?(w=e.stateNode,n=p&&typeof n.getDerivedStateFromError!="function"?null:w.render(),e.flags|=1,t!==null&&p?(e.child=Xr(e,t.child,null,S),e.child=Xr(e,null,n,S)):Be(t,e,n,S),e.memoizedState=w.state,t=e.child):t=tn(t,e,S),t}function Tg(t,e,n,p){return Pa(),e.flags|=256,Be(t,e,n,p),e.child}var ru={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function au(t){return{baseLanes:t,cachePool:hd()}}function su(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=yi),t}function Og(t,e,n){var p=e.pendingProps,S=!1,w=(e.flags&128)!==0,R;if((R=w)||(R=t!==null&&t.memoizedState===null?!1:(De.current&2)!==0),R&&(S=!0,e.flags&=-129),R=(e.flags&32)!==0,e.flags&=-33,t===null){if($t){if(S?_n(e):wn(),$t){var j=ve,V;if(V=j){t:{for(V=j,j=ki;V.nodeType!==8;){if(!j){j=null;break t}if(V=Ei(V.nextSibling),V===null){j=null;break t}}j=V}j!==null?(e.memoizedState={dehydrated:j,treeContext:$n!==null?{id:$i,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},V=ei(18,null,null,0),V.stateNode=j,V.return=e,e.child=V,Ge=e,ve=null,V=!0):V=!1}V||Qn(e)}if(j=e.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return Xu(j)?e.lanes=32:e.lanes=536870912,null;Ji(e)}return j=p.children,p=p.fallback,S?(wn(),S=e.mode,j=Eo({mode:"hidden",children:j},S),p=Wn(p,S,n,null),j.return=e,p.return=e,j.sibling=p,e.child=j,S=e.child,S.memoizedState=au(n),S.childLanes=su(t,R,n),e.memoizedState=ru,p):(_n(e),ou(e,j))}if(V=t.memoizedState,V!==null&&(j=V.dehydrated,j!==null)){if(w)e.flags&256?(_n(e),e.flags&=-257,e=lu(t,e,n)):e.memoizedState!==null?(wn(),e.child=t.child,e.flags|=128,e=null):(wn(),S=p.fallback,j=e.mode,p=Eo({mode:"visible",children:p.children},j),S=Wn(S,j,n,null),S.flags|=2,p.return=e,S.return=e,p.sibling=S,e.child=p,Xr(e,t.child,null,n),p=e.child,p.memoizedState=au(n),p.childLanes=su(t,R,n),e.memoizedState=ru,e=S);else if(_n(e),Xu(j)){if(R=j.nextSibling&&j.nextSibling.dataset,R)var lt=R.dgst;R=lt,p=Error(m(419)),p.stack="",p.digest=R,Ba({value:p,source:null,stack:null}),e=lu(t,e,n)}else if(Me||Na(t,e,n,!1),R=(n&t.childLanes)!==0,Me||R){if(R=fe,R!==null&&(p=n&-n,p=(p&42)!==0?1:Je(p),p=(p&(R.suspendedLanes|n))!==0?0:p,p!==0&&p!==V.retryLane))throw V.retryLane=p,Mr(t,p),si(R,t,p),vg;j.data==="$?"||Ou(),e=lu(t,e,n)}else j.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=V.treeContext,ve=Ei(j.nextSibling),Ge=e,$t=!0,Kn=null,ki=!1,t!==null&&(pi[mi++]=$i,pi[mi++]=qi,pi[mi++]=$n,$i=t.id,qi=t.overflow,$n=e),e=ou(e,p.children),e.flags|=4096);return e}return S?(wn(),S=p.fallback,j=e.mode,V=t.child,lt=V.sibling,p=Wi(V,{mode:"hidden",children:p.children}),p.subtreeFlags=V.subtreeFlags&65011712,lt!==null?S=Wi(lt,S):(S=Wn(S,j,n,null),S.flags|=2),S.return=e,p.return=e,p.sibling=S,e.child=p,p=S,S=e.child,j=t.child.memoizedState,j===null?j=au(n):(V=j.cachePool,V!==null?(lt=Re._currentValue,V=V.parent!==lt?{parent:lt,pool:lt}:V):V=hd(),j={baseLanes:j.baseLanes|n,cachePool:V}),S.memoizedState=j,S.childLanes=su(t,R,n),e.memoizedState=ru,p):(_n(e),n=t.child,t=n.sibling,n=Wi(n,{mode:"visible",children:p.children}),n.return=e,n.sibling=null,t!==null&&(R=e.deletions,R===null?(e.deletions=[t],e.flags|=16):R.push(t)),e.child=n,e.memoizedState=null,n)}function ou(t,e){return e=Eo({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Eo(t,e){return t=ei(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function lu(t,e,n){return Xr(e,t.child,null,n),t=ou(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Eg(t,e,n){t.lanes|=e;var p=t.alternate;p!==null&&(p.lanes|=e),Oc(t.return,e,n)}function cu(t,e,n,p,S){var w=t.memoizedState;w===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:p,tail:n,tailMode:S}:(w.isBackwards=e,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=n,w.tailMode=S)}function Ag(t,e,n){var p=e.pendingProps,S=p.revealOrder,w=p.tail;if(Be(t,e,p.children,n),p=De.current,(p&2)!==0)p=p&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Eg(t,n,e);else if(t.tag===19)Eg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}p&=1}switch(X(De,p),S){case"forwards":for(n=e.child,S=null;n!==null;)t=n.alternate,t!==null&&_o(t)===null&&(S=n),n=n.sibling;n=S,n===null?(S=e.child,e.child=null):(S=n.sibling,n.sibling=null),cu(e,!1,S,n,w);break;case"backwards":for(n=null,S=e.child,e.child=null;S!==null;){if(t=S.alternate,t!==null&&_o(t)===null){e.child=S;break}t=S.sibling,S.sibling=n,n=S,S=t}cu(e,!0,n,null,w);break;case"together":cu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Rn|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(Na(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(m(153));if(e.child!==null){for(t=e.child,n=Wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function uu(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&so(t)))}function Ny(t,e,n){switch(e.tag){case 3:rt(e,e.stateNode.containerInfo),yn(e,Re,t.memoizedState.cache),Pa();break;case 27:case 5:pt(e);break;case 4:rt(e,e.stateNode.containerInfo);break;case 10:yn(e,e.type,e.memoizedProps.value);break;case 13:var p=e.memoizedState;if(p!==null)return p.dehydrated!==null?(_n(e),e.flags|=128,null):(n&e.child.childLanes)!==0?Og(t,e,n):(_n(e),t=tn(t,e,n),t!==null?t.sibling:null);_n(e);break;case 19:var S=(t.flags&128)!==0;if(p=(n&e.childLanes)!==0,p||(Na(t,e,n,!1),p=(n&e.childLanes)!==0),S){if(p)return Ag(t,e,n);e.flags|=128}if(S=e.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),X(De,De.current),p)break;return null;case 22:case 23:return e.lanes=0,xg(t,e,n);case 24:yn(e,Re,t.memoizedState.cache)}return tn(t,e,n)}function Rg(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Me=!0;else{if(!uu(t,n)&&(e.flags&128)===0)return Me=!1,Ny(t,e,n);Me=(t.flags&131072)!==0}else Me=!1,$t&&(e.flags&1048576)!==0&&ad(e,ao,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var p=e.elementType,S=p._init;if(p=S(p._payload),e.type=p,typeof p=="function")bc(p)?(t=ir(p,t),e.tag=1,e=wg(null,e,p,t,n)):(e.tag=0,e=nu(null,e,p,t,n));else{if(p!=null){if(S=p.$$typeof,S===T){e.tag=11,e=yg(null,e,p,t,n);break t}else if(S===k){e.tag=14,e=bg(null,e,p,t,n);break t}}throw e=$(p)||p,Error(m(306,e,""))}}return e;case 0:return nu(t,e,e.type,e.pendingProps,n);case 1:return p=e.type,S=ir(p,e.pendingProps),wg(t,e,p,S,n);case 3:t:{if(rt(e,e.stateNode.containerInfo),t===null)throw Error(m(387));p=e.pendingProps;var w=e.memoizedState;S=w.element,Lc(t,e),Ia(e,p,null,n);var R=e.memoizedState;if(p=R.cache,yn(e,Re,p),p!==w.cache&&Ec(e,[Re],n,!0),Xa(),p=R.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:R.cache},e.updateQueue.baseState=w,e.memoizedState=w,e.flags&256){e=Tg(t,e,p,n);break t}else if(p!==S){S=di(Error(m(424)),e),Ba(S),e=Tg(t,e,p,n);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ve=Ei(t.firstChild),Ge=e,$t=!0,Kn=null,ki=!0,n=og(e,null,p,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Pa(),p===S){e=tn(t,e,n);break t}Be(t,e,p,n)}e=e.child}return e;case 26:return Oo(t,e),t===null?(n=Lp(e.type,null,e.pendingProps,null))?e.memoizedState=n:$t||(n=e.type,t=e.pendingProps,p=Ho(H.current).createElement(n),p[Ue]=e,p[We]=t,ze(p,n,t),ke(p),e.stateNode=p):e.memoizedState=Lp(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return pt(e),t===null&&$t&&(p=e.stateNode=Dp(e.type,e.pendingProps,H.current),Ge=e,ki=!0,S=ve,Ln(e.type)?(Iu=S,ve=Ei(p.firstChild)):ve=S),Be(t,e,e.pendingProps.children,n),Oo(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&$t&&((S=p=ve)&&(p=fb(p,e.type,e.pendingProps,ki),p!==null?(e.stateNode=p,Ge=e,ve=Ei(p.firstChild),ki=!1,S=!0):S=!1),S||Qn(e)),pt(e),S=e.type,w=e.pendingProps,R=t!==null?t.memoizedProps:null,p=w.children,Uu(S,w)?p=null:R!==null&&Uu(S,R)&&(e.flags|=32),e.memoizedState!==null&&(S=Fc(t,e,Ry,null,null,n),hs._currentValue=S),Oo(t,e),Be(t,e,p,n),e.child;case 6:return t===null&&$t&&((t=n=ve)&&(n=hb(n,e.pendingProps,ki),n!==null?(e.stateNode=n,Ge=e,ve=null,t=!0):t=!1),t||Qn(e)),null;case 13:return Og(t,e,n);case 4:return rt(e,e.stateNode.containerInfo),p=e.pendingProps,t===null?e.child=Xr(e,null,p,n):Be(t,e,p,n),e.child;case 11:return yg(t,e,e.type,e.pendingProps,n);case 7:return Be(t,e,e.pendingProps,n),e.child;case 8:return Be(t,e,e.pendingProps.children,n),e.child;case 12:return Be(t,e,e.pendingProps.children,n),e.child;case 10:return p=e.pendingProps,yn(e,e.type,p.value),Be(t,e,p.children,n),e.child;case 9:return S=e.type._context,p=e.pendingProps.children,Jn(e),S=He(S),p=p(S),e.flags|=1,Be(t,e,p,n),e.child;case 14:return bg(t,e,e.type,e.pendingProps,n);case 15:return Sg(t,e,e.type,e.pendingProps,n);case 19:return Ag(t,e,n);case 31:return p=e.pendingProps,n=e.mode,p={mode:p.mode,children:p.children},t===null?(n=Eo(p,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Wi(t.child,p),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return xg(t,e,n);case 24:return Jn(e),p=He(Re),t===null?(S=Dc(),S===null&&(S=fe,w=Ac(),S.pooledCache=w,w.refCount++,w!==null&&(S.pooledCacheLanes|=n),S=w),e.memoizedState={parent:p,cache:S},Mc(e),yn(e,Re,S)):((t.lanes&n)!==0&&(Lc(t,e),Ia(e,null,null,n),Xa()),S=t.memoizedState,w=e.memoizedState,S.parent!==p?(S={parent:p,cache:p},e.memoizedState=S,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=S),yn(e,Re,p)):(p=w.cache,yn(e,Re,p),p!==S.cache&&Ec(e,[Re],n,!0))),Be(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(m(156,e.tag))}function en(t){t.flags|=4}function Dg(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!zp(e)){if(e=vi.current,e!==null&&((Vt&4194048)===Vt?Mi!==null:(Vt&62914560)!==Vt&&(Vt&536870912)===0||e!==Mi))throw Ha=kc,dd;t.flags|=8192}}function Ao(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?mr():536870912,t.lanes|=e,Wr|=e)}function Qa(t,e){if(!$t)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var p=null;n!==null;)n.alternate!==null&&(p=n),n=n.sibling;p===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:p.sibling=null}}function me(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,p=0;if(e)for(var S=t.child;S!==null;)n|=S.lanes|S.childLanes,p|=S.subtreeFlags&65011712,p|=S.flags&65011712,S.return=t,S=S.sibling;else for(S=t.child;S!==null;)n|=S.lanes|S.childLanes,p|=S.subtreeFlags,p|=S.flags,S.return=t,S=S.sibling;return t.subtreeFlags|=p,t.childLanes=n,e}function zy(t,e,n){var p=e.pendingProps;switch(_c(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(e),null;case 1:return me(e),null;case 3:return n=e.stateNode,p=null,t!==null&&(p=t.memoizedState.cache),e.memoizedState.cache!==p&&(e.flags|=2048),Qi(Re),et(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ja(e)?en(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,ld())),me(e),null;case 26:return n=e.memoizedState,t===null?(en(e),n!==null?(me(e),Dg(e,n)):(me(e),e.flags&=-16777217)):n?n!==t.memoizedState?(en(e),me(e),Dg(e,n)):(me(e),e.flags&=-16777217):(t.memoizedProps!==p&&en(e),me(e),e.flags&=-16777217),null;case 27:gt(e),n=H.current;var S=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==p&&en(e);else{if(!p){if(e.stateNode===null)throw Error(m(166));return me(e),null}t=L.current,ja(e)?sd(e):(t=Dp(S,p,n),e.stateNode=t,en(e))}return me(e),null;case 5:if(gt(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==p&&en(e);else{if(!p){if(e.stateNode===null)throw Error(m(166));return me(e),null}if(t=L.current,ja(e))sd(e);else{switch(S=Ho(H.current),t){case 1:t=S.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=S.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=S.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=S.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=S.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof p.is=="string"?S.createElement("select",{is:p.is}):S.createElement("select"),p.multiple?t.multiple=!0:p.size&&(t.size=p.size);break;default:t=typeof p.is=="string"?S.createElement(n,{is:p.is}):S.createElement(n)}}t[Ue]=e,t[We]=p;t:for(S=e.child;S!==null;){if(S.tag===5||S.tag===6)t.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break t;for(;S.sibling===null;){if(S.return===null||S.return===e)break t;S=S.return}S.sibling.return=S.return,S=S.sibling}e.stateNode=t;t:switch(ze(t,n,p),n){case"button":case"input":case"select":case"textarea":t=!!p.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&en(e)}}return me(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==p&&en(e);else{if(typeof p!="string"&&e.stateNode===null)throw Error(m(166));if(t=H.current,ja(e)){if(t=e.stateNode,n=e.memoizedProps,p=null,S=Ge,S!==null)switch(S.tag){case 27:case 5:p=S.memoizedProps}t[Ue]=e,t=!!(t.nodeValue===n||p!==null&&p.suppressHydrationWarning===!0||_p(t.nodeValue,n)),t||Qn(e)}else t=Ho(t).createTextNode(p),t[Ue]=e,e.stateNode=t}return me(e),null;case 13:if(p=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(S=ja(e),p!==null&&p.dehydrated!==null){if(t===null){if(!S)throw Error(m(318));if(S=e.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(m(317));S[Ue]=e}else Pa(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;me(e),S=!1}else S=ld(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=S),S=!0;if(!S)return e.flags&256?(Ji(e),e):(Ji(e),null)}if(Ji(e),(e.flags&128)!==0)return e.lanes=n,e;if(n=p!==null,t=t!==null&&t.memoizedState!==null,n){p=e.child,S=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(S=p.alternate.memoizedState.cachePool.pool);var w=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==S&&(p.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Ao(e,e.updateQueue),me(e),null;case 4:return et(),t===null&&Pu(e.stateNode.containerInfo),me(e),null;case 10:return Qi(e.type),me(e),null;case 19:if(N(De),S=e.memoizedState,S===null)return me(e),null;if(p=(e.flags&128)!==0,w=S.rendering,w===null)if(p)Qa(S,!1);else{if(ye!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(w=_o(t),w!==null){for(e.flags|=128,Qa(S,!1),t=w.updateQueue,e.updateQueue=t,Ao(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)rd(n,t),n=n.sibling;return X(De,De.current&1|2),e.child}t=t.sibling}S.tail!==null&&ct()>ko&&(e.flags|=128,p=!0,Qa(S,!1),e.lanes=4194304)}else{if(!p)if(t=_o(w),t!==null){if(e.flags|=128,p=!0,t=t.updateQueue,e.updateQueue=t,Ao(e,t),Qa(S,!0),S.tail===null&&S.tailMode==="hidden"&&!w.alternate&&!$t)return me(e),null}else 2*ct()-S.renderingStartTime>ko&&n!==536870912&&(e.flags|=128,p=!0,Qa(S,!1),e.lanes=4194304);S.isBackwards?(w.sibling=e.child,e.child=w):(t=S.last,t!==null?t.sibling=w:e.child=w,S.last=w)}return S.tail!==null?(e=S.tail,S.rendering=e,S.tail=e.sibling,S.renderingStartTime=ct(),e.sibling=null,t=De.current,X(De,p?t&1|2:t&1),e):(me(e),null);case 22:case 23:return Ji(e),Nc(),p=e.memoizedState!==null,t!==null?t.memoizedState!==null!==p&&(e.flags|=8192):p&&(e.flags|=8192),p?(n&536870912)!==0&&(e.flags&128)===0&&(me(e),e.subtreeFlags&6&&(e.flags|=8192)):me(e),n=e.updateQueue,n!==null&&Ao(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),p=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(p=e.memoizedState.cachePool.pool),p!==n&&(e.flags|=2048),t!==null&&N(tr),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Qi(Re),me(e),null;case 25:return null;case 30:return null}throw Error(m(156,e.tag))}function Fy(t,e){switch(_c(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qi(Re),et(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return gt(e),null;case 13:if(Ji(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(m(340));Pa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return N(De),null;case 4:return et(),null;case 10:return Qi(e.type),null;case 22:case 23:return Ji(e),Nc(),t!==null&&N(tr),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Qi(Re),null;case 25:return null;default:return null}}function kg(t,e){switch(_c(e),e.tag){case 3:Qi(Re),et();break;case 26:case 27:case 5:gt(e);break;case 4:et();break;case 13:Ji(e);break;case 19:N(De);break;case 10:Qi(e.type);break;case 22:case 23:Ji(e),Nc(),t!==null&&N(tr);break;case 24:Qi(Re)}}function Za(t,e){try{var n=e.updateQueue,p=n!==null?n.lastEffect:null;if(p!==null){var S=p.next;n=S;do{if((n.tag&t)===t){p=void 0;var w=n.create,R=n.inst;p=w(),R.destroy=p}n=n.next}while(n!==S)}}catch(j){oe(e,e.return,j)}}function Tn(t,e,n){try{var p=e.updateQueue,S=p!==null?p.lastEffect:null;if(S!==null){var w=S.next;p=w;do{if((p.tag&t)===t){var R=p.inst,j=R.destroy;if(j!==void 0){R.destroy=void 0,S=e;var V=n,lt=j;try{lt()}catch(St){oe(S,V,St)}}}p=p.next}while(p!==w)}}catch(St){oe(e,e.return,St)}}function Mg(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{bd(e,n)}catch(p){oe(t,t.return,p)}}}function Lg(t,e,n){n.props=ir(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(p){oe(t,e,p)}}function Ja(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var p=t.stateNode;break;case 30:p=t.stateNode;break;default:p=t.stateNode}typeof n=="function"?t.refCleanup=n(p):n.current=p}}catch(S){oe(t,e,S)}}function Li(t,e){var n=t.ref,p=t.refCleanup;if(n!==null)if(typeof p=="function")try{p()}catch(S){oe(t,e,S)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(S){oe(t,e,S)}else n.current=null}function jg(t){var e=t.type,n=t.memoizedProps,p=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&p.focus();break t;case"img":n.src?p.src=n.src:n.srcSet&&(p.srcset=n.srcSet)}}catch(S){oe(t,t.return,S)}}function fu(t,e,n){try{var p=t.stateNode;sb(p,t.type,n,e),p[We]=e}catch(S){oe(t,t.return,S)}}function Pg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ln(t.type)||t.tag===4}function hu(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Pg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ln(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function du(t,e,n){var p=t.tag;if(p===5||p===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uo));else if(p!==4&&(p===27&&Ln(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(du(t,e,n),t=t.sibling;t!==null;)du(t,e,n),t=t.sibling}function Ro(t,e,n){var p=t.tag;if(p===5||p===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(p!==4&&(p===27&&Ln(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Ro(t,e,n),t=t.sibling;t!==null;)Ro(t,e,n),t=t.sibling}function Bg(t){var e=t.stateNode,n=t.memoizedProps;try{for(var p=t.type,S=e.attributes;S.length;)e.removeAttributeNode(S[0]);ze(e,p,n),e[Ue]=t,e[We]=n}catch(w){oe(t,t.return,w)}}var nn=!1,_e=!1,gu=!1,Ng=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Uy(t,e){if(t=t.containerInfo,zu=Wo,t=$h(t),hc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var p=n.getSelection&&n.getSelection();if(p&&p.rangeCount!==0){n=p.anchorNode;var S=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{n.nodeType,w.nodeType}catch{n=null;break t}var R=0,j=-1,V=-1,lt=0,St=0,Ct=t,ft=null;e:for(;;){for(var ht;Ct!==n||S!==0&&Ct.nodeType!==3||(j=R+S),Ct!==w||p!==0&&Ct.nodeType!==3||(V=R+p),Ct.nodeType===3&&(R+=Ct.nodeValue.length),(ht=Ct.firstChild)!==null;)ft=Ct,Ct=ht;for(;;){if(Ct===t)break e;if(ft===n&&++lt===S&&(j=R),ft===w&&++St===p&&(V=R),(ht=Ct.nextSibling)!==null)break;Ct=ft,ft=Ct.parentNode}Ct=ht}n=j===-1||V===-1?null:{start:j,end:V}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fu={focusedElem:t,selectionRange:n},Wo=!1,Le=e;Le!==null;)if(e=Le,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Le=t;else for(;Le!==null;){switch(e=Le,w=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&w!==null){t=void 0,n=e,S=w.memoizedProps,w=w.memoizedState,p=n.stateNode;try{var zt=ir(n.type,S,n.elementType===n.type);t=p.getSnapshotBeforeUpdate(zt,w),p.__reactInternalSnapshotBeforeUpdate=t}catch(Bt){oe(n,n.return,Bt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Yu(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(m(163))}if(t=e.sibling,t!==null){t.return=e.return,Le=t;break}Le=e.return}}function zg(t,e,n){var p=n.flags;switch(n.tag){case 0:case 11:case 15:On(t,n),p&4&&Za(5,n);break;case 1:if(On(t,n),p&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(R){oe(n,n.return,R)}else{var S=ir(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(S,e,t.__reactInternalSnapshotBeforeUpdate)}catch(R){oe(n,n.return,R)}}p&64&&Mg(n),p&512&&Ja(n,n.return);break;case 3:if(On(t,n),p&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{bd(t,e)}catch(R){oe(n,n.return,R)}}break;case 27:e===null&&p&4&&Bg(n);case 26:case 5:On(t,n),e===null&&p&4&&jg(n),p&512&&Ja(n,n.return);break;case 12:On(t,n);break;case 13:On(t,n),p&4&&Hg(t,n),p&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=qy.bind(null,n),db(t,n))));break;case 22:if(p=n.memoizedState!==null||nn,!p){e=e!==null&&e.memoizedState!==null||_e,S=nn;var w=_e;nn=p,(_e=e)&&!w?En(t,n,(n.subtreeFlags&8772)!==0):On(t,n),nn=S,_e=w}break;case 30:break;default:On(t,n)}}function Fg(t){var e=t.alternate;e!==null&&(t.alternate=null,Fg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Wl(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var de=null,Ke=!1;function rn(t,e,n){for(n=n.child;n!==null;)Ug(t,e,n),n=n.sibling}function Ug(t,e,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Tt,n)}catch{}switch(n.tag){case 26:_e||Li(n,e),rn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:_e||Li(n,e);var p=de,S=Ke;Ln(n.type)&&(de=n.stateNode,Ke=!1),rn(t,e,n),ls(n.stateNode),de=p,Ke=S;break;case 5:_e||Li(n,e);case 6:if(p=de,S=Ke,de=null,rn(t,e,n),de=p,Ke=S,de!==null)if(Ke)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(n.stateNode)}catch(w){oe(n,e,w)}else try{de.removeChild(n.stateNode)}catch(w){oe(n,e,w)}break;case 18:de!==null&&(Ke?(t=de,Ap(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),ms(t)):Ap(de,n.stateNode));break;case 4:p=de,S=Ke,de=n.stateNode.containerInfo,Ke=!0,rn(t,e,n),de=p,Ke=S;break;case 0:case 11:case 14:case 15:_e||Tn(2,n,e),_e||Tn(4,n,e),rn(t,e,n);break;case 1:_e||(Li(n,e),p=n.stateNode,typeof p.componentWillUnmount=="function"&&Lg(n,e,p)),rn(t,e,n);break;case 21:rn(t,e,n);break;case 22:_e=(p=_e)||n.memoizedState!==null,rn(t,e,n),_e=p;break;default:rn(t,e,n)}}function Hg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ms(t)}catch(n){oe(e,e.return,n)}}function Hy(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Ng),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Ng),e;default:throw Error(m(435,t.tag))}}function pu(t,e){var n=Hy(t);e.forEach(function(p){var S=Ky.bind(null,t,p);n.has(p)||(n.add(p),p.then(S,S))})}function ii(t,e){var n=e.deletions;if(n!==null)for(var p=0;p<n.length;p++){var S=n[p],w=t,R=e,j=R;t:for(;j!==null;){switch(j.tag){case 27:if(Ln(j.type)){de=j.stateNode,Ke=!1;break t}break;case 5:de=j.stateNode,Ke=!1;break t;case 3:case 4:de=j.stateNode.containerInfo,Ke=!0;break t}j=j.return}if(de===null)throw Error(m(160));Ug(w,R,S),de=null,Ke=!1,w=S.alternate,w!==null&&(w.return=null),S.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Yg(e,t),e=e.sibling}var Oi=null;function Yg(t,e){var n=t.alternate,p=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ii(e,t),ni(t),p&4&&(Tn(3,t,t.return),Za(3,t),Tn(5,t,t.return));break;case 1:ii(e,t),ni(t),p&512&&(_e||n===null||Li(n,n.return)),p&64&&nn&&(t=t.updateQueue,t!==null&&(p=t.callbacks,p!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?p:n.concat(p))));break;case 26:var S=Oi;if(ii(e,t),ni(t),p&512&&(_e||n===null||Li(n,n.return)),p&4){var w=n!==null?n.memoizedState:null;if(p=t.memoizedState,n===null)if(p===null)if(t.stateNode===null){t:{p=t.type,n=t.memoizedProps,S=S.ownerDocument||S;e:switch(p){case"title":w=S.getElementsByTagName("title")[0],(!w||w[_a]||w[Ue]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=S.createElement(p),S.head.insertBefore(w,S.querySelector("head > title"))),ze(w,p,n),w[Ue]=t,ke(w),p=w;break t;case"link":var R=Bp("link","href",S).get(p+(n.href||""));if(R){for(var j=0;j<R.length;j++)if(w=R[j],w.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&w.getAttribute("rel")===(n.rel==null?null:n.rel)&&w.getAttribute("title")===(n.title==null?null:n.title)&&w.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){R.splice(j,1);break e}}w=S.createElement(p),ze(w,p,n),S.head.appendChild(w);break;case"meta":if(R=Bp("meta","content",S).get(p+(n.content||""))){for(j=0;j<R.length;j++)if(w=R[j],w.getAttribute("content")===(n.content==null?null:""+n.content)&&w.getAttribute("name")===(n.name==null?null:n.name)&&w.getAttribute("property")===(n.property==null?null:n.property)&&w.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&w.getAttribute("charset")===(n.charSet==null?null:n.charSet)){R.splice(j,1);break e}}w=S.createElement(p),ze(w,p,n),S.head.appendChild(w);break;default:throw Error(m(468,p))}w[Ue]=t,ke(w),p=w}t.stateNode=p}else Np(S,t.type,t.stateNode);else t.stateNode=Pp(S,p,t.memoizedProps);else w!==p?(w===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):w.count--,p===null?Np(S,t.type,t.stateNode):Pp(S,p,t.memoizedProps)):p===null&&t.stateNode!==null&&fu(t,t.memoizedProps,n.memoizedProps)}break;case 27:ii(e,t),ni(t),p&512&&(_e||n===null||Li(n,n.return)),n!==null&&p&4&&fu(t,t.memoizedProps,n.memoizedProps);break;case 5:if(ii(e,t),ni(t),p&512&&(_e||n===null||Li(n,n.return)),t.flags&32){S=t.stateNode;try{Tr(S,"")}catch(ht){oe(t,t.return,ht)}}p&4&&t.stateNode!=null&&(S=t.memoizedProps,fu(t,S,n!==null?n.memoizedProps:S)),p&1024&&(gu=!0);break;case 6:if(ii(e,t),ni(t),p&4){if(t.stateNode===null)throw Error(m(162));p=t.memoizedProps,n=t.stateNode;try{n.nodeValue=p}catch(ht){oe(t,t.return,ht)}}break;case 3:if(Io=null,S=Oi,Oi=Yo(e.containerInfo),ii(e,t),Oi=S,ni(t),p&4&&n!==null&&n.memoizedState.isDehydrated)try{ms(e.containerInfo)}catch(ht){oe(t,t.return,ht)}gu&&(gu=!1,Xg(t));break;case 4:p=Oi,Oi=Yo(t.stateNode.containerInfo),ii(e,t),ni(t),Oi=p;break;case 12:ii(e,t),ni(t);break;case 13:ii(e,t),ni(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(xu=ct()),p&4&&(p=t.updateQueue,p!==null&&(t.updateQueue=null,pu(t,p)));break;case 22:S=t.memoizedState!==null;var V=n!==null&&n.memoizedState!==null,lt=nn,St=_e;if(nn=lt||S,_e=St||V,ii(e,t),_e=St,nn=lt,ni(t),p&8192)t:for(e=t.stateNode,e._visibility=S?e._visibility&-2:e._visibility|1,S&&(n===null||V||nn||_e||nr(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){V=n=e;try{if(w=V.stateNode,S)R=w.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{j=V.stateNode;var Ct=V.memoizedProps.style,ft=Ct!=null&&Ct.hasOwnProperty("display")?Ct.display:null;j.style.display=ft==null||typeof ft=="boolean"?"":(""+ft).trim()}}catch(ht){oe(V,V.return,ht)}}}else if(e.tag===6){if(n===null){V=e;try{V.stateNode.nodeValue=S?"":V.memoizedProps}catch(ht){oe(V,V.return,ht)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}p&4&&(p=t.updateQueue,p!==null&&(n=p.retryQueue,n!==null&&(p.retryQueue=null,pu(t,n))));break;case 19:ii(e,t),ni(t),p&4&&(p=t.updateQueue,p!==null&&(t.updateQueue=null,pu(t,p)));break;case 30:break;case 21:break;default:ii(e,t),ni(t)}}function ni(t){var e=t.flags;if(e&2){try{for(var n,p=t.return;p!==null;){if(Pg(p)){n=p;break}p=p.return}if(n==null)throw Error(m(160));switch(n.tag){case 27:var S=n.stateNode,w=hu(t);Ro(t,w,S);break;case 5:var R=n.stateNode;n.flags&32&&(Tr(R,""),n.flags&=-33);var j=hu(t);Ro(t,j,R);break;case 3:case 4:var V=n.stateNode.containerInfo,lt=hu(t);du(t,lt,V);break;default:throw Error(m(161))}}catch(St){oe(t,t.return,St)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Xg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Xg(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function On(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)zg(t,e.alternate,e),e=e.sibling}function nr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Tn(4,e,e.return),nr(e);break;case 1:Li(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Lg(e,e.return,n),nr(e);break;case 27:ls(e.stateNode);case 26:case 5:Li(e,e.return),nr(e);break;case 22:e.memoizedState===null&&nr(e);break;case 30:nr(e);break;default:nr(e)}t=t.sibling}}function En(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var p=e.alternate,S=t,w=e,R=w.flags;switch(w.tag){case 0:case 11:case 15:En(S,w,n),Za(4,w);break;case 1:if(En(S,w,n),p=w,S=p.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(lt){oe(p,p.return,lt)}if(p=w,S=p.updateQueue,S!==null){var j=p.stateNode;try{var V=S.shared.hiddenCallbacks;if(V!==null)for(S.shared.hiddenCallbacks=null,S=0;S<V.length;S++)yd(V[S],j)}catch(lt){oe(p,p.return,lt)}}n&&R&64&&Mg(w),Ja(w,w.return);break;case 27:Bg(w);case 26:case 5:En(S,w,n),n&&p===null&&R&4&&jg(w),Ja(w,w.return);break;case 12:En(S,w,n);break;case 13:En(S,w,n),n&&R&4&&Hg(S,w);break;case 22:w.memoizedState===null&&En(S,w,n),Ja(w,w.return);break;case 30:break;default:En(S,w,n)}e=e.sibling}}function mu(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&za(n))}function vu(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&za(t))}function ji(t,e,n,p){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ig(t,e,n,p),e=e.sibling}function Ig(t,e,n,p){var S=e.flags;switch(e.tag){case 0:case 11:case 15:ji(t,e,n,p),S&2048&&Za(9,e);break;case 1:ji(t,e,n,p);break;case 3:ji(t,e,n,p),S&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&za(t)));break;case 12:if(S&2048){ji(t,e,n,p),t=e.stateNode;try{var w=e.memoizedProps,R=w.id,j=w.onPostCommit;typeof j=="function"&&j(R,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(V){oe(e,e.return,V)}}else ji(t,e,n,p);break;case 13:ji(t,e,n,p);break;case 23:break;case 22:w=e.stateNode,R=e.alternate,e.memoizedState!==null?w._visibility&2?ji(t,e,n,p):ts(t,e):w._visibility&2?ji(t,e,n,p):(w._visibility|=2,Ir(t,e,n,p,(e.subtreeFlags&10256)!==0)),S&2048&&mu(R,e);break;case 24:ji(t,e,n,p),S&2048&&vu(e.alternate,e);break;default:ji(t,e,n,p)}}function Ir(t,e,n,p,S){for(S=S&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var w=t,R=e,j=n,V=p,lt=R.flags;switch(R.tag){case 0:case 11:case 15:Ir(w,R,j,V,S),Za(8,R);break;case 23:break;case 22:var St=R.stateNode;R.memoizedState!==null?St._visibility&2?Ir(w,R,j,V,S):ts(w,R):(St._visibility|=2,Ir(w,R,j,V,S)),S&&lt&2048&&mu(R.alternate,R);break;case 24:Ir(w,R,j,V,S),S&&lt&2048&&vu(R.alternate,R);break;default:Ir(w,R,j,V,S)}e=e.sibling}}function ts(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,p=e,S=p.flags;switch(p.tag){case 22:ts(n,p),S&2048&&mu(p.alternate,p);break;case 24:ts(n,p),S&2048&&vu(p.alternate,p);break;default:ts(n,p)}e=e.sibling}}var es=8192;function Vr(t){if(t.subtreeFlags&es)for(t=t.child;t!==null;)Vg(t),t=t.sibling}function Vg(t){switch(t.tag){case 26:Vr(t),t.flags&es&&t.memoizedState!==null&&Ob(Oi,t.memoizedState,t.memoizedProps);break;case 5:Vr(t);break;case 3:case 4:var e=Oi;Oi=Yo(t.stateNode.containerInfo),Vr(t),Oi=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=es,es=16777216,Vr(t),es=e):Vr(t));break;default:Vr(t)}}function Gg(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function is(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var p=e[n];Le=p,$g(p,t)}Gg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wg(t),t=t.sibling}function Wg(t){switch(t.tag){case 0:case 11:case 15:is(t),t.flags&2048&&Tn(9,t,t.return);break;case 3:is(t);break;case 12:is(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Do(t)):is(t);break;default:is(t)}}function Do(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var p=e[n];Le=p,$g(p,t)}Gg(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Tn(8,e,e.return),Do(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Do(e));break;default:Do(e)}t=t.sibling}}function $g(t,e){for(;Le!==null;){var n=Le;switch(n.tag){case 0:case 11:case 15:Tn(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var p=n.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:za(n.memoizedState.cache)}if(p=n.child,p!==null)p.return=n,Le=p;else t:for(n=t;Le!==null;){p=Le;var S=p.sibling,w=p.return;if(Fg(p),p===n){Le=null;break t}if(S!==null){S.return=w,Le=S;break t}Le=w}}}var Yy={getCacheForType:function(t){var e=He(Re),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},Xy=typeof WeakMap=="function"?WeakMap:Map,Jt=0,fe=null,Xt=null,Vt=0,te=0,ri=null,An=!1,Gr=!1,yu=!1,an=0,ye=0,Rn=0,rr=0,bu=0,yi=0,Wr=0,ns=null,Qe=null,Su=!1,xu=0,ko=1/0,Mo=null,Dn=null,Ne=0,kn=null,$r=null,qr=0,Cu=0,_u=null,qg=null,rs=0,wu=null;function ai(){if((Jt&2)!==0&&Vt!==0)return Vt&-Vt;if(U.T!==null){var t=Br;return t!==0?t:ku()}return fh()}function Kg(){yi===0&&(yi=(Vt&536870912)===0||$t?pr():536870912);var t=vi.current;return t!==null&&(t.flags|=32),yi}function si(t,e,n){(t===fe&&(te===2||te===9)||t.cancelPendingCommit!==null)&&(Kr(t,0),Mn(t,Vt,yi,!1)),ue(t,n),((Jt&2)===0||t!==fe)&&(t===fe&&((Jt&2)===0&&(rr|=n),ye===4&&Mn(t,Vt,yi,!1)),Pi(t))}function Qg(t,e,n){if((Jt&6)!==0)throw Error(m(327));var p=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Ii(t,e),S=p?Gy(t,e):Eu(t,e,!0),w=p;do{if(S===0){Gr&&!p&&Mn(t,e,0,!1);break}else{if(n=t.current.alternate,w&&!Iy(n)){S=Eu(t,e,!1),w=!1;continue}if(S===2){if(w=e,t.errorRecoveryDisabledLanes&w)var R=0;else R=t.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){e=R;t:{var j=t;S=ns;var V=j.current.memoizedState.isDehydrated;if(V&&(Kr(j,R).flags|=256),R=Eu(j,R,!1),R!==2){if(yu&&!V){j.errorRecoveryDisabledLanes|=w,rr|=w,S=4;break t}w=Qe,Qe=S,w!==null&&(Qe===null?Qe=w:Qe.push.apply(Qe,w))}S=R}if(w=!1,S!==2)continue}}if(S===1){Kr(t,0),Mn(t,e,0,!0);break}t:{switch(p=t,w=S,w){case 0:case 1:throw Error(m(345));case 4:if((e&4194048)!==e)break;case 6:Mn(p,e,yi,!An);break t;case 2:Qe=null;break;case 3:case 5:break;default:throw Error(m(329))}if((e&62914560)===e&&(S=xu+300-ct(),10<S)){if(Mn(p,e,yi,!An),pn(p,0,!0)!==0)break t;p.timeoutHandle=Op(Zg.bind(null,p,n,Qe,Mo,Su,e,yi,rr,Wr,An,w,2,-0,0),S);break t}Zg(p,n,Qe,Mo,Su,e,yi,rr,Wr,An,w,0,-0,0)}}break}while(!0);Pi(t)}function Zg(t,e,n,p,S,w,R,j,V,lt,St,Ct,ft,ht){if(t.timeoutHandle=-1,Ct=e.subtreeFlags,(Ct&8192||(Ct&16785408)===16785408)&&(fs={stylesheets:null,count:0,unsuspend:Tb},Vg(e),Ct=Eb(),Ct!==null)){t.cancelPendingCommit=Ct(ap.bind(null,t,e,w,n,p,S,R,j,V,St,1,ft,ht)),Mn(t,w,R,!lt);return}ap(t,e,w,n,p,S,R,j,V)}function Iy(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var p=0;p<n.length;p++){var S=n[p],w=S.getSnapshot;S=S.value;try{if(!ti(w(),S))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mn(t,e,n,p){e&=~bu,e&=~rr,t.suspendedLanes|=e,t.pingedLanes&=~e,p&&(t.warmLanes|=e),p=t.expirationTimes;for(var S=e;0<S;){var w=31-Ot(S),R=1<<w;p[w]=-1,S&=~R}n!==0&&vr(t,n,e)}function Lo(){return(Jt&6)===0?(as(0),!1):!0}function Tu(){if(Xt!==null){if(te===0)var t=Xt.return;else t=Xt,Ki=Zn=null,Yc(t),Yr=null,qa=0,t=Xt;for(;t!==null;)kg(t.alternate,t),t=t.return;Xt=null}}function Kr(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,lb(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Tu(),fe=t,Xt=n=Wi(t.current,null),Vt=e,te=0,ri=null,An=!1,Gr=Ii(t,e),yu=!1,Wr=yi=bu=rr=Rn=ye=0,Qe=ns=null,Su=!1,(e&8)!==0&&(e|=e&32);var p=t.entangledLanes;if(p!==0)for(t=t.entanglements,p&=e;0<p;){var S=31-Ot(p),w=1<<S;e|=t[S],p&=~w}return an=e,to(),n}function Jg(t,e){Ht=null,U.H=So,e===Ua||e===co?(e=md(),te=3):e===dd?(e=md(),te=4):te=e===vg?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ri=e,Xt===null&&(ye=1,To(t,di(e,t.current)))}function tp(){var t=U.H;return U.H=So,t===null?So:t}function ep(){var t=U.A;return U.A=Yy,t}function Ou(){ye=4,An||(Vt&4194048)!==Vt&&vi.current!==null||(Gr=!0),(Rn&134217727)===0&&(rr&134217727)===0||fe===null||Mn(fe,Vt,yi,!1)}function Eu(t,e,n){var p=Jt;Jt|=2;var S=tp(),w=ep();(fe!==t||Vt!==e)&&(Mo=null,Kr(t,e)),e=!1;var R=ye;t:do try{if(te!==0&&Xt!==null){var j=Xt,V=ri;switch(te){case 8:Tu(),R=6;break t;case 3:case 2:case 9:case 6:vi.current===null&&(e=!0);var lt=te;if(te=0,ri=null,Qr(t,j,V,lt),n&&Gr){R=0;break t}break;default:lt=te,te=0,ri=null,Qr(t,j,V,lt)}}Vy(),R=ye;break}catch(St){Jg(t,St)}while(!0);return e&&t.shellSuspendCounter++,Ki=Zn=null,Jt=p,U.H=S,U.A=w,Xt===null&&(fe=null,Vt=0,to()),R}function Vy(){for(;Xt!==null;)ip(Xt)}function Gy(t,e){var n=Jt;Jt|=2;var p=tp(),S=ep();fe!==t||Vt!==e?(Mo=null,ko=ct()+500,Kr(t,e)):Gr=Ii(t,e);t:do try{if(te!==0&&Xt!==null){e=Xt;var w=ri;e:switch(te){case 1:te=0,ri=null,Qr(t,e,w,1);break;case 2:case 9:if(gd(w)){te=0,ri=null,np(e);break}e=function(){te!==2&&te!==9||fe!==t||(te=7),Pi(t)},w.then(e,e);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:gd(w)?(te=0,ri=null,np(e)):(te=0,ri=null,Qr(t,e,w,7));break;case 5:var R=null;switch(Xt.tag){case 26:R=Xt.memoizedState;case 5:case 27:var j=Xt;if(!R||zp(R)){te=0,ri=null;var V=j.sibling;if(V!==null)Xt=V;else{var lt=j.return;lt!==null?(Xt=lt,jo(lt)):Xt=null}break e}}te=0,ri=null,Qr(t,e,w,5);break;case 6:te=0,ri=null,Qr(t,e,w,6);break;case 8:Tu(),ye=6;break t;default:throw Error(m(462))}}Wy();break}catch(St){Jg(t,St)}while(!0);return Ki=Zn=null,U.H=p,U.A=S,Jt=n,Xt!==null?0:(fe=null,Vt=0,to(),ye)}function Wy(){for(;Xt!==null&&!dt();)ip(Xt)}function ip(t){var e=Rg(t.alternate,t,an);t.memoizedProps=t.pendingProps,e===null?jo(t):Xt=e}function np(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=_g(n,e,e.pendingProps,e.type,void 0,Vt);break;case 11:e=_g(n,e,e.pendingProps,e.type.render,e.ref,Vt);break;case 5:Yc(e);default:kg(n,e),e=Xt=rd(e,an),e=Rg(n,e,an)}t.memoizedProps=t.pendingProps,e===null?jo(t):Xt=e}function Qr(t,e,n,p){Ki=Zn=null,Yc(e),Yr=null,qa=0;var S=e.return;try{if(By(t,S,e,n,Vt)){ye=1,To(t,di(n,t.current)),Xt=null;return}}catch(w){if(S!==null)throw Xt=S,w;ye=1,To(t,di(n,t.current)),Xt=null;return}e.flags&32768?($t||p===1?t=!0:Gr||(Vt&536870912)!==0?t=!1:(An=t=!0,(p===2||p===9||p===3||p===6)&&(p=vi.current,p!==null&&p.tag===13&&(p.flags|=16384))),rp(e,t)):jo(e)}function jo(t){var e=t;do{if((e.flags&32768)!==0){rp(e,An);return}t=e.return;var n=zy(e.alternate,e,an);if(n!==null){Xt=n;return}if(e=e.sibling,e!==null){Xt=e;return}Xt=e=t}while(e!==null);ye===0&&(ye=5)}function rp(t,e){do{var n=Fy(t.alternate,t);if(n!==null){n.flags&=32767,Xt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Xt=t;return}Xt=t=n}while(t!==null);ye=6,Xt=null}function ap(t,e,n,p,S,w,R,j,V){t.cancelPendingCommit=null;do Po();while(Ne!==0);if((Jt&6)!==0)throw Error(m(327));if(e!==null){if(e===t.current)throw Error(m(177));if(w=e.lanes|e.childLanes,w|=vc,Ae(t,n,w,R,j,V),t===fe&&(Xt=fe=null,Vt=0),$r=e,kn=t,qr=n,Cu=w,_u=S,qg=p,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Qy(At,function(){return up(),null})):(t.callbackNode=null,t.callbackPriority=0),p=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||p){p=U.T,U.T=null,S=tt.p,tt.p=2,R=Jt,Jt|=4;try{Uy(t,e,n)}finally{Jt=R,tt.p=S,U.T=p}}Ne=1,sp(),op(),lp()}}function sp(){if(Ne===1){Ne=0;var t=kn,e=$r,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=U.T,U.T=null;var p=tt.p;tt.p=2;var S=Jt;Jt|=4;try{Yg(e,t);var w=Fu,R=$h(t.containerInfo),j=w.focusedElem,V=w.selectionRange;if(R!==j&&j&&j.ownerDocument&&Wh(j.ownerDocument.documentElement,j)){if(V!==null&&hc(j)){var lt=V.start,St=V.end;if(St===void 0&&(St=lt),"selectionStart"in j)j.selectionStart=lt,j.selectionEnd=Math.min(St,j.value.length);else{var Ct=j.ownerDocument||document,ft=Ct&&Ct.defaultView||window;if(ft.getSelection){var ht=ft.getSelection(),zt=j.textContent.length,Bt=Math.min(V.start,zt),re=V.end===void 0?Bt:Math.min(V.end,zt);!ht.extend&&Bt>re&&(R=re,re=Bt,Bt=R);var J=Gh(j,Bt),W=Gh(j,re);if(J&&W&&(ht.rangeCount!==1||ht.anchorNode!==J.node||ht.anchorOffset!==J.offset||ht.focusNode!==W.node||ht.focusOffset!==W.offset)){var at=Ct.createRange();at.setStart(J.node,J.offset),ht.removeAllRanges(),Bt>re?(ht.addRange(at),ht.extend(W.node,W.offset)):(at.setEnd(W.node,W.offset),ht.addRange(at))}}}}for(Ct=[],ht=j;ht=ht.parentNode;)ht.nodeType===1&&Ct.push({element:ht,left:ht.scrollLeft,top:ht.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<Ct.length;j++){var xt=Ct[j];xt.element.scrollLeft=xt.left,xt.element.scrollTop=xt.top}}Wo=!!zu,Fu=zu=null}finally{Jt=S,tt.p=p,U.T=n}}t.current=e,Ne=2}}function op(){if(Ne===2){Ne=0;var t=kn,e=$r,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=U.T,U.T=null;var p=tt.p;tt.p=2;var S=Jt;Jt|=4;try{zg(t,e.alternate,e)}finally{Jt=S,tt.p=p,U.T=n}}Ne=3}}function lp(){if(Ne===4||Ne===3){Ne=0,mt();var t=kn,e=$r,n=qr,p=qg;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ne=5:(Ne=0,$r=kn=null,cp(t,t.pendingLanes));var S=t.pendingLanes;if(S===0&&(Dn=null),Vl(n),e=e.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Tt,e,void 0,(e.current.flags&128)===128)}catch{}if(p!==null){e=U.T,S=tt.p,tt.p=2,U.T=null;try{for(var w=t.onRecoverableError,R=0;R<p.length;R++){var j=p[R];w(j.value,{componentStack:j.stack})}}finally{U.T=e,tt.p=S}}(qr&3)!==0&&Po(),Pi(t),S=t.pendingLanes,(n&4194090)!==0&&(S&42)!==0?t===wu?rs++:(rs=0,wu=t):rs=0,as(0)}}function cp(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,za(e)))}function Po(t){return sp(),op(),lp(),up()}function up(){if(Ne!==5)return!1;var t=kn,e=Cu;Cu=0;var n=Vl(qr),p=U.T,S=tt.p;try{tt.p=32>n?32:n,U.T=null,n=_u,_u=null;var w=kn,R=qr;if(Ne=0,$r=kn=null,qr=0,(Jt&6)!==0)throw Error(m(331));var j=Jt;if(Jt|=4,Wg(w.current),Ig(w,w.current,R,n),Jt=j,as(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Tt,w)}catch{}return!0}finally{tt.p=S,U.T=p,cp(t,e)}}function fp(t,e,n){e=di(n,e),e=iu(t.stateNode,e,2),t=xn(t,e,2),t!==null&&(ue(t,2),Pi(t))}function oe(t,e,n){if(t.tag===3)fp(t,t,n);else for(;e!==null;){if(e.tag===3){fp(e,t,n);break}else if(e.tag===1){var p=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Dn===null||!Dn.has(p))){t=di(n,t),n=pg(2),p=xn(e,n,2),p!==null&&(mg(n,p,e,t),ue(p,2),Pi(p));break}}e=e.return}}function Au(t,e,n){var p=t.pingCache;if(p===null){p=t.pingCache=new Xy;var S=new Set;p.set(e,S)}else S=p.get(e),S===void 0&&(S=new Set,p.set(e,S));S.has(n)||(yu=!0,S.add(n),t=$y.bind(null,t,e,n),e.then(t,t))}function $y(t,e,n){var p=t.pingCache;p!==null&&p.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,fe===t&&(Vt&n)===n&&(ye===4||ye===3&&(Vt&62914560)===Vt&&300>ct()-xu?(Jt&2)===0&&Kr(t,0):bu|=n,Wr===Vt&&(Wr=0)),Pi(t)}function hp(t,e){e===0&&(e=mr()),t=Mr(t,e),t!==null&&(ue(t,e),Pi(t))}function qy(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hp(t,n)}function Ky(t,e){var n=0;switch(t.tag){case 13:var p=t.stateNode,S=t.memoizedState;S!==null&&(n=S.retryLane);break;case 19:p=t.stateNode;break;case 22:p=t.stateNode._retryCache;break;default:throw Error(m(314))}p!==null&&p.delete(e),hp(t,n)}function Qy(t,e){return it(t,e)}var Bo=null,Zr=null,Ru=!1,No=!1,Du=!1,ar=0;function Pi(t){t!==Zr&&t.next===null&&(Zr===null?Bo=Zr=t:Zr=Zr.next=t),No=!0,Ru||(Ru=!0,Jy())}function as(t,e){if(!Du&&No){Du=!0;do for(var n=!1,p=Bo;p!==null;){if(t!==0){var S=p.pendingLanes;if(S===0)var w=0;else{var R=p.suspendedLanes,j=p.pingedLanes;w=(1<<31-Ot(42|t)+1)-1,w&=S&~(R&~j),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(n=!0,mp(p,w))}else w=Vt,w=pn(p,p===fe?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||Ii(p,w)||(n=!0,mp(p,w));p=p.next}while(n);Du=!1}}function Zy(){dp()}function dp(){No=Ru=!1;var t=0;ar!==0&&(ob()&&(t=ar),ar=0);for(var e=ct(),n=null,p=Bo;p!==null;){var S=p.next,w=gp(p,e);w===0?(p.next=null,n===null?Bo=S:n.next=S,S===null&&(Zr=n)):(n=p,(t!==0||(w&3)!==0)&&(No=!0)),p=S}as(t)}function gp(t,e){for(var n=t.suspendedLanes,p=t.pingedLanes,S=t.expirationTimes,w=t.pendingLanes&-62914561;0<w;){var R=31-Ot(w),j=1<<R,V=S[R];V===-1?((j&n)===0||(j&p)!==0)&&(S[R]=Il(j,e)):V<=e&&(t.expiredLanes|=j),w&=~j}if(e=fe,n=Vt,n=pn(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),p=t.callbackNode,n===0||t===e&&(te===2||te===9)||t.cancelPendingCommit!==null)return p!==null&&p!==null&&K(p),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||Ii(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(p!==null&&K(p),Vl(n)){case 2:case 8:n=kt;break;case 32:n=At;break;case 268435456:n=Rt;break;default:n=At}return p=pp.bind(null,t),n=it(n,p),t.callbackPriority=e,t.callbackNode=n,e}return p!==null&&p!==null&&K(p),t.callbackPriority=2,t.callbackNode=null,2}function pp(t,e){if(Ne!==0&&Ne!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Po()&&t.callbackNode!==n)return null;var p=Vt;return p=pn(t,t===fe?p:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),p===0?null:(Qg(t,p,e),gp(t,ct()),t.callbackNode!=null&&t.callbackNode===n?pp.bind(null,t):null)}function mp(t,e){if(Po())return null;Qg(t,e,!0)}function Jy(){cb(function(){(Jt&6)!==0?it(_t,Zy):dp()})}function ku(){return ar===0&&(ar=pr()),ar}function vp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ws(""+t)}function yp(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function tb(t,e,n,p,S){if(e==="submit"&&n&&n.stateNode===S){var w=vp((S[We]||null).action),R=p.submitter;R&&(e=(e=R[We]||null)?vp(e.formAction):R.getAttribute("formAction"),e!==null&&(w=e,R=null));var j=new Qs("action","action",null,p,S);t.push({event:j,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ar!==0){var V=R?yp(S,R):new FormData(S);Qc(n,{pending:!0,data:V,method:S.method,action:w},null,V)}}else typeof w=="function"&&(j.preventDefault(),V=R?yp(S,R):new FormData(S),Qc(n,{pending:!0,data:V,method:S.method,action:w},w,V))},currentTarget:S}]})}}for(var Mu=0;Mu<mc.length;Mu++){var Lu=mc[Mu],eb=Lu.toLowerCase(),ib=Lu[0].toUpperCase()+Lu.slice(1);Ti(eb,"on"+ib)}Ti(Qh,"onAnimationEnd"),Ti(Zh,"onAnimationIteration"),Ti(Jh,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(by,"onTransitionRun"),Ti(Sy,"onTransitionStart"),Ti(xy,"onTransitionCancel"),Ti(td,"onTransitionEnd"),Cr("onMouseEnter",["mouseout","mouseover"]),Cr("onMouseLeave",["mouseout","mouseover"]),Cr("onPointerEnter",["pointerout","pointerover"]),Cr("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ss));function bp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var p=t[n],S=p.event;p=p.listeners;t:{var w=void 0;if(e)for(var R=p.length-1;0<=R;R--){var j=p[R],V=j.instance,lt=j.currentTarget;if(j=j.listener,V!==w&&S.isPropagationStopped())break t;w=j,S.currentTarget=lt;try{w(S)}catch(St){wo(St)}S.currentTarget=null,w=V}else for(R=0;R<p.length;R++){if(j=p[R],V=j.instance,lt=j.currentTarget,j=j.listener,V!==w&&S.isPropagationStopped())break t;w=j,S.currentTarget=lt;try{w(S)}catch(St){wo(St)}S.currentTarget=null,w=V}}}}function It(t,e){var n=e[Gl];n===void 0&&(n=e[Gl]=new Set);var p=t+"__bubble";n.has(p)||(Sp(e,t,2,!1),n.add(p))}function ju(t,e,n){var p=0;e&&(p|=4),Sp(n,t,p,e)}var zo="_reactListening"+Math.random().toString(36).slice(2);function Pu(t){if(!t[zo]){t[zo]=!0,dh.forEach(function(n){n!=="selectionchange"&&(nb.has(n)||ju(n,!1,t),ju(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zo]||(e[zo]=!0,ju("selectionchange",!1,e))}}function Sp(t,e,n,p){switch(Ip(e)){case 2:var S=Db;break;case 8:S=kb;break;default:S=qu}n=S.bind(null,e,n,t),S=void 0,!nc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(S=!0),p?S!==void 0?t.addEventListener(e,n,{capture:!0,passive:S}):t.addEventListener(e,n,!0):S!==void 0?t.addEventListener(e,n,{passive:S}):t.addEventListener(e,n,!1)}function Bu(t,e,n,p,S){var w=p;if((e&1)===0&&(e&2)===0&&p!==null)t:for(;;){if(p===null)return;var R=p.tag;if(R===3||R===4){var j=p.stateNode.containerInfo;if(j===S)break;if(R===4)for(R=p.return;R!==null;){var V=R.tag;if((V===3||V===4)&&R.stateNode.containerInfo===S)return;R=R.return}for(;j!==null;){if(R=br(j),R===null)return;if(V=R.tag,V===5||V===6||V===26||V===27){p=w=R;continue t}j=j.parentNode}}p=p.return}Eh(function(){var lt=w,St=ec(n),Ct=[];t:{var ft=ed.get(t);if(ft!==void 0){var ht=Qs,zt=t;switch(t){case"keypress":if(qs(n)===0)break t;case"keydown":case"keyup":ht=Q0;break;case"focusin":zt="focus",ht=oc;break;case"focusout":zt="blur",ht=oc;break;case"beforeblur":case"afterblur":ht=oc;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=Dh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=F0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=ty;break;case Qh:case Zh:case Jh:ht=Y0;break;case td:ht=iy;break;case"scroll":case"scrollend":ht=N0;break;case"wheel":ht=ry;break;case"copy":case"cut":case"paste":ht=I0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=Mh;break;case"toggle":case"beforetoggle":ht=sy}var Bt=(e&4)!==0,re=!Bt&&(t==="scroll"||t==="scrollend"),J=Bt?ft!==null?ft+"Capture":null:ft;Bt=[];for(var W=lt,at;W!==null;){var xt=W;if(at=xt.stateNode,xt=xt.tag,xt!==5&&xt!==26&&xt!==27||at===null||J===null||(xt=Ta(W,J),xt!=null&&Bt.push(os(W,xt,at))),re)break;W=W.return}0<Bt.length&&(ft=new ht(ft,zt,null,n,St),Ct.push({event:ft,listeners:Bt}))}}if((e&7)===0){t:{if(ft=t==="mouseover"||t==="pointerover",ht=t==="mouseout"||t==="pointerout",ft&&n!==tc&&(zt=n.relatedTarget||n.fromElement)&&(br(zt)||zt[yr]))break t;if((ht||ft)&&(ft=St.window===St?St:(ft=St.ownerDocument)?ft.defaultView||ft.parentWindow:window,ht?(zt=n.relatedTarget||n.toElement,ht=lt,zt=zt?br(zt):null,zt!==null&&(re=C(zt),Bt=zt.tag,zt!==re||Bt!==5&&Bt!==27&&Bt!==6)&&(zt=null)):(ht=null,zt=lt),ht!==zt)){if(Bt=Dh,xt="onMouseLeave",J="onMouseEnter",W="mouse",(t==="pointerout"||t==="pointerover")&&(Bt=Mh,xt="onPointerLeave",J="onPointerEnter",W="pointer"),re=ht==null?ft:wa(ht),at=zt==null?ft:wa(zt),ft=new Bt(xt,W+"leave",ht,n,St),ft.target=re,ft.relatedTarget=at,xt=null,br(St)===lt&&(Bt=new Bt(J,W+"enter",zt,n,St),Bt.target=at,Bt.relatedTarget=re,xt=Bt),re=xt,ht&&zt)e:{for(Bt=ht,J=zt,W=0,at=Bt;at;at=Jr(at))W++;for(at=0,xt=J;xt;xt=Jr(xt))at++;for(;0<W-at;)Bt=Jr(Bt),W--;for(;0<at-W;)J=Jr(J),at--;for(;W--;){if(Bt===J||J!==null&&Bt===J.alternate)break e;Bt=Jr(Bt),J=Jr(J)}Bt=null}else Bt=null;ht!==null&&xp(Ct,ft,ht,Bt,!1),zt!==null&&re!==null&&xp(Ct,re,zt,Bt,!0)}}t:{if(ft=lt?wa(lt):window,ht=ft.nodeName&&ft.nodeName.toLowerCase(),ht==="select"||ht==="input"&&ft.type==="file")var Dt=Uh;else if(zh(ft))if(Hh)Dt=my;else{Dt=gy;var Yt=dy}else ht=ft.nodeName,!ht||ht.toLowerCase()!=="input"||ft.type!=="checkbox"&&ft.type!=="radio"?lt&&Jl(lt.elementType)&&(Dt=Uh):Dt=py;if(Dt&&(Dt=Dt(t,lt))){Fh(Ct,Dt,n,St);break t}Yt&&Yt(t,ft,lt),t==="focusout"&&lt&&ft.type==="number"&&lt.memoizedProps.value!=null&&Zl(ft,"number",ft.value)}switch(Yt=lt?wa(lt):window,t){case"focusin":(zh(Yt)||Yt.contentEditable==="true")&&(Rr=Yt,dc=lt,La=null);break;case"focusout":La=dc=Rr=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,qh(Ct,n,St);break;case"selectionchange":if(yy)break;case"keydown":case"keyup":qh(Ct,n,St)}var jt;if(cc)t:{switch(t){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else Ar?Bh(t,n)&&(Nt="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Nt="onCompositionStart");Nt&&(Lh&&n.locale!=="ko"&&(Ar||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Ar&&(jt=Ah()):(vn=St,rc="value"in vn?vn.value:vn.textContent,Ar=!0)),Yt=Fo(lt,Nt),0<Yt.length&&(Nt=new kh(Nt,t,null,n,St),Ct.push({event:Nt,listeners:Yt}),jt?Nt.data=jt:(jt=Nh(n),jt!==null&&(Nt.data=jt)))),(jt=ly?cy(t,n):uy(t,n))&&(Nt=Fo(lt,"onBeforeInput"),0<Nt.length&&(Yt=new kh("onBeforeInput","beforeinput",null,n,St),Ct.push({event:Yt,listeners:Nt}),Yt.data=jt)),tb(Ct,t,lt,n,St)}bp(Ct,e)})}function os(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fo(t,e){for(var n=e+"Capture",p=[];t!==null;){var S=t,w=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||w===null||(S=Ta(t,n),S!=null&&p.unshift(os(t,S,w)),S=Ta(t,e),S!=null&&p.push(os(t,S,w))),t.tag===3)return p;t=t.return}return[]}function Jr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xp(t,e,n,p,S){for(var w=e._reactName,R=[];n!==null&&n!==p;){var j=n,V=j.alternate,lt=j.stateNode;if(j=j.tag,V!==null&&V===p)break;j!==5&&j!==26&&j!==27||lt===null||(V=lt,S?(lt=Ta(n,w),lt!=null&&R.unshift(os(n,lt,V))):S||(lt=Ta(n,w),lt!=null&&R.push(os(n,lt,V)))),n=n.return}R.length!==0&&t.push({event:e,listeners:R})}var rb=/\r\n?/g,ab=/\u0000|\uFFFD/g;function Cp(t){return(typeof t=="string"?t:""+t).replace(rb,`
`).replace(ab,"")}function _p(t,e){return e=Cp(e),Cp(t)===e}function Uo(){}function ne(t,e,n,p,S,w){switch(n){case"children":typeof p=="string"?e==="body"||e==="textarea"&&p===""||Tr(t,p):(typeof p=="number"||typeof p=="bigint")&&e!=="body"&&Tr(t,""+p);break;case"className":Is(t,"class",p);break;case"tabIndex":Is(t,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Is(t,n,p);break;case"style":Th(t,p,w);break;case"data":if(e!=="object"){Is(t,"data",p);break}case"src":case"href":if(p===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){t.removeAttribute(n);break}p=Ws(""+p),t.setAttribute(n,p);break;case"action":case"formAction":if(typeof p=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(n==="formAction"?(e!=="input"&&ne(t,e,"name",S.name,S,null),ne(t,e,"formEncType",S.formEncType,S,null),ne(t,e,"formMethod",S.formMethod,S,null),ne(t,e,"formTarget",S.formTarget,S,null)):(ne(t,e,"encType",S.encType,S,null),ne(t,e,"method",S.method,S,null),ne(t,e,"target",S.target,S,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){t.removeAttribute(n);break}p=Ws(""+p),t.setAttribute(n,p);break;case"onClick":p!=null&&(t.onclick=Uo);break;case"onScroll":p!=null&&It("scroll",t);break;case"onScrollEnd":p!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(m(61));if(n=p.__html,n!=null){if(S.children!=null)throw Error(m(60));t.innerHTML=n}}break;case"multiple":t.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":t.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){t.removeAttribute("xlink:href");break}n=Ws(""+p),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?t.setAttribute(n,""+p):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":p===!0?t.setAttribute(n,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?t.setAttribute(n,p):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?t.setAttribute(n,p):t.removeAttribute(n);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?t.removeAttribute(n):t.setAttribute(n,p);break;case"popover":It("beforetoggle",t),It("toggle",t),Xs(t,"popover",p);break;case"xlinkActuate":Vi(t,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Vi(t,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Vi(t,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Vi(t,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Vi(t,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Vi(t,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Vi(t,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Vi(t,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Vi(t,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Xs(t,"is",p);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=P0.get(n)||n,Xs(t,n,p))}}function Nu(t,e,n,p,S,w){switch(n){case"style":Th(t,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(m(61));if(n=p.__html,n!=null){if(S.children!=null)throw Error(m(60));t.innerHTML=n}}break;case"children":typeof p=="string"?Tr(t,p):(typeof p=="number"||typeof p=="bigint")&&Tr(t,""+p);break;case"onScroll":p!=null&&It("scroll",t);break;case"onScrollEnd":p!=null&&It("scrollend",t);break;case"onClick":p!=null&&(t.onclick=Uo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gh.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(S=n.endsWith("Capture"),e=n.slice(2,S?n.length-7:void 0),w=t[We]||null,w=w!=null?w[n]:null,typeof w=="function"&&t.removeEventListener(e,w,S),typeof p=="function")){typeof w!="function"&&w!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,p,S);break t}n in t?t[n]=p:p===!0?t.setAttribute(n,""):Xs(t,n,p)}}}function ze(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var p=!1,S=!1,w;for(w in n)if(n.hasOwnProperty(w)){var R=n[w];if(R!=null)switch(w){case"src":p=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(m(137,e));default:ne(t,e,w,R,n,null)}}S&&ne(t,e,"srcSet",n.srcSet,n,null),p&&ne(t,e,"src",n.src,n,null);return;case"input":It("invalid",t);var j=w=R=S=null,V=null,lt=null;for(p in n)if(n.hasOwnProperty(p)){var St=n[p];if(St!=null)switch(p){case"name":S=St;break;case"type":R=St;break;case"checked":V=St;break;case"defaultChecked":lt=St;break;case"value":w=St;break;case"defaultValue":j=St;break;case"children":case"dangerouslySetInnerHTML":if(St!=null)throw Error(m(137,e));break;default:ne(t,e,p,St,n,null)}}xh(t,w,j,V,lt,R,S,!1),Vs(t);return;case"select":It("invalid",t),p=R=w=null;for(S in n)if(n.hasOwnProperty(S)&&(j=n[S],j!=null))switch(S){case"value":w=j;break;case"defaultValue":R=j;break;case"multiple":p=j;default:ne(t,e,S,j,n,null)}e=w,n=R,t.multiple=!!p,e!=null?wr(t,!!p,e,!1):n!=null&&wr(t,!!p,n,!0);return;case"textarea":It("invalid",t),w=S=p=null;for(R in n)if(n.hasOwnProperty(R)&&(j=n[R],j!=null))switch(R){case"value":p=j;break;case"defaultValue":S=j;break;case"children":w=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(m(91));break;default:ne(t,e,R,j,n,null)}_h(t,p,S,w),Vs(t);return;case"option":for(V in n)if(n.hasOwnProperty(V)&&(p=n[V],p!=null))switch(V){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:ne(t,e,V,p,n,null)}return;case"dialog":It("beforetoggle",t),It("toggle",t),It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(p=0;p<ss.length;p++)It(ss[p],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(lt in n)if(n.hasOwnProperty(lt)&&(p=n[lt],p!=null))switch(lt){case"children":case"dangerouslySetInnerHTML":throw Error(m(137,e));default:ne(t,e,lt,p,n,null)}return;default:if(Jl(e)){for(St in n)n.hasOwnProperty(St)&&(p=n[St],p!==void 0&&Nu(t,e,St,p,n,void 0));return}}for(j in n)n.hasOwnProperty(j)&&(p=n[j],p!=null&&ne(t,e,j,p,n,null))}function sb(t,e,n,p){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,w=null,R=null,j=null,V=null,lt=null,St=null;for(ht in n){var Ct=n[ht];if(n.hasOwnProperty(ht)&&Ct!=null)switch(ht){case"checked":break;case"value":break;case"defaultValue":V=Ct;default:p.hasOwnProperty(ht)||ne(t,e,ht,null,p,Ct)}}for(var ft in p){var ht=p[ft];if(Ct=n[ft],p.hasOwnProperty(ft)&&(ht!=null||Ct!=null))switch(ft){case"type":w=ht;break;case"name":S=ht;break;case"checked":lt=ht;break;case"defaultChecked":St=ht;break;case"value":R=ht;break;case"defaultValue":j=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(m(137,e));break;default:ht!==Ct&&ne(t,e,ft,ht,p,Ct)}}Ql(t,R,j,V,lt,St,w,S);return;case"select":ht=R=j=ft=null;for(w in n)if(V=n[w],n.hasOwnProperty(w)&&V!=null)switch(w){case"value":break;case"multiple":ht=V;default:p.hasOwnProperty(w)||ne(t,e,w,null,p,V)}for(S in p)if(w=p[S],V=n[S],p.hasOwnProperty(S)&&(w!=null||V!=null))switch(S){case"value":ft=w;break;case"defaultValue":j=w;break;case"multiple":R=w;default:w!==V&&ne(t,e,S,w,p,V)}e=j,n=R,p=ht,ft!=null?wr(t,!!n,ft,!1):!!p!=!!n&&(e!=null?wr(t,!!n,e,!0):wr(t,!!n,n?[]:"",!1));return;case"textarea":ht=ft=null;for(j in n)if(S=n[j],n.hasOwnProperty(j)&&S!=null&&!p.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:ne(t,e,j,null,p,S)}for(R in p)if(S=p[R],w=n[R],p.hasOwnProperty(R)&&(S!=null||w!=null))switch(R){case"value":ft=S;break;case"defaultValue":ht=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(m(91));break;default:S!==w&&ne(t,e,R,S,p,w)}Ch(t,ft,ht);return;case"option":for(var zt in n)if(ft=n[zt],n.hasOwnProperty(zt)&&ft!=null&&!p.hasOwnProperty(zt))switch(zt){case"selected":t.selected=!1;break;default:ne(t,e,zt,null,p,ft)}for(V in p)if(ft=p[V],ht=n[V],p.hasOwnProperty(V)&&ft!==ht&&(ft!=null||ht!=null))switch(V){case"selected":t.selected=ft&&typeof ft!="function"&&typeof ft!="symbol";break;default:ne(t,e,V,ft,p,ht)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in n)ft=n[Bt],n.hasOwnProperty(Bt)&&ft!=null&&!p.hasOwnProperty(Bt)&&ne(t,e,Bt,null,p,ft);for(lt in p)if(ft=p[lt],ht=n[lt],p.hasOwnProperty(lt)&&ft!==ht&&(ft!=null||ht!=null))switch(lt){case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(m(137,e));break;default:ne(t,e,lt,ft,p,ht)}return;default:if(Jl(e)){for(var re in n)ft=n[re],n.hasOwnProperty(re)&&ft!==void 0&&!p.hasOwnProperty(re)&&Nu(t,e,re,void 0,p,ft);for(St in p)ft=p[St],ht=n[St],!p.hasOwnProperty(St)||ft===ht||ft===void 0&&ht===void 0||Nu(t,e,St,ft,p,ht);return}}for(var J in n)ft=n[J],n.hasOwnProperty(J)&&ft!=null&&!p.hasOwnProperty(J)&&ne(t,e,J,null,p,ft);for(Ct in p)ft=p[Ct],ht=n[Ct],!p.hasOwnProperty(Ct)||ft===ht||ft==null&&ht==null||ne(t,e,Ct,ft,p,ht)}var zu=null,Fu=null;function Ho(t){return t.nodeType===9?t:t.ownerDocument}function wp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tp(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Uu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hu=null;function ob(){var t=window.event;return t&&t.type==="popstate"?t===Hu?!1:(Hu=t,!0):(Hu=null,!1)}var Op=typeof setTimeout=="function"?setTimeout:void 0,lb=typeof clearTimeout=="function"?clearTimeout:void 0,Ep=typeof Promise=="function"?Promise:void 0,cb=typeof queueMicrotask=="function"?queueMicrotask:typeof Ep<"u"?function(t){return Ep.resolve(null).then(t).catch(ub)}:Op;function ub(t){setTimeout(function(){throw t})}function Ln(t){return t==="head"}function Ap(t,e){var n=e,p=0,S=0;do{var w=n.nextSibling;if(t.removeChild(n),w&&w.nodeType===8)if(n=w.data,n==="/$"){if(0<p&&8>p){n=p;var R=t.ownerDocument;if(n&1&&ls(R.documentElement),n&2&&ls(R.body),n&4)for(n=R.head,ls(n),R=n.firstChild;R;){var j=R.nextSibling,V=R.nodeName;R[_a]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&R.rel.toLowerCase()==="stylesheet"||n.removeChild(R),R=j}}if(S===0){t.removeChild(w),ms(e);return}S--}else n==="$"||n==="$?"||n==="$!"?S++:p=n.charCodeAt(0)-48;else p=0;n=w}while(n);ms(e)}function Yu(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Yu(n),Wl(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function fb(t,e,n,p){for(;t.nodeType===1;){var S=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!p&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(p){if(!t[_a])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(w=t.getAttribute("rel"),w==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(w!==S.rel||t.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||t.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||t.getAttribute("title")!==(S.title==null?null:S.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(w=t.getAttribute("src"),(w!==(S.src==null?null:S.src)||t.getAttribute("type")!==(S.type==null?null:S.type)||t.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&w&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var w=S.name==null?null:""+S.name;if(S.type==="hidden"&&t.getAttribute("name")===w)return t}else return t;if(t=Ei(t.nextSibling),t===null)break}return null}function hb(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ei(t.nextSibling),t===null))return null;return t}function Xu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function db(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var p=function(){e(),n.removeEventListener("DOMContentLoaded",p)};n.addEventListener("DOMContentLoaded",p),t._reactRetry=p}}function Ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Iu=null;function Rp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function Dp(t,e,n){switch(e=Ho(n),t){case"html":if(t=e.documentElement,!t)throw Error(m(452));return t;case"head":if(t=e.head,!t)throw Error(m(453));return t;case"body":if(t=e.body,!t)throw Error(m(454));return t;default:throw Error(m(451))}}function ls(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Wl(t)}var bi=new Map,kp=new Set;function Yo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var sn=tt.d;tt.d={f:gb,r:pb,D:mb,C:vb,L:yb,m:bb,X:xb,S:Sb,M:Cb};function gb(){var t=sn.f(),e=Lo();return t||e}function pb(t){var e=Sr(t);e!==null&&e.tag===5&&e.type==="form"?Qd(e):sn.r(t)}var ta=typeof document>"u"?null:document;function Mp(t,e,n){var p=ta;if(p&&typeof e=="string"&&e){var S=hi(e);S='link[rel="'+t+'"][href="'+S+'"]',typeof n=="string"&&(S+='[crossorigin="'+n+'"]'),kp.has(S)||(kp.add(S),t={rel:t,crossOrigin:n,href:e},p.querySelector(S)===null&&(e=p.createElement("link"),ze(e,"link",t),ke(e),p.head.appendChild(e)))}}function mb(t){sn.D(t),Mp("dns-prefetch",t,null)}function vb(t,e){sn.C(t,e),Mp("preconnect",t,e)}function yb(t,e,n){sn.L(t,e,n);var p=ta;if(p&&t&&e){var S='link[rel="preload"][as="'+hi(e)+'"]';e==="image"&&n&&n.imageSrcSet?(S+='[imagesrcset="'+hi(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(S+='[imagesizes="'+hi(n.imageSizes)+'"]')):S+='[href="'+hi(t)+'"]';var w=S;switch(e){case"style":w=ea(t);break;case"script":w=ia(t)}bi.has(w)||(t=g({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),bi.set(w,t),p.querySelector(S)!==null||e==="style"&&p.querySelector(cs(w))||e==="script"&&p.querySelector(us(w))||(e=p.createElement("link"),ze(e,"link",t),ke(e),p.head.appendChild(e)))}}function bb(t,e){sn.m(t,e);var n=ta;if(n&&t){var p=e&&typeof e.as=="string"?e.as:"script",S='link[rel="modulepreload"][as="'+hi(p)+'"][href="'+hi(t)+'"]',w=S;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=ia(t)}if(!bi.has(w)&&(t=g({rel:"modulepreload",href:t},e),bi.set(w,t),n.querySelector(S)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(us(w)))return}p=n.createElement("link"),ze(p,"link",t),ke(p),n.head.appendChild(p)}}}function Sb(t,e,n){sn.S(t,e,n);var p=ta;if(p&&t){var S=xr(p).hoistableStyles,w=ea(t);e=e||"default";var R=S.get(w);if(!R){var j={loading:0,preload:null};if(R=p.querySelector(cs(w)))j.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":e},n),(n=bi.get(w))&&Vu(t,n);var V=R=p.createElement("link");ke(V),ze(V,"link",t),V._p=new Promise(function(lt,St){V.onload=lt,V.onerror=St}),V.addEventListener("load",function(){j.loading|=1}),V.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Xo(R,e,p)}R={type:"stylesheet",instance:R,count:1,state:j},S.set(w,R)}}}function xb(t,e){sn.X(t,e);var n=ta;if(n&&t){var p=xr(n).hoistableScripts,S=ia(t),w=p.get(S);w||(w=n.querySelector(us(S)),w||(t=g({src:t,async:!0},e),(e=bi.get(S))&&Gu(t,e),w=n.createElement("script"),ke(w),ze(w,"link",t),n.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(S,w))}}function Cb(t,e){sn.M(t,e);var n=ta;if(n&&t){var p=xr(n).hoistableScripts,S=ia(t),w=p.get(S);w||(w=n.querySelector(us(S)),w||(t=g({src:t,async:!0,type:"module"},e),(e=bi.get(S))&&Gu(t,e),w=n.createElement("script"),ke(w),ze(w,"link",t),n.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(S,w))}}function Lp(t,e,n,p){var S=(S=H.current)?Yo(S):null;if(!S)throw Error(m(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=ea(n.href),n=xr(S).hoistableStyles,p=n.get(e),p||(p={type:"style",instance:null,count:0,state:null},n.set(e,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=ea(n.href);var w=xr(S).hoistableStyles,R=w.get(t);if(R||(S=S.ownerDocument||S,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(t,R),(w=S.querySelector(cs(t)))&&!w._p&&(R.instance=w,R.state.loading=5),bi.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},bi.set(t,n),w||_b(S,t,n,R.state))),e&&p===null)throw Error(m(528,""));return R}if(e&&p!==null)throw Error(m(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ia(n),n=xr(S).hoistableScripts,p=n.get(e),p||(p={type:"script",instance:null,count:0,state:null},n.set(e,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(m(444,t))}}function ea(t){return'href="'+hi(t)+'"'}function cs(t){return'link[rel="stylesheet"]['+t+"]"}function jp(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function _b(t,e,n,p){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?p.loading=1:(e=t.createElement("link"),p.preload=e,e.addEventListener("load",function(){return p.loading|=1}),e.addEventListener("error",function(){return p.loading|=2}),ze(e,"link",n),ke(e),t.head.appendChild(e))}function ia(t){return'[src="'+hi(t)+'"]'}function us(t){return"script[async]"+t}function Pp(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var p=t.querySelector('style[data-href~="'+hi(n.href)+'"]');if(p)return e.instance=p,ke(p),p;var S=g({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return p=(t.ownerDocument||t).createElement("style"),ke(p),ze(p,"style",S),Xo(p,n.precedence,t),e.instance=p;case"stylesheet":S=ea(n.href);var w=t.querySelector(cs(S));if(w)return e.state.loading|=4,e.instance=w,ke(w),w;p=jp(n),(S=bi.get(S))&&Vu(p,S),w=(t.ownerDocument||t).createElement("link"),ke(w);var R=w;return R._p=new Promise(function(j,V){R.onload=j,R.onerror=V}),ze(w,"link",p),e.state.loading|=4,Xo(w,n.precedence,t),e.instance=w;case"script":return w=ia(n.src),(S=t.querySelector(us(w)))?(e.instance=S,ke(S),S):(p=n,(S=bi.get(w))&&(p=g({},n),Gu(p,S)),t=t.ownerDocument||t,S=t.createElement("script"),ke(S),ze(S,"link",p),t.head.appendChild(S),e.instance=S);case"void":return null;default:throw Error(m(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(p=e.instance,e.state.loading|=4,Xo(p,n.precedence,t));return e.instance}function Xo(t,e,n){for(var p=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=p.length?p[p.length-1]:null,w=S,R=0;R<p.length;R++){var j=p[R];if(j.dataset.precedence===e)w=j;else if(w!==S)break}w?w.parentNode.insertBefore(t,w.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Vu(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Gu(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Io=null;function Bp(t,e,n){if(Io===null){var p=new Map,S=Io=new Map;S.set(n,p)}else S=Io,p=S.get(n),p||(p=new Map,S.set(n,p));if(p.has(t))return p;for(p.set(t,null),n=n.getElementsByTagName(t),S=0;S<n.length;S++){var w=n[S];if(!(w[_a]||w[Ue]||t==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var R=w.getAttribute(e)||"";R=t+R;var j=p.get(R);j?j.push(w):p.set(R,[w])}}return p}function Np(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function wb(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function zp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var fs=null;function Tb(){}function Ob(t,e,n){if(fs===null)throw Error(m(475));var p=fs;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var S=ea(n.href),w=t.querySelector(cs(S));if(w){t=w._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(p.count++,p=Vo.bind(p),t.then(p,p)),e.state.loading|=4,e.instance=w,ke(w);return}w=t.ownerDocument||t,n=jp(n),(S=bi.get(S))&&Vu(n,S),w=w.createElement("link"),ke(w);var R=w;R._p=new Promise(function(j,V){R.onload=j,R.onerror=V}),ze(w,"link",n),e.instance=w}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(p.count++,e=Vo.bind(p),t.addEventListener("load",e),t.addEventListener("error",e))}}function Eb(){if(fs===null)throw Error(m(475));var t=fs;return t.stylesheets&&t.count===0&&Wu(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Wu(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Vo(){if(this.count--,this.count===0){if(this.stylesheets)Wu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Go=null;function Wu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Go=new Map,e.forEach(Ab,t),Go=null,Vo.call(t))}function Ab(t,e){if(!(e.state.loading&4)){var n=Go.get(t);if(n)var p=n.get(null);else{n=new Map,Go.set(t,n);for(var S=t.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<S.length;w++){var R=S[w];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(n.set(R.dataset.precedence,R),p=R)}p&&n.set(null,p)}S=e.instance,R=S.getAttribute("data-precedence"),w=n.get(R)||p,w===p&&n.set(null,S),n.set(R,S),this.count++,p=Vo.bind(this),S.addEventListener("load",p),S.addEventListener("error",p),w?w.parentNode.insertBefore(S,w.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(S,t.firstChild)),e.state.loading|=4}}var hs={$$typeof:_,Provider:null,Consumer:null,_currentValue:nt,_currentValue2:nt,_threadCount:0};function Rb(t,e,n,p,S,w,R,j){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ca(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ca(0),this.hiddenUpdates=Ca(null),this.identifierPrefix=p,this.onUncaughtError=S,this.onCaughtError=w,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Fp(t,e,n,p,S,w,R,j,V,lt,St,Ct){return t=new Rb(t,e,n,R,j,V,lt,Ct),e=1,w===!0&&(e|=24),w=ei(3,null,null,e),t.current=w,w.stateNode=t,e=Ac(),e.refCount++,t.pooledCache=e,e.refCount++,w.memoizedState={element:p,isDehydrated:n,cache:e},Mc(w),t}function Up(t){return t?(t=Lr,t):Lr}function Hp(t,e,n,p,S,w){S=Up(S),p.context===null?p.context=S:p.pendingContext=S,p=Sn(e),p.payload={element:n},w=w===void 0?null:w,w!==null&&(p.callback=w),n=xn(t,p,e),n!==null&&(si(n,t,e),Ya(n,t,e))}function Yp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $u(t,e){Yp(t,e),(t=t.alternate)&&Yp(t,e)}function Xp(t){if(t.tag===13){var e=Mr(t,67108864);e!==null&&si(e,t,67108864),$u(t,67108864)}}var Wo=!0;function Db(t,e,n,p){var S=U.T;U.T=null;var w=tt.p;try{tt.p=2,qu(t,e,n,p)}finally{tt.p=w,U.T=S}}function kb(t,e,n,p){var S=U.T;U.T=null;var w=tt.p;try{tt.p=8,qu(t,e,n,p)}finally{tt.p=w,U.T=S}}function qu(t,e,n,p){if(Wo){var S=Ku(p);if(S===null)Bu(t,e,p,$o,n),Vp(t,p);else if(Lb(S,t,e,n,p))p.stopPropagation();else if(Vp(t,p),e&4&&-1<Mb.indexOf(t)){for(;S!==null;){var w=Sr(S);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var R=Ve(w.pendingLanes);if(R!==0){var j=w;for(j.pendingLanes|=2,j.entangledLanes|=2;R;){var V=1<<31-Ot(R);j.entanglements[1]|=V,R&=~V}Pi(w),(Jt&6)===0&&(ko=ct()+500,as(0))}}break;case 13:j=Mr(w,2),j!==null&&si(j,w,2),Lo(),$u(w,2)}if(w=Ku(p),w===null&&Bu(t,e,p,$o,n),w===S)break;S=w}S!==null&&p.stopPropagation()}else Bu(t,e,p,null,n)}}function Ku(t){return t=ec(t),Qu(t)}var $o=null;function Qu(t){if($o=null,t=br(t),t!==null){var e=C(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=O(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return $o=t,null}function Ip(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case _t:return 2;case kt:return 8;case At:case ot:return 32;case Rt:return 268435456;default:return 32}default:return 32}}var Zu=!1,jn=null,Pn=null,Bn=null,ds=new Map,gs=new Map,Nn=[],Mb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vp(t,e){switch(t){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":ds.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(e.pointerId)}}function ps(t,e,n,p,S,w){return t===null||t.nativeEvent!==w?(t={blockedOn:e,domEventName:n,eventSystemFlags:p,nativeEvent:w,targetContainers:[S]},e!==null&&(e=Sr(e),e!==null&&Xp(e)),t):(t.eventSystemFlags|=p,e=t.targetContainers,S!==null&&e.indexOf(S)===-1&&e.push(S),t)}function Lb(t,e,n,p,S){switch(e){case"focusin":return jn=ps(jn,t,e,n,p,S),!0;case"dragenter":return Pn=ps(Pn,t,e,n,p,S),!0;case"mouseover":return Bn=ps(Bn,t,e,n,p,S),!0;case"pointerover":var w=S.pointerId;return ds.set(w,ps(ds.get(w)||null,t,e,n,p,S)),!0;case"gotpointercapture":return w=S.pointerId,gs.set(w,ps(gs.get(w)||null,t,e,n,p,S)),!0}return!1}function Gp(t){var e=br(t.target);if(e!==null){var n=C(e);if(n!==null){if(e=n.tag,e===13){if(e=O(n),e!==null){t.blockedOn=e,O0(t.priority,function(){if(n.tag===13){var p=ai();p=Je(p);var S=Mr(n,p);S!==null&&si(S,n,p),$u(n,p)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ku(t.nativeEvent);if(n===null){n=t.nativeEvent;var p=new n.constructor(n.type,n);tc=p,n.target.dispatchEvent(p),tc=null}else return e=Sr(n),e!==null&&Xp(e),t.blockedOn=n,!1;e.shift()}return!0}function Wp(t,e,n){qo(t)&&n.delete(e)}function jb(){Zu=!1,jn!==null&&qo(jn)&&(jn=null),Pn!==null&&qo(Pn)&&(Pn=null),Bn!==null&&qo(Bn)&&(Bn=null),ds.forEach(Wp),gs.forEach(Wp)}function Ko(t,e){t.blockedOn===e&&(t.blockedOn=null,Zu||(Zu=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jb)))}var Qo=null;function $p(t){Qo!==t&&(Qo=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qo===t&&(Qo=null);for(var e=0;e<t.length;e+=3){var n=t[e],p=t[e+1],S=t[e+2];if(typeof p!="function"){if(Qu(p||n)===null)continue;break}var w=Sr(n);w!==null&&(t.splice(e,3),e-=3,Qc(w,{pending:!0,data:S,method:n.method,action:p},p,S))}}))}function ms(t){function e(V){return Ko(V,t)}jn!==null&&Ko(jn,t),Pn!==null&&Ko(Pn,t),Bn!==null&&Ko(Bn,t),ds.forEach(e),gs.forEach(e);for(var n=0;n<Nn.length;n++){var p=Nn[n];p.blockedOn===t&&(p.blockedOn=null)}for(;0<Nn.length&&(n=Nn[0],n.blockedOn===null);)Gp(n),n.blockedOn===null&&Nn.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(p=0;p<n.length;p+=3){var S=n[p],w=n[p+1],R=S[We]||null;if(typeof w=="function")R||$p(n);else if(R){var j=null;if(w&&w.hasAttribute("formAction")){if(S=w,R=w[We]||null)j=R.formAction;else if(Qu(S)!==null)continue}else j=R.action;typeof j=="function"?n[p+1]=j:(n.splice(p,3),p-=3),$p(n)}}}function Ju(t){this._internalRoot=t}Zo.prototype.render=Ju.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(m(409));var n=e.current,p=ai();Hp(n,p,t,e,null,null)},Zo.prototype.unmount=Ju.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hp(t.current,2,null,t,null,null),Lo(),e[yr]=null}};function Zo(t){this._internalRoot=t}Zo.prototype.unstable_scheduleHydration=function(t){if(t){var e=fh();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nn.length&&e!==0&&e<Nn[n].priority;n++);Nn.splice(n,0,t),n===0&&Gp(t)}};var qp=i.version;if(qp!=="19.1.0")throw Error(m(527,qp,"19.1.0"));tt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(m(188)):(t=Object.keys(t).join(","),Error(m(268,t)));return t=a(e),t=t!==null?h(t):null,t=t===null?null:t.stateNode,t};var Pb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jo.isDisabled&&Jo.supportsFiber)try{Tt=Jo.inject(Pb),Et=Jo}catch{}}return ys.createRoot=function(t,e){if(!b(t))throw Error(m(299));var n=!1,p="",S=fg,w=hg,R=dg,j=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(p=e.identifierPrefix),e.onUncaughtError!==void 0&&(S=e.onUncaughtError),e.onCaughtError!==void 0&&(w=e.onCaughtError),e.onRecoverableError!==void 0&&(R=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(j=e.unstable_transitionCallbacks)),e=Fp(t,1,!1,null,null,n,p,S,w,R,j,null),t[yr]=e.current,Pu(t),new Ju(e)},ys.hydrateRoot=function(t,e,n){if(!b(t))throw Error(m(299));var p=!1,S="",w=fg,R=hg,j=dg,V=null,lt=null;return n!=null&&(n.unstable_strictMode===!0&&(p=!0),n.identifierPrefix!==void 0&&(S=n.identifierPrefix),n.onUncaughtError!==void 0&&(w=n.onUncaughtError),n.onCaughtError!==void 0&&(R=n.onCaughtError),n.onRecoverableError!==void 0&&(j=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(V=n.unstable_transitionCallbacks),n.formState!==void 0&&(lt=n.formState)),e=Fp(t,1,!0,e,n??null,p,S,w,R,j,V,lt),e.context=Up(null),n=e.current,p=ai(),p=Je(p),S=Sn(p),S.callback=null,xn(n,S,p),n=p,e.current.lanes=n,ue(e,n),Pi(e),t[yr]=e.current,Pu(t),new Zo(e)},ys.version="19.1.0",ys}var am;function Gb(){if(am)return nf.exports;am=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),nf.exports=Vb(),nf.exports}var Wb=Gb();const $b=(r,i,u,m)=>{const b=[u,{code:i,...m||{}}];if(r?.services?.logger?.forward)return r.services.logger.forward(b,"warn","react-i18next::",!0);hr(b[0])&&(b[0]=`react-i18next:: ${b[0]}`),r?.services?.logger?.warn?r.services.logger.warn(...b):console?.warn&&console.warn(...b)},sm={},Tf=(r,i,u,m)=>{hr(u)&&sm[u]||(hr(u)&&(sm[u]=new Date),$b(r,i,u,m))},Dv=(r,i)=>()=>{if(r.isInitialized)i();else{const u=()=>{setTimeout(()=>{r.off("initialized",u)},0),i()};r.on("initialized",u)}},Of=(r,i,u)=>{r.loadNamespaces(i,Dv(r,u))},om=(r,i,u,m)=>{if(hr(u)&&(u=[u]),r.options.preload&&r.options.preload.indexOf(i)>-1)return Of(r,u,m);u.forEach(b=>{r.options.ns.indexOf(b)<0&&r.options.ns.push(b)}),r.loadLanguages(i,Dv(r,m))},qb=(r,i,u={})=>!i.languages||!i.languages.length?(Tf(i,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:i.languages}),!0):i.hasLoadedNamespace(r,{lng:u.lng,precheck:(m,b)=>{if(u.bindI18n?.indexOf("languageChanging")>-1&&m.services.backendConnector.backend&&m.isLanguageChangingTo&&!b(m.isLanguageChangingTo,r))return!1}}),hr=r=>typeof r=="string",Kb=r=>typeof r=="object"&&r!==null,Qb=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Zb={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Jb=r=>Zb[r],tS=r=>r.replace(Qb,Jb);let Ef={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:tS};const eS=(r={})=>{Ef={...Ef,...r}},iS=()=>Ef;let kv;const nS=r=>{kv=r},rS=()=>kv,aS={type:"3rdParty",init(r){eS(r.options.react),nS(r)}},sS=G.createContext();class oS{constructor(){this.usedNamespaces={}}addUsedNamespaces(i){i.forEach(u=>{this.usedNamespaces[u]||(this.usedNamespaces[u]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const lS=(r,i)=>{const u=G.useRef();return G.useEffect(()=>{u.current=r},[r,i]),u.current},Mv=(r,i,u,m)=>r.getFixedT(i,u,m),cS=(r,i,u,m)=>G.useCallback(Mv(r,i,u,m),[r,i,u,m]),Sa=(r,i={})=>{const{i18n:u}=i,{i18n:m,defaultNS:b}=G.useContext(sS)||{},C=u||m||rS();if(C&&!C.reportNamespaces&&(C.reportNamespaces=new oS),!C){Tf(C,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const T=(A,k)=>hr(k)?k:Kb(k)&&hr(k.defaultValue)?k.defaultValue:Array.isArray(A)?A[A.length-1]:A,E=[T,{},!1];return E.t=T,E.i18n={},E.ready=!1,E}C.options.react?.wait&&Tf(C,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const O={...iS(),...C.options.react,...i},{useSuspense:d,keyPrefix:a}=O;let h=b||C.options?.defaultNS;h=hr(h)?[h]:h||["translation"],C.reportNamespaces.addUsedNamespaces?.(h);const g=(C.isInitialized||C.initializedStoreOnce)&&h.every(T=>qb(T,C,O)),s=cS(C,i.lng||null,O.nsMode==="fallback"?h:h[0],a),l=()=>s,o=()=>Mv(C,i.lng||null,O.nsMode==="fallback"?h:h[0],a),[c,v]=G.useState(l);let f=h.join();i.lng&&(f=`${i.lng}${f}`);const y=lS(f),x=G.useRef(!0);G.useEffect(()=>{const{bindI18n:T,bindI18nStore:E}=O;x.current=!0,!g&&!d&&(i.lng?om(C,i.lng,h,()=>{x.current&&v(o)}):Of(C,h,()=>{x.current&&v(o)})),g&&y&&y!==f&&x.current&&v(o);const A=()=>{x.current&&v(o)};return T&&C?.on(T,A),E&&C?.store.on(E,A),()=>{x.current=!1,C&&T?.split(" ").forEach(k=>C.off(k,A)),E&&C&&E.split(" ").forEach(k=>C.store.off(k,A))}},[C,f]),G.useEffect(()=>{x.current&&g&&v(l)},[C,a,g]);const _=[c,C,g];if(_.t=c,_.i18n=C,_.ready=g,g||!g&&!d)return _;throw new Promise(T=>{i.lng?om(C,i.lng,h,()=>T()):Of(C,h,()=>T())})},uS=({onImageUpload:r})=>{const{t:i}=Sa(),[u,m]=G.useState(!1),b=G.useRef(null),C=l=>{l.preventDefault(),l.stopPropagation(),m(!0)},O=l=>{l.preventDefault(),l.stopPropagation(),m(!1)},d=l=>{l.preventDefault(),l.stopPropagation(),u||m(!0)},a=l=>{if(l.preventDefault(),l.stopPropagation(),m(!1),l.dataTransfer.files&&l.dataTransfer.files[0]){const o=l.dataTransfer.files[0];g(o)}},h=l=>{if(l.target.files&&l.target.files[0]){const o=l.target.files[0];g(o)}},g=l=>{if(l.type.match("image.*")){const o=new FileReader;o.onload=c=>{c.target&&typeof c.target.result=="string"&&r(c.target.result)},o.readAsDataURL(l)}},s=()=>{b.current?.click()};return Q.jsxs("div",{className:`flex flex-col items-center justify-center w-full h-full cursor-pointer transition-all duration-200 ${u?"bg-blue-50 border-blue-300":"bg-white"}`,onDragEnter:C,onDragLeave:O,onDragOver:d,onDrop:a,onClick:s,children:[Q.jsx("input",{ref:b,type:"file",className:"hidden",onChange:h,accept:"image/*"}),Q.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6",children:[Q.jsx("svg",{className:`w-24 h-24 mb-4 ${u?"text-blue-500":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Q.jsx("p",{className:"mb-2 text-xl font-medium text-gray-700",children:i("upload_image")}),Q.jsx("p",{className:"text-sm text-gray-500",children:i("drop_here")})]})]})},fS=()=>{const{i18n:r}=Sa(),i=()=>{const b=(r.language.startsWith("zh")?"zh":"en")==="en"?"zh":"en";r.changeLanguage(b)},u=r.language.startsWith("zh")?"zh":"en";return Q.jsx("header",{className:"bg-white shadow-sm py-3 sticky top-0 z-10",children:Q.jsxs("div",{className:"max-w-screen-xl mx-auto flex items-center justify-between px-4",children:[Q.jsx("div",{className:"w-20",children:Q.jsx("button",{className:"flex items-center px-3 py-1 rounded-md border border-gray-300 hover:bg-gray-100",onClick:i,children:u==="en"?"中文":"EN"})}),Q.jsx("div",{className:"flex items-center justify-center",children:Q.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Quick Picture Editing"})}),Q.jsx("div",{className:"w-20"})]})})},hS=()=>Q.jsx("footer",{className:"bg-white py-4 mt-8",children:Q.jsx("div",{className:"max-w-screen-xl mx-auto px-4",children:Q.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center",children:Q.jsx("div",{className:"flex flex-col md:flex-row items-center md:space-x-8",children:Q.jsx("p",{className:"text-sm text-gray",children:"© 2025 Quick Picture Editing (Free). All right reserved."})})})})});var Af=function(r,i){return Af=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(u[b]=m[b])},Af(r,i)};function dS(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");Af(r,i);function u(){this.constructor=r}r.prototype=i===null?Object.create(i):(u.prototype=i.prototype,new u)}var Pe=function(){return Pe=Object.assign||function(i){for(var u,m=1,b=arguments.length;m<b;m++){u=arguments[m];for(var C in u)Object.prototype.hasOwnProperty.call(u,C)&&(i[C]=u[C])}return i},Pe.apply(this,arguments)};var of,lm;function gS(){if(lm)return of;lm=1;var r=!1,i,u,m,b,C,O,d,a,h,g,s,l,o,c,v;function f(){if(!r){r=!0;var x=navigator.userAgent,_=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(x),T=/(Mac OS X)|(Windows)|(Linux)/.exec(x);if(l=/\b(iPhone|iP[ao]d)/.exec(x),o=/\b(iP[ao]d)/.exec(x),g=/Android/i.exec(x),c=/FBAN\/\w+;/i.exec(x),v=/Mobile/i.exec(x),s=!!/Win64/.exec(x),_){i=_[1]?parseFloat(_[1]):_[5]?parseFloat(_[5]):NaN,i&&document&&document.documentMode&&(i=document.documentMode);var E=/(?:Trident\/(\d+.\d+))/.exec(x);O=E?parseFloat(E[1])+4:i,u=_[2]?parseFloat(_[2]):NaN,m=_[3]?parseFloat(_[3]):NaN,b=_[4]?parseFloat(_[4]):NaN,b?(_=/(?:Chrome\/(\d+\.\d+))/.exec(x),C=_&&_[1]?parseFloat(_[1]):NaN):C=NaN}else i=u=m=C=b=NaN;if(T){if(T[1]){var A=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(x);d=A?parseFloat(A[1].replace("_",".")):!0}else d=!1;a=!!T[2],h=!!T[3]}else d=a=h=!1}}var y={ie:function(){return f()||i},ieCompatibilityMode:function(){return f()||O>i},ie64:function(){return y.ie()&&s},firefox:function(){return f()||u},opera:function(){return f()||m},webkit:function(){return f()||b},safari:function(){return y.webkit()},chrome:function(){return f()||C},windows:function(){return f()||a},osx:function(){return f()||d},linux:function(){return f()||h},iphone:function(){return f()||l},mobile:function(){return f()||l||o||g||v},nativeApp:function(){return f()||c},android:function(){return f()||g},ipad:function(){return f()||o}};return of=y,of}var lf,cm;function pS(){if(cm)return lf;cm=1;var r=!!(typeof window<"u"&&window.document&&window.document.createElement),i={canUseDOM:r,canUseWorkers:typeof Worker<"u",canUseEventListeners:r&&!!(window.addEventListener||window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};return lf=i,lf}var cf,um;function mS(){if(um)return cf;um=1;var r=pS(),i;r.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function u(m,b){if(!r.canUseDOM||b&&!("addEventListener"in document))return!1;var C="on"+m,O=C in document;if(!O){var d=document.createElement("div");d.setAttribute(C,"return;"),O=typeof d[C]=="function"}return!O&&i&&m==="wheel"&&(O=document.implementation.hasFeature("Events.wheel","3.0")),O}return cf=u,cf}var uf,fm;function vS(){if(fm)return uf;fm=1;var r=gS(),i=mS(),u=10,m=40,b=800;function C(O){var d=0,a=0,h=0,g=0;return"detail"in O&&(a=O.detail),"wheelDelta"in O&&(a=-O.wheelDelta/120),"wheelDeltaY"in O&&(a=-O.wheelDeltaY/120),"wheelDeltaX"in O&&(d=-O.wheelDeltaX/120),"axis"in O&&O.axis===O.HORIZONTAL_AXIS&&(d=a,a=0),h=d*u,g=a*u,"deltaY"in O&&(g=O.deltaY),"deltaX"in O&&(h=O.deltaX),(h||g)&&O.deltaMode&&(O.deltaMode==1?(h*=m,g*=m):(h*=b,g*=b)),h&&!d&&(d=h<1?-1:1),g&&!a&&(a=g<1?-1:1),{spinX:d,spinY:a,pixelX:h,pixelY:g}}return C.getEventType=function(){return r.firefox()?"DOMMouseScroll":i("wheel")?"wheel":"mousewheel"},uf=C,uf}var ff,hm;function yS(){return hm||(hm=1,ff=vS()),ff}var bS=yS();const SS=Xf(bS);function xS(r,i,u,m,b,C){C===void 0&&(C=0);var O=va(r,i,C),d=O.width,a=O.height,h=Math.min(d,u),g=Math.min(a,m);return h>g*b?{width:g*b,height:g}:{width:h,height:h/b}}function CS(r){return r.width>r.height?r.width/r.naturalWidth:r.height/r.naturalHeight}function bs(r,i,u,m,b){b===void 0&&(b=0);var C=va(i.width,i.height,b),O=C.width,d=C.height;return{x:dm(r.x,O,u.width,m),y:dm(r.y,d,u.height,m)}}function dm(r,i,u,m){var b=i*m/2-u/2;return Rl(r,-b,b)}function gm(r,i){return Math.sqrt(Math.pow(r.y-i.y,2)+Math.pow(r.x-i.x,2))}function pm(r,i){return Math.atan2(i.y-r.y,i.x-r.x)*180/Math.PI}function _S(r,i,u,m,b,C,O){C===void 0&&(C=0),O===void 0&&(O=!0);var d=O?wS:TS,a=va(i.width,i.height,C),h=va(i.naturalWidth,i.naturalHeight,C),g={x:d(100,((a.width-u.width/b)/2-r.x/b)/a.width*100),y:d(100,((a.height-u.height/b)/2-r.y/b)/a.height*100),width:d(100,u.width/a.width*100/b),height:d(100,u.height/a.height*100/b)},s=Math.round(d(h.width,g.width*h.width/100)),l=Math.round(d(h.height,g.height*h.height/100)),o=h.width>=h.height*m,c=o?{width:Math.round(l*m),height:l}:{width:s,height:Math.round(s/m)},v=Pe(Pe({},c),{x:Math.round(d(h.width-c.width,g.x*h.width/100)),y:Math.round(d(h.height-c.height,g.y*h.height/100))});return{croppedAreaPercentages:g,croppedAreaPixels:v}}function wS(r,i){return Math.min(r,Math.max(0,i))}function TS(r,i){return i}function OS(r,i,u,m,b,C){var O=va(i.width,i.height,u),d=Rl(m.width/O.width*(100/r.width),b,C),a={x:d*O.width/2-m.width/2-O.width*d*(r.x/100),y:d*O.height/2-m.height/2-O.height*d*(r.y/100)};return{crop:a,zoom:d}}function ES(r,i,u){var m=CS(i);return u.height>u.width?u.height/(r.height*m):u.width/(r.width*m)}function AS(r,i,u,m,b,C){u===void 0&&(u=0);var O=va(i.naturalWidth,i.naturalHeight,u),d=Rl(ES(r,i,m),b,C),a=m.height>m.width?m.height/r.height:m.width/r.width,h={x:((O.width-r.width)/2-r.x)*a,y:((O.height-r.height)/2-r.y)*a};return{crop:h,zoom:d}}function mm(r,i){return{x:(i.x+r.x)/2,y:(i.y+r.y)/2}}function RS(r){return r*Math.PI/180}function va(r,i,u){var m=RS(u);return{width:Math.abs(Math.cos(m)*r)+Math.abs(Math.sin(m)*i),height:Math.abs(Math.sin(m)*r)+Math.abs(Math.cos(m)*i)}}function Rl(r,i,u){return Math.min(Math.max(r,i),u)}function tl(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return r.filter(function(u){return typeof u=="string"&&u.length>0}).join(" ").trim()}var DS=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,kS=1,MS=3,LS=1,jS=function(r){dS(i,r);function i(){var u=r!==null&&r.apply(this,arguments)||this;return u.cropperRef=G.createRef(),u.imageRef=G.createRef(),u.videoRef=G.createRef(),u.containerPosition={x:0,y:0},u.containerRef=null,u.styleRef=null,u.containerRect=null,u.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},u.dragStartPosition={x:0,y:0},u.dragStartCrop={x:0,y:0},u.gestureZoomStart=0,u.gestureRotationStart=0,u.isTouching=!1,u.lastPinchDistance=0,u.lastPinchRotation=0,u.rafDragTimeout=null,u.rafPinchTimeout=null,u.wheelTimer=null,u.currentDoc=typeof document<"u"?document:null,u.currentWindow=typeof window<"u"?window:null,u.resizeObserver=null,u.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},u.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!u.containerRef)){var m=!0;u.resizeObserver=new window.ResizeObserver(function(b){if(m){m=!1;return}u.computeSizes()}),u.resizeObserver.observe(u.containerRef)}},u.preventZoomSafari=function(m){return m.preventDefault()},u.cleanEvents=function(){u.currentDoc&&(u.currentDoc.removeEventListener("mousemove",u.onMouseMove),u.currentDoc.removeEventListener("mouseup",u.onDragStopped),u.currentDoc.removeEventListener("touchmove",u.onTouchMove),u.currentDoc.removeEventListener("touchend",u.onDragStopped),u.currentDoc.removeEventListener("gesturechange",u.onGestureChange),u.currentDoc.removeEventListener("gestureend",u.onGestureEnd),u.currentDoc.removeEventListener("scroll",u.onScroll))},u.clearScrollEvent=function(){u.containerRef&&u.containerRef.removeEventListener("wheel",u.onWheel),u.wheelTimer&&clearTimeout(u.wheelTimer)},u.onMediaLoad=function(){var m=u.computeSizes();m&&(u.emitCropData(),u.setInitialCrop(m)),u.props.onMediaLoaded&&u.props.onMediaLoaded(u.mediaSize)},u.setInitialCrop=function(m){if(u.props.initialCroppedAreaPercentages){var b=OS(u.props.initialCroppedAreaPercentages,u.mediaSize,u.props.rotation,m,u.props.minZoom,u.props.maxZoom),C=b.crop,O=b.zoom;u.props.onCropChange(C),u.props.onZoomChange&&u.props.onZoomChange(O)}else if(u.props.initialCroppedAreaPixels){var d=AS(u.props.initialCroppedAreaPixels,u.mediaSize,u.props.rotation,m,u.props.minZoom,u.props.maxZoom),C=d.crop,O=d.zoom;u.props.onCropChange(C),u.props.onZoomChange&&u.props.onZoomChange(O)}},u.computeSizes=function(){var m,b,C,O,d,a,h=u.imageRef.current||u.videoRef.current;if(h&&u.containerRef){u.containerRect=u.containerRef.getBoundingClientRect(),u.saveContainerPosition();var g=u.containerRect.width/u.containerRect.height,s=((m=u.imageRef.current)===null||m===void 0?void 0:m.naturalWidth)||((b=u.videoRef.current)===null||b===void 0?void 0:b.videoWidth)||0,l=((C=u.imageRef.current)===null||C===void 0?void 0:C.naturalHeight)||((O=u.videoRef.current)===null||O===void 0?void 0:O.videoHeight)||0,o=h.offsetWidth<s||h.offsetHeight<l,c=s/l,v=void 0;if(o)switch(u.state.mediaObjectFit){default:case"contain":v=g>c?{width:u.containerRect.height*c,height:u.containerRect.height}:{width:u.containerRect.width,height:u.containerRect.width/c};break;case"horizontal-cover":v={width:u.containerRect.width,height:u.containerRect.width/c};break;case"vertical-cover":v={width:u.containerRect.height*c,height:u.containerRect.height};break}else v={width:h.offsetWidth,height:h.offsetHeight};u.mediaSize=Pe(Pe({},v),{naturalWidth:s,naturalHeight:l}),u.props.setMediaSize&&u.props.setMediaSize(u.mediaSize);var f=u.props.cropSize?u.props.cropSize:xS(u.mediaSize.width,u.mediaSize.height,u.containerRect.width,u.containerRect.height,u.props.aspect,u.props.rotation);return(((d=u.state.cropSize)===null||d===void 0?void 0:d.height)!==f.height||((a=u.state.cropSize)===null||a===void 0?void 0:a.width)!==f.width)&&u.props.onCropSizeChange&&u.props.onCropSizeChange(f),u.setState({cropSize:f},u.recomputeCropPosition),u.props.setCropSize&&u.props.setCropSize(f),f}},u.saveContainerPosition=function(){if(u.containerRef){var m=u.containerRef.getBoundingClientRect();u.containerPosition={x:m.left,y:m.top}}},u.onMouseDown=function(m){u.currentDoc&&(m.preventDefault(),u.currentDoc.addEventListener("mousemove",u.onMouseMove),u.currentDoc.addEventListener("mouseup",u.onDragStopped),u.saveContainerPosition(),u.onDragStart(i.getMousePoint(m)))},u.onMouseMove=function(m){return u.onDrag(i.getMousePoint(m))},u.onScroll=function(m){u.currentDoc&&(m.preventDefault(),u.saveContainerPosition())},u.onTouchStart=function(m){u.currentDoc&&(u.isTouching=!0,!(u.props.onTouchRequest&&!u.props.onTouchRequest(m))&&(u.currentDoc.addEventListener("touchmove",u.onTouchMove,{passive:!1}),u.currentDoc.addEventListener("touchend",u.onDragStopped),u.saveContainerPosition(),m.touches.length===2?u.onPinchStart(m):m.touches.length===1&&u.onDragStart(i.getTouchPoint(m.touches[0]))))},u.onTouchMove=function(m){m.preventDefault(),m.touches.length===2?u.onPinchMove(m):m.touches.length===1&&u.onDrag(i.getTouchPoint(m.touches[0]))},u.onGestureStart=function(m){u.currentDoc&&(m.preventDefault(),u.currentDoc.addEventListener("gesturechange",u.onGestureChange),u.currentDoc.addEventListener("gestureend",u.onGestureEnd),u.gestureZoomStart=u.props.zoom,u.gestureRotationStart=u.props.rotation)},u.onGestureChange=function(m){if(m.preventDefault(),!u.isTouching){var b=i.getMousePoint(m),C=u.gestureZoomStart-1+m.scale;if(u.setNewZoom(C,b,{shouldUpdatePosition:!0}),u.props.onRotationChange){var O=u.gestureRotationStart+m.rotation;u.props.onRotationChange(O)}}},u.onGestureEnd=function(m){u.cleanEvents()},u.onDragStart=function(m){var b,C,O=m.x,d=m.y;u.dragStartPosition={x:O,y:d},u.dragStartCrop=Pe({},u.props.crop),(C=(b=u.props).onInteractionStart)===null||C===void 0||C.call(b)},u.onDrag=function(m){var b=m.x,C=m.y;u.currentWindow&&(u.rafDragTimeout&&u.currentWindow.cancelAnimationFrame(u.rafDragTimeout),u.rafDragTimeout=u.currentWindow.requestAnimationFrame(function(){if(u.state.cropSize&&!(b===void 0||C===void 0)){var O=b-u.dragStartPosition.x,d=C-u.dragStartPosition.y,a={x:u.dragStartCrop.x+O,y:u.dragStartCrop.y+d},h=u.props.restrictPosition?bs(a,u.mediaSize,u.state.cropSize,u.props.zoom,u.props.rotation):a;u.props.onCropChange(h)}}))},u.onDragStopped=function(){var m,b;u.isTouching=!1,u.cleanEvents(),u.emitCropData(),(b=(m=u.props).onInteractionEnd)===null||b===void 0||b.call(m)},u.onWheel=function(m){if(u.currentWindow&&!(u.props.onWheelRequest&&!u.props.onWheelRequest(m))){m.preventDefault();var b=i.getMousePoint(m),C=SS(m).pixelY,O=u.props.zoom-C*u.props.zoomSpeed/200;u.setNewZoom(O,b,{shouldUpdatePosition:!0}),u.state.hasWheelJustStarted||u.setState({hasWheelJustStarted:!0},function(){var d,a;return(a=(d=u.props).onInteractionStart)===null||a===void 0?void 0:a.call(d)}),u.wheelTimer&&clearTimeout(u.wheelTimer),u.wheelTimer=u.currentWindow.setTimeout(function(){return u.setState({hasWheelJustStarted:!1},function(){var d,a;return(a=(d=u.props).onInteractionEnd)===null||a===void 0?void 0:a.call(d)})},250)}},u.getPointOnContainer=function(m,b){var C=m.x,O=m.y;if(!u.containerRect)throw new Error("The Cropper is not mounted");return{x:u.containerRect.width/2-(C-b.x),y:u.containerRect.height/2-(O-b.y)}},u.getPointOnMedia=function(m){var b=m.x,C=m.y,O=u.props,d=O.crop,a=O.zoom;return{x:(b+d.x)/a,y:(C+d.y)/a}},u.setNewZoom=function(m,b,C){var O=C===void 0?{}:C,d=O.shouldUpdatePosition,a=d===void 0?!0:d;if(!(!u.state.cropSize||!u.props.onZoomChange)){var h=Rl(m,u.props.minZoom,u.props.maxZoom);if(a){var g=u.getPointOnContainer(b,u.containerPosition),s=u.getPointOnMedia(g),l={x:s.x*h-g.x,y:s.y*h-g.y},o=u.props.restrictPosition?bs(l,u.mediaSize,u.state.cropSize,h,u.props.rotation):l;u.props.onCropChange(o)}u.props.onZoomChange(h)}},u.getCropData=function(){if(!u.state.cropSize)return null;var m=u.props.restrictPosition?bs(u.props.crop,u.mediaSize,u.state.cropSize,u.props.zoom,u.props.rotation):u.props.crop;return _S(m,u.mediaSize,u.state.cropSize,u.getAspect(),u.props.zoom,u.props.rotation,u.props.restrictPosition)},u.emitCropData=function(){var m=u.getCropData();if(m){var b=m.croppedAreaPercentages,C=m.croppedAreaPixels;u.props.onCropComplete&&u.props.onCropComplete(b,C),u.props.onCropAreaChange&&u.props.onCropAreaChange(b,C)}},u.emitCropAreaChange=function(){var m=u.getCropData();if(m){var b=m.croppedAreaPercentages,C=m.croppedAreaPixels;u.props.onCropAreaChange&&u.props.onCropAreaChange(b,C)}},u.recomputeCropPosition=function(){if(u.state.cropSize){var m=u.props.restrictPosition?bs(u.props.crop,u.mediaSize,u.state.cropSize,u.props.zoom,u.props.rotation):u.props.crop;u.props.onCropChange(m),u.emitCropData()}},u.onKeyDown=function(m){var b,C,O=u.props,d=O.crop,a=O.onCropChange,h=O.keyboardStep,g=O.zoom,s=O.rotation,l=h;if(u.state.cropSize){m.shiftKey&&(l*=.2);var o=Pe({},d);switch(m.key){case"ArrowUp":o.y-=l,m.preventDefault();break;case"ArrowDown":o.y+=l,m.preventDefault();break;case"ArrowLeft":o.x-=l,m.preventDefault();break;case"ArrowRight":o.x+=l,m.preventDefault();break;default:return}u.props.restrictPosition&&(o=bs(o,u.mediaSize,u.state.cropSize,g,s)),m.repeat||(C=(b=u.props).onInteractionStart)===null||C===void 0||C.call(b),a(o)}},u.onKeyUp=function(m){var b,C;switch(m.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":m.preventDefault();break;default:return}u.emitCropData(),(C=(b=u.props).onInteractionEnd)===null||C===void 0||C.call(b)},u}return i.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=DS,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},i.prototype.componentWillUnmount=function(){var u,m;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(u=this.resizeObserver)===null||u===void 0||u.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((m=this.styleRef.parentNode)===null||m===void 0||m.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},i.prototype.componentDidUpdate=function(u){var m,b,C,O,d,a,h,g,s;u.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):u.aspect!==this.props.aspect?this.computeSizes():u.objectFit!==this.props.objectFit?this.computeSizes():u.zoom!==this.props.zoom?this.recomputeCropPosition():((m=u.cropSize)===null||m===void 0?void 0:m.height)!==((b=this.props.cropSize)===null||b===void 0?void 0:b.height)||((C=u.cropSize)===null||C===void 0?void 0:C.width)!==((O=this.props.cropSize)===null||O===void 0?void 0:O.width)?this.computeSizes():(((d=u.crop)===null||d===void 0?void 0:d.x)!==((a=this.props.crop)===null||a===void 0?void 0:a.x)||((h=u.crop)===null||h===void 0?void 0:h.y)!==((g=this.props.crop)===null||g===void 0?void 0:g.y))&&this.emitCropAreaChange(),u.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),u.video!==this.props.video&&((s=this.videoRef.current)===null||s===void 0||s.load());var l=this.getObjectFit();l!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:l},this.computeSizes)},i.prototype.getAspect=function(){var u=this.props,m=u.cropSize,b=u.aspect;return m?m.width/m.height:b},i.prototype.getObjectFit=function(){var u,m,b,C;if(this.props.objectFit==="cover"){var O=this.imageRef.current||this.videoRef.current;if(O&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var d=this.containerRect.width/this.containerRect.height,a=((u=this.imageRef.current)===null||u===void 0?void 0:u.naturalWidth)||((m=this.videoRef.current)===null||m===void 0?void 0:m.videoWidth)||0,h=((b=this.imageRef.current)===null||b===void 0?void 0:b.naturalHeight)||((C=this.videoRef.current)===null||C===void 0?void 0:C.videoHeight)||0,g=a/h;return g<d?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},i.prototype.onPinchStart=function(u){var m=i.getTouchPoint(u.touches[0]),b=i.getTouchPoint(u.touches[1]);this.lastPinchDistance=gm(m,b),this.lastPinchRotation=pm(m,b),this.onDragStart(mm(m,b))},i.prototype.onPinchMove=function(u){var m=this;if(!(!this.currentDoc||!this.currentWindow)){var b=i.getTouchPoint(u.touches[0]),C=i.getTouchPoint(u.touches[1]),O=mm(b,C);this.onDrag(O),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var d=gm(b,C),a=m.props.zoom*(d/m.lastPinchDistance);m.setNewZoom(a,O,{shouldUpdatePosition:!1}),m.lastPinchDistance=d;var h=pm(b,C),g=m.props.rotation+(h-m.lastPinchRotation);m.props.onRotationChange&&m.props.onRotationChange(g),m.lastPinchRotation=h})}},i.prototype.render=function(){var u=this,m,b=this.props,C=b.image,O=b.video,d=b.mediaProps,a=b.cropperProps,h=b.transform,g=b.crop,s=g.x,l=g.y,o=b.rotation,c=b.zoom,v=b.cropShape,f=b.showGrid,y=b.style,x=y.containerStyle,_=y.cropAreaStyle,T=y.mediaStyle,E=b.classes,A=E.containerClassName,k=E.cropAreaClassName,z=E.mediaClassName,I=(m=this.state.mediaObjectFit)!==null&&m!==void 0?m:this.getObjectFit();return G.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(q){return u.containerRef=q},"data-testid":"container",style:x,className:tl("reactEasyCrop_Container",A)},C?G.createElement("img",Pe({alt:"",className:tl("reactEasyCrop_Image",I==="contain"&&"reactEasyCrop_Contain",I==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",I==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",z)},d,{src:C,ref:this.imageRef,style:Pe(Pe({},T),{transform:h||"translate(".concat(s,"px, ").concat(l,"px) rotate(").concat(o,"deg) scale(").concat(c,")")}),onLoad:this.onMediaLoad})):O&&G.createElement("video",Pe({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:tl("reactEasyCrop_Video",I==="contain"&&"reactEasyCrop_Contain",I==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",I==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",z)},d,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Pe(Pe({},T),{transform:h||"translate(".concat(s,"px, ").concat(l,"px) rotate(").concat(o,"deg) scale(").concat(c,")")}),controls:!1}),(Array.isArray(O)?O:[{src:O}]).map(function(D){return G.createElement("source",Pe({key:D.src},D))})),this.state.cropSize&&G.createElement("div",Pe({ref:this.cropperRef,style:Pe(Pe({},_),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:tl("reactEasyCrop_CropArea",v==="round"&&"reactEasyCrop_CropAreaRound",f&&"reactEasyCrop_CropAreaGrid",k)},a)))},i.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:MS,minZoom:kS,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:LS},i.getMousePoint=function(u){return{x:Number(u.clientX),y:Number(u.clientY)}},i.getTouchPoint=function(u){return{x:Number(u.clientX),y:Number(u.clientY)}},i}(G.Component);const Ds={black:"#000",white:"#fff"},na={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},ra={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},aa={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},sa={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},oa={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Ss={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},PS={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function gr(r,...i){const u=new URL(`https://mui.com/production-error/?code=${r}`);return i.forEach(m=>u.searchParams.append("args[]",m)),`Minified MUI error #${r}; visit ${u} for the full message.`}const Lv="$$material";function ml(){return ml=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var u=arguments[i];for(var m in u)({}).hasOwnProperty.call(u,m)&&(r[m]=u[m])}return r},ml.apply(null,arguments)}function BS(r){if(r.sheet)return r.sheet;for(var i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].ownerNode===r)return document.styleSheets[i]}function NS(r){var i=document.createElement("style");return i.setAttribute("data-emotion",r.key),r.nonce!==void 0&&i.setAttribute("nonce",r.nonce),i.appendChild(document.createTextNode("")),i.setAttribute("data-s",""),i}var zS=function(){function r(u){var m=this;this._insertTag=function(b){var C;m.tags.length===0?m.insertionPoint?C=m.insertionPoint.nextSibling:m.prepend?C=m.container.firstChild:C=m.before:C=m.tags[m.tags.length-1].nextSibling,m.container.insertBefore(b,C),m.tags.push(b)},this.isSpeedy=u.speedy===void 0?!0:u.speedy,this.tags=[],this.ctr=0,this.nonce=u.nonce,this.key=u.key,this.container=u.container,this.prepend=u.prepend,this.insertionPoint=u.insertionPoint,this.before=null}var i=r.prototype;return i.hydrate=function(m){m.forEach(this._insertTag)},i.insert=function(m){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(NS(this));var b=this.tags[this.tags.length-1];if(this.isSpeedy){var C=BS(b);try{C.insertRule(m,C.cssRules.length)}catch{}}else b.appendChild(document.createTextNode(m));this.ctr++},i.flush=function(){this.tags.forEach(function(m){var b;return(b=m.parentNode)==null?void 0:b.removeChild(m)}),this.tags=[],this.ctr=0},r}(),Xe="-ms-",vl="-moz-",qt="-webkit-",jv="comm",Vf="rule",Gf="decl",FS="@import",Pv="@keyframes",US="@layer",HS=Math.abs,Dl=String.fromCharCode,YS=Object.assign;function XS(r,i){return Fe(r,0)^45?(((i<<2^Fe(r,0))<<2^Fe(r,1))<<2^Fe(r,2))<<2^Fe(r,3):0}function Bv(r){return r.trim()}function IS(r,i){return(r=i.exec(r))?r[0]:r}function Kt(r,i,u){return r.replace(i,u)}function Rf(r,i){return r.indexOf(i)}function Fe(r,i){return r.charCodeAt(i)|0}function ks(r,i,u){return r.slice(i,u)}function Ni(r){return r.length}function Wf(r){return r.length}function el(r,i){return i.push(r),r}function VS(r,i){return r.map(i).join("")}var kl=1,ya=1,Nv=0,Ze=0,Ee=0,xa="";function Ml(r,i,u,m,b,C,O){return{value:r,root:i,parent:u,type:m,props:b,children:C,line:kl,column:ya,length:O,return:""}}function xs(r,i){return YS(Ml("",null,null,"",null,null,0),r,{length:-r.length},i)}function GS(){return Ee}function WS(){return Ee=Ze>0?Fe(xa,--Ze):0,ya--,Ee===10&&(ya=1,kl--),Ee}function li(){return Ee=Ze<Nv?Fe(xa,Ze++):0,ya++,Ee===10&&(ya=1,kl++),Ee}function Yi(){return Fe(xa,Ze)}function fl(){return Ze}function zs(r,i){return ks(xa,r,i)}function Ms(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function zv(r){return kl=ya=1,Nv=Ni(xa=r),Ze=0,[]}function Fv(r){return xa="",r}function hl(r){return Bv(zs(Ze-1,Df(r===91?r+2:r===40?r+1:r)))}function $S(r){for(;(Ee=Yi())&&Ee<33;)li();return Ms(r)>2||Ms(Ee)>3?"":" "}function qS(r,i){for(;--i&&li()&&!(Ee<48||Ee>102||Ee>57&&Ee<65||Ee>70&&Ee<97););return zs(r,fl()+(i<6&&Yi()==32&&li()==32))}function Df(r){for(;li();)switch(Ee){case r:return Ze;case 34:case 39:r!==34&&r!==39&&Df(Ee);break;case 40:r===41&&Df(r);break;case 92:li();break}return Ze}function KS(r,i){for(;li()&&r+Ee!==57;)if(r+Ee===84&&Yi()===47)break;return"/*"+zs(i,Ze-1)+"*"+Dl(r===47?r:li())}function QS(r){for(;!Ms(Yi());)li();return zs(r,Ze)}function ZS(r){return Fv(dl("",null,null,null,[""],r=zv(r),0,[0],r))}function dl(r,i,u,m,b,C,O,d,a){for(var h=0,g=0,s=O,l=0,o=0,c=0,v=1,f=1,y=1,x=0,_="",T=b,E=C,A=m,k=_;f;)switch(c=x,x=li()){case 40:if(c!=108&&Fe(k,s-1)==58){Rf(k+=Kt(hl(x),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:k+=hl(x);break;case 9:case 10:case 13:case 32:k+=$S(c);break;case 92:k+=qS(fl()-1,7);continue;case 47:switch(Yi()){case 42:case 47:el(JS(KS(li(),fl()),i,u),a);break;default:k+="/"}break;case 123*v:d[h++]=Ni(k)*y;case 125*v:case 59:case 0:switch(x){case 0:case 125:f=0;case 59+g:y==-1&&(k=Kt(k,/\f/g,"")),o>0&&Ni(k)-s&&el(o>32?ym(k+";",m,u,s-1):ym(Kt(k," ","")+";",m,u,s-2),a);break;case 59:k+=";";default:if(el(A=vm(k,i,u,h,g,b,d,_,T=[],E=[],s),C),x===123)if(g===0)dl(k,i,A,A,T,C,s,d,E);else switch(l===99&&Fe(k,3)===110?100:l){case 100:case 108:case 109:case 115:dl(r,A,A,m&&el(vm(r,A,A,0,0,b,d,_,b,T=[],s),E),b,E,s,d,m?T:E);break;default:dl(k,A,A,A,[""],E,0,d,E)}}h=g=o=0,v=y=1,_=k="",s=O;break;case 58:s=1+Ni(k),o=c;default:if(v<1){if(x==123)--v;else if(x==125&&v++==0&&WS()==125)continue}switch(k+=Dl(x),x*v){case 38:y=g>0?1:(k+="\f",-1);break;case 44:d[h++]=(Ni(k)-1)*y,y=1;break;case 64:Yi()===45&&(k+=hl(li())),l=Yi(),g=s=Ni(_=k+=QS(fl())),x++;break;case 45:c===45&&Ni(k)==2&&(v=0)}}return C}function vm(r,i,u,m,b,C,O,d,a,h,g){for(var s=b-1,l=b===0?C:[""],o=Wf(l),c=0,v=0,f=0;c<m;++c)for(var y=0,x=ks(r,s+1,s=HS(v=O[c])),_=r;y<o;++y)(_=Bv(v>0?l[y]+" "+x:Kt(x,/&\f/g,l[y])))&&(a[f++]=_);return Ml(r,i,u,b===0?Vf:d,a,h,g)}function JS(r,i,u){return Ml(r,i,u,jv,Dl(GS()),ks(r,2,-2),0)}function ym(r,i,u,m){return Ml(r,i,u,Gf,ks(r,0,m),ks(r,m+1,-1),m)}function pa(r,i){for(var u="",m=Wf(r),b=0;b<m;b++)u+=i(r[b],b,r,i)||"";return u}function tx(r,i,u,m){switch(r.type){case US:if(r.children.length)break;case FS:case Gf:return r.return=r.return||r.value;case jv:return"";case Pv:return r.return=r.value+"{"+pa(r.children,m)+"}";case Vf:r.value=r.props.join(",")}return Ni(u=pa(r.children,m))?r.return=r.value+"{"+u+"}":""}function ex(r){var i=Wf(r);return function(u,m,b,C){for(var O="",d=0;d<i;d++)O+=r[d](u,m,b,C)||"";return O}}function ix(r){return function(i){i.root||(i=i.return)&&r(i)}}function Uv(r){var i=Object.create(null);return function(u){return i[u]===void 0&&(i[u]=r(u)),i[u]}}var nx=function(i,u,m){for(var b=0,C=0;b=C,C=Yi(),b===38&&C===12&&(u[m]=1),!Ms(C);)li();return zs(i,Ze)},rx=function(i,u){var m=-1,b=44;do switch(Ms(b)){case 0:b===38&&Yi()===12&&(u[m]=1),i[m]+=nx(Ze-1,u,m);break;case 2:i[m]+=hl(b);break;case 4:if(b===44){i[++m]=Yi()===58?"&\f":"",u[m]=i[m].length;break}default:i[m]+=Dl(b)}while(b=li());return i},ax=function(i,u){return Fv(rx(zv(i),u))},bm=new WeakMap,sx=function(i){if(!(i.type!=="rule"||!i.parent||i.length<1)){for(var u=i.value,m=i.parent,b=i.column===m.column&&i.line===m.line;m.type!=="rule";)if(m=m.parent,!m)return;if(!(i.props.length===1&&u.charCodeAt(0)!==58&&!bm.get(m))&&!b){bm.set(i,!0);for(var C=[],O=ax(u,C),d=m.props,a=0,h=0;a<O.length;a++)for(var g=0;g<d.length;g++,h++)i.props[h]=C[a]?O[a].replace(/&\f/g,d[g]):d[g]+" "+O[a]}}},ox=function(i){if(i.type==="decl"){var u=i.value;u.charCodeAt(0)===108&&u.charCodeAt(2)===98&&(i.return="",i.value="")}};function Hv(r,i){switch(XS(r,i)){case 5103:return qt+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qt+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return qt+r+vl+r+Xe+r+r;case 6828:case 4268:return qt+r+Xe+r+r;case 6165:return qt+r+Xe+"flex-"+r+r;case 5187:return qt+r+Kt(r,/(\w+).+(:[^]+)/,qt+"box-$1$2"+Xe+"flex-$1$2")+r;case 5443:return qt+r+Xe+"flex-item-"+Kt(r,/flex-|-self/,"")+r;case 4675:return qt+r+Xe+"flex-line-pack"+Kt(r,/align-content|flex-|-self/,"")+r;case 5548:return qt+r+Xe+Kt(r,"shrink","negative")+r;case 5292:return qt+r+Xe+Kt(r,"basis","preferred-size")+r;case 6060:return qt+"box-"+Kt(r,"-grow","")+qt+r+Xe+Kt(r,"grow","positive")+r;case 4554:return qt+Kt(r,/([^-])(transform)/g,"$1"+qt+"$2")+r;case 6187:return Kt(Kt(Kt(r,/(zoom-|grab)/,qt+"$1"),/(image-set)/,qt+"$1"),r,"")+r;case 5495:case 3959:return Kt(r,/(image-set\([^]*)/,qt+"$1$`$1");case 4968:return Kt(Kt(r,/(.+:)(flex-)?(.*)/,qt+"box-pack:$3"+Xe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qt+r+r;case 4095:case 3583:case 4068:case 2532:return Kt(r,/(.+)-inline(.+)/,qt+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ni(r)-1-i>6)switch(Fe(r,i+1)){case 109:if(Fe(r,i+4)!==45)break;case 102:return Kt(r,/(.+:)(.+)-([^]+)/,"$1"+qt+"$2-$3$1"+vl+(Fe(r,i+3)==108?"$3":"$2-$3"))+r;case 115:return~Rf(r,"stretch")?Hv(Kt(r,"stretch","fill-available"),i)+r:r}break;case 4949:if(Fe(r,i+1)!==115)break;case 6444:switch(Fe(r,Ni(r)-3-(~Rf(r,"!important")&&10))){case 107:return Kt(r,":",":"+qt)+r;case 101:return Kt(r,/(.+:)([^;!]+)(;|!.+)?/,"$1"+qt+(Fe(r,14)===45?"inline-":"")+"box$3$1"+qt+"$2$3$1"+Xe+"$2box$3")+r}break;case 5936:switch(Fe(r,i+11)){case 114:return qt+r+Xe+Kt(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return qt+r+Xe+Kt(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return qt+r+Xe+Kt(r,/[svh]\w+-[tblr]{2}/,"lr")+r}return qt+r+Xe+r+r}return r}var lx=function(i,u,m,b){if(i.length>-1&&!i.return)switch(i.type){case Gf:i.return=Hv(i.value,i.length);break;case Pv:return pa([xs(i,{value:Kt(i.value,"@","@"+qt)})],b);case Vf:if(i.length)return VS(i.props,function(C){switch(IS(C,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return pa([xs(i,{props:[Kt(C,/:(read-\w+)/,":"+vl+"$1")]})],b);case"::placeholder":return pa([xs(i,{props:[Kt(C,/:(plac\w+)/,":"+qt+"input-$1")]}),xs(i,{props:[Kt(C,/:(plac\w+)/,":"+vl+"$1")]}),xs(i,{props:[Kt(C,/:(plac\w+)/,Xe+"input-$1")]})],b)}return""})}},cx=[lx],ux=function(i){var u=i.key;if(u==="css"){var m=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(m,function(v){var f=v.getAttribute("data-emotion");f.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var b=i.stylisPlugins||cx,C={},O,d=[];O=i.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+u+' "]'),function(v){for(var f=v.getAttribute("data-emotion").split(" "),y=1;y<f.length;y++)C[f[y]]=!0;d.push(v)});var a,h=[sx,ox];{var g,s=[tx,ix(function(v){g.insert(v)})],l=ex(h.concat(b,s)),o=function(f){return pa(ZS(f),l)};a=function(f,y,x,_){g=x,o(f?f+"{"+y.styles+"}":y.styles),_&&(c.inserted[y.name]=!0)}}var c={key:u,sheet:new zS({key:u,container:O,nonce:i.nonce,speedy:i.speedy,prepend:i.prepend,insertionPoint:i.insertionPoint}),nonce:i.nonce,inserted:C,registered:{},insert:a};return c.sheet.hydrate(d),c},hf={exports:{}},Zt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function fx(){if(Sm)return Zt;Sm=1;var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103,u=r?Symbol.for("react.portal"):60106,m=r?Symbol.for("react.fragment"):60107,b=r?Symbol.for("react.strict_mode"):60108,C=r?Symbol.for("react.profiler"):60114,O=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,a=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,g=r?Symbol.for("react.forward_ref"):60112,s=r?Symbol.for("react.suspense"):60113,l=r?Symbol.for("react.suspense_list"):60120,o=r?Symbol.for("react.memo"):60115,c=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,f=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function _(E){if(typeof E=="object"&&E!==null){var A=E.$$typeof;switch(A){case i:switch(E=E.type,E){case a:case h:case m:case C:case b:case s:return E;default:switch(E=E&&E.$$typeof,E){case d:case g:case c:case o:case O:return E;default:return A}}case u:return A}}}function T(E){return _(E)===h}return Zt.AsyncMode=a,Zt.ConcurrentMode=h,Zt.ContextConsumer=d,Zt.ContextProvider=O,Zt.Element=i,Zt.ForwardRef=g,Zt.Fragment=m,Zt.Lazy=c,Zt.Memo=o,Zt.Portal=u,Zt.Profiler=C,Zt.StrictMode=b,Zt.Suspense=s,Zt.isAsyncMode=function(E){return T(E)||_(E)===a},Zt.isConcurrentMode=T,Zt.isContextConsumer=function(E){return _(E)===d},Zt.isContextProvider=function(E){return _(E)===O},Zt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===i},Zt.isForwardRef=function(E){return _(E)===g},Zt.isFragment=function(E){return _(E)===m},Zt.isLazy=function(E){return _(E)===c},Zt.isMemo=function(E){return _(E)===o},Zt.isPortal=function(E){return _(E)===u},Zt.isProfiler=function(E){return _(E)===C},Zt.isStrictMode=function(E){return _(E)===b},Zt.isSuspense=function(E){return _(E)===s},Zt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===m||E===h||E===C||E===b||E===s||E===l||typeof E=="object"&&E!==null&&(E.$$typeof===c||E.$$typeof===o||E.$$typeof===O||E.$$typeof===d||E.$$typeof===g||E.$$typeof===f||E.$$typeof===y||E.$$typeof===x||E.$$typeof===v)},Zt.typeOf=_,Zt}var xm;function hx(){return xm||(xm=1,hf.exports=fx()),hf.exports}var df,Cm;function dx(){if(Cm)return df;Cm=1;var r=hx(),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},u={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},m={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},b={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},C={};C[r.ForwardRef]=m,C[r.Memo]=b;function O(c){return r.isMemo(c)?b:C[c.$$typeof]||i}var d=Object.defineProperty,a=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,s=Object.getPrototypeOf,l=Object.prototype;function o(c,v,f){if(typeof v!="string"){if(l){var y=s(v);y&&y!==l&&o(c,y,f)}var x=a(v);h&&(x=x.concat(h(v)));for(var _=O(c),T=O(v),E=0;E<x.length;++E){var A=x[E];if(!u[A]&&!(f&&f[A])&&!(T&&T[A])&&!(_&&_[A])){var k=g(v,A);try{d(c,A,k)}catch{}}}}return c}return df=o,df}dx();var gx=!0;function Yv(r,i,u){var m="";return u.split(" ").forEach(function(b){r[b]!==void 0?i.push(r[b]+";"):b&&(m+=b+" ")}),m}var $f=function(i,u,m){var b=i.key+"-"+u.name;(m===!1||gx===!1)&&i.registered[b]===void 0&&(i.registered[b]=u.styles)},Xv=function(i,u,m){$f(i,u,m);var b=i.key+"-"+u.name;if(i.inserted[u.name]===void 0){var C=u;do i.insert(u===C?"."+b:"",C,i.sheet,!0),C=C.next;while(C!==void 0)}};function px(r){for(var i=0,u,m=0,b=r.length;b>=4;++m,b-=4)u=r.charCodeAt(m)&255|(r.charCodeAt(++m)&255)<<8|(r.charCodeAt(++m)&255)<<16|(r.charCodeAt(++m)&255)<<24,u=(u&65535)*1540483477+((u>>>16)*59797<<16),u^=u>>>24,i=(u&65535)*1540483477+((u>>>16)*59797<<16)^(i&65535)*1540483477+((i>>>16)*59797<<16);switch(b){case 3:i^=(r.charCodeAt(m+2)&255)<<16;case 2:i^=(r.charCodeAt(m+1)&255)<<8;case 1:i^=r.charCodeAt(m)&255,i=(i&65535)*1540483477+((i>>>16)*59797<<16)}return i^=i>>>13,i=(i&65535)*1540483477+((i>>>16)*59797<<16),((i^i>>>15)>>>0).toString(36)}var mx={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},vx=/[A-Z]|^ms/g,yx=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Iv=function(i){return i.charCodeAt(1)===45},_m=function(i){return i!=null&&typeof i!="boolean"},gf=Uv(function(r){return Iv(r)?r:r.replace(vx,"-$&").toLowerCase()}),wm=function(i,u){switch(i){case"animation":case"animationName":if(typeof u=="string")return u.replace(yx,function(m,b,C){return zi={name:b,styles:C,next:zi},b})}return mx[i]!==1&&!Iv(i)&&typeof u=="number"&&u!==0?u+"px":u};function Ls(r,i,u){if(u==null)return"";var m=u;if(m.__emotion_styles!==void 0)return m;switch(typeof u){case"boolean":return"";case"object":{var b=u;if(b.anim===1)return zi={name:b.name,styles:b.styles,next:zi},b.name;var C=u;if(C.styles!==void 0){var O=C.next;if(O!==void 0)for(;O!==void 0;)zi={name:O.name,styles:O.styles,next:zi},O=O.next;var d=C.styles+";";return d}return bx(r,i,u)}case"function":{if(r!==void 0){var a=zi,h=u(r);return zi=a,Ls(r,i,h)}break}}var g=u;if(i==null)return g;var s=i[g];return s!==void 0?s:g}function bx(r,i,u){var m="";if(Array.isArray(u))for(var b=0;b<u.length;b++)m+=Ls(r,i,u[b])+";";else for(var C in u){var O=u[C];if(typeof O!="object"){var d=O;i!=null&&i[d]!==void 0?m+=C+"{"+i[d]+"}":_m(d)&&(m+=gf(C)+":"+wm(C,d)+";")}else if(Array.isArray(O)&&typeof O[0]=="string"&&(i==null||i[O[0]]===void 0))for(var a=0;a<O.length;a++)_m(O[a])&&(m+=gf(C)+":"+wm(C,O[a])+";");else{var h=Ls(r,i,O);switch(C){case"animation":case"animationName":{m+=gf(C)+":"+h+";";break}default:m+=C+"{"+h+"}"}}}return m}var Tm=/label:\s*([^\s;{]+)\s*(;|$)/g,zi;function Ll(r,i,u){if(r.length===1&&typeof r[0]=="object"&&r[0]!==null&&r[0].styles!==void 0)return r[0];var m=!0,b="";zi=void 0;var C=r[0];if(C==null||C.raw===void 0)m=!1,b+=Ls(u,i,C);else{var O=C;b+=O[0]}for(var d=1;d<r.length;d++)if(b+=Ls(u,i,r[d]),m){var a=C;b+=a[d]}Tm.lastIndex=0;for(var h="",g;(g=Tm.exec(b))!==null;)h+="-"+g[1];var s=px(b)+h;return{name:s,styles:b,next:zi}}var Sx=function(i){return i()},xx=wf.useInsertionEffect?wf.useInsertionEffect:!1,Vv=xx||Sx,Gv=G.createContext(typeof HTMLElement<"u"?ux({key:"css"}):null);Gv.Provider;var Wv=function(i){return G.forwardRef(function(u,m){var b=G.useContext(Gv);return i(u,b,m)})},qf=G.createContext({}),Kf={}.hasOwnProperty,kf="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Cx=function(i,u){var m={};for(var b in u)Kf.call(u,b)&&(m[b]=u[b]);return m[kf]=i,m},_x=function(i){var u=i.cache,m=i.serialized,b=i.isStringTag;return $f(u,m,b),Vv(function(){return Xv(u,m,b)}),null},wx=Wv(function(r,i,u){var m=r.css;typeof m=="string"&&i.registered[m]!==void 0&&(m=i.registered[m]);var b=r[kf],C=[m],O="";typeof r.className=="string"?O=Yv(i.registered,C,r.className):r.className!=null&&(O=r.className+" ");var d=Ll(C,void 0,G.useContext(qf));O+=i.key+"-"+d.name;var a={};for(var h in r)Kf.call(r,h)&&h!=="css"&&h!==kf&&(a[h]=r[h]);return a.className=O,u&&(a.ref=u),G.createElement(G.Fragment,null,G.createElement(_x,{cache:i,serialized:d,isStringTag:typeof b=="string"}),G.createElement(b,a))}),Tx=wx,Om=function(i,u){var m=arguments;if(u==null||!Kf.call(u,"css"))return G.createElement.apply(void 0,m);var b=m.length,C=new Array(b);C[0]=Tx,C[1]=Cx(i,u);for(var O=2;O<b;O++)C[O]=m[O];return G.createElement.apply(null,C)};(function(r){var i;i||(i=r.JSX||(r.JSX={}))})(Om||(Om={}));function Qf(){for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return Ll(i)}function Fs(){var r=Qf.apply(void 0,arguments),i="animation-"+r.name;return{name:i,styles:"@keyframes "+i+"{"+r.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Ox=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ex=Uv(function(r){return Ox.test(r)||r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)<91}),Ax=Ex,Rx=function(i){return i!=="theme"},Em=function(i){return typeof i=="string"&&i.charCodeAt(0)>96?Ax:Rx},Am=function(i,u,m){var b;if(u){var C=u.shouldForwardProp;b=i.__emotion_forwardProp&&C?function(O){return i.__emotion_forwardProp(O)&&C(O)}:C}return typeof b!="function"&&m&&(b=i.__emotion_forwardProp),b},Dx=function(i){var u=i.cache,m=i.serialized,b=i.isStringTag;return $f(u,m,b),Vv(function(){return Xv(u,m,b)}),null},kx=function r(i,u){var m=i.__emotion_real===i,b=m&&i.__emotion_base||i,C,O;u!==void 0&&(C=u.label,O=u.target);var d=Am(i,u,m),a=d||Em(b),h=!a("as");return function(){var g=arguments,s=m&&i.__emotion_styles!==void 0?i.__emotion_styles.slice(0):[];if(C!==void 0&&s.push("label:"+C+";"),g[0]==null||g[0].raw===void 0)s.push.apply(s,g);else{var l=g[0];s.push(l[0]);for(var o=g.length,c=1;c<o;c++)s.push(g[c],l[c])}var v=Wv(function(f,y,x){var _=h&&f.as||b,T="",E=[],A=f;if(f.theme==null){A={};for(var k in f)A[k]=f[k];A.theme=G.useContext(qf)}typeof f.className=="string"?T=Yv(y.registered,E,f.className):f.className!=null&&(T=f.className+" ");var z=Ll(s.concat(E),y.registered,A);T+=y.key+"-"+z.name,O!==void 0&&(T+=" "+O);var I=h&&d===void 0?Em(_):a,D={};for(var q in f)h&&q==="as"||I(q)&&(D[q]=f[q]);return D.className=T,x&&(D.ref=x),G.createElement(G.Fragment,null,G.createElement(Dx,{cache:y,serialized:z,isStringTag:typeof _=="string"}),G.createElement(_,D))});return v.displayName=C!==void 0?C:"Styled("+(typeof b=="string"?b:b.displayName||b.name||"Component")+")",v.defaultProps=i.defaultProps,v.__emotion_real=v,v.__emotion_base=b,v.__emotion_styles=s,v.__emotion_forwardProp=d,Object.defineProperty(v,"toString",{value:function(){return"."+O}}),v.withComponent=function(f,y){var x=r(f,ml({},u,y,{shouldForwardProp:Am(v,y,!0)}));return x.apply(void 0,s)},v}},Mx=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Mf=kx.bind(null);Mx.forEach(function(r){Mf[r]=Mf(r)});function Lx(r,i){return Mf(r,i)}function jx(r,i){Array.isArray(r.__emotion_styles)&&(r.__emotion_styles=i(r.__emotion_styles))}const Rm=[];function dr(r){return Rm[0]=r,Ll(Rm)}var pf={exports:{}},ae={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function Px(){if(Dm)return ae;Dm=1;var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),O=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),s=Symbol.for("react.lazy"),l=Symbol.for("react.view_transition"),o=Symbol.for("react.client.reference");function c(v){if(typeof v=="object"&&v!==null){var f=v.$$typeof;switch(f){case r:switch(v=v.type,v){case u:case b:case m:case a:case h:case l:return v;default:switch(v=v&&v.$$typeof,v){case O:case d:case s:case g:return v;case C:return v;default:return f}}case i:return f}}}return ae.ContextConsumer=C,ae.ContextProvider=O,ae.Element=r,ae.ForwardRef=d,ae.Fragment=u,ae.Lazy=s,ae.Memo=g,ae.Portal=i,ae.Profiler=b,ae.StrictMode=m,ae.Suspense=a,ae.SuspenseList=h,ae.isContextConsumer=function(v){return c(v)===C},ae.isContextProvider=function(v){return c(v)===O},ae.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===r},ae.isForwardRef=function(v){return c(v)===d},ae.isFragment=function(v){return c(v)===u},ae.isLazy=function(v){return c(v)===s},ae.isMemo=function(v){return c(v)===g},ae.isPortal=function(v){return c(v)===i},ae.isProfiler=function(v){return c(v)===b},ae.isStrictMode=function(v){return c(v)===m},ae.isSuspense=function(v){return c(v)===a},ae.isSuspenseList=function(v){return c(v)===h},ae.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===u||v===b||v===m||v===a||v===h||typeof v=="object"&&v!==null&&(v.$$typeof===s||v.$$typeof===g||v.$$typeof===O||v.$$typeof===C||v.$$typeof===d||v.$$typeof===o||v.getModuleId!==void 0)},ae.typeOf=c,ae}var km;function Bx(){return km||(km=1,pf.exports=Px()),pf.exports}var $v=Bx();function cn(r){if(typeof r!="object"||r===null)return!1;const i=Object.getPrototypeOf(r);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)}function qv(r){if(G.isValidElement(r)||$v.isValidElementType(r)||!cn(r))return r;const i={};return Object.keys(r).forEach(u=>{i[u]=qv(r[u])}),i}function ci(r,i,u={clone:!0}){const m=u.clone?{...r}:r;return cn(r)&&cn(i)&&Object.keys(i).forEach(b=>{G.isValidElement(i[b])||$v.isValidElementType(i[b])?m[b]=i[b]:cn(i[b])&&Object.prototype.hasOwnProperty.call(r,b)&&cn(r[b])?m[b]=ci(r[b],i[b],u):u.clone?m[b]=cn(i[b])?qv(i[b]):i[b]:m[b]=i[b]}),m}const Nx=r=>{const i=Object.keys(r).map(u=>({key:u,val:r[u]}))||[];return i.sort((u,m)=>u.val-m.val),i.reduce((u,m)=>({...u,[m.key]:m.val}),{})};function zx(r){const{values:i={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:u="px",step:m=5,...b}=r,C=Nx(i),O=Object.keys(C);function d(l){return`@media (min-width:${typeof i[l]=="number"?i[l]:l}${u})`}function a(l){return`@media (max-width:${(typeof i[l]=="number"?i[l]:l)-m/100}${u})`}function h(l,o){const c=O.indexOf(o);return`@media (min-width:${typeof i[l]=="number"?i[l]:l}${u}) and (max-width:${(c!==-1&&typeof i[O[c]]=="number"?i[O[c]]:o)-m/100}${u})`}function g(l){return O.indexOf(l)+1<O.length?h(l,O[O.indexOf(l)+1]):d(l)}function s(l){const o=O.indexOf(l);return o===0?d(O[1]):o===O.length-1?a(O[o]):h(l,O[O.indexOf(l)+1]).replace("@media","@media not all and")}return{keys:O,values:C,up:d,down:a,between:h,only:g,not:s,unit:u,...b}}function Mm(r,i){if(!r.containerQueries)return i;const u=Object.keys(i).filter(m=>m.startsWith("@container")).sort((m,b)=>{const C=/min-width:\s*([0-9.]+)/;return+(m.match(C)?.[1]||0)-+(b.match(C)?.[1]||0)});return u.length?u.reduce((m,b)=>{const C=i[b];return delete m[b],m[b]=C,m},{...i}):i}function Fx(r,i){return i==="@"||i.startsWith("@")&&(r.some(u=>i.startsWith(`@${u}`))||!!i.match(/^@\d/))}function Ux(r,i){const u=i.match(/^@([^/]+)?\/?(.+)?$/);if(!u)return null;const[,m,b]=u,C=Number.isNaN(+m)?m||0:+m;return r.containerQueries(b).up(C)}function Hx(r){const i=(C,O)=>C.replace("@media",O?`@container ${O}`:"@container");function u(C,O){C.up=(...d)=>i(r.breakpoints.up(...d),O),C.down=(...d)=>i(r.breakpoints.down(...d),O),C.between=(...d)=>i(r.breakpoints.between(...d),O),C.only=(...d)=>i(r.breakpoints.only(...d),O),C.not=(...d)=>{const a=i(r.breakpoints.not(...d),O);return a.includes("not all and")?a.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):a}}const m={},b=C=>(u(m,C),m);return u(b),{...r,containerQueries:b}}const Yx={borderRadius:4};function Os(r,i){return i?ci(r,i,{clone:!1}):r}const jl={xs:0,sm:600,md:900,lg:1200,xl:1536},Lm={keys:["xs","sm","md","lg","xl"],up:r=>`@media (min-width:${jl[r]}px)`},Xx={containerQueries:r=>({up:i=>{let u=typeof i=="number"?i:jl[i]||i;return typeof u=="number"&&(u=`${u}px`),r?`@container ${r} (min-width:${u})`:`@container (min-width:${u})`}})};function hn(r,i,u){const m=r.theme||{};if(Array.isArray(i)){const C=m.breakpoints||Lm;return i.reduce((O,d,a)=>(O[C.up(C.keys[a])]=u(i[a]),O),{})}if(typeof i=="object"){const C=m.breakpoints||Lm;return Object.keys(i).reduce((O,d)=>{if(Fx(C.keys,d)){const a=Ux(m.containerQueries?m:Xx,d);a&&(O[a]=u(i[d],d))}else if(Object.keys(C.values||jl).includes(d)){const a=C.up(d);O[a]=u(i[d],d)}else{const a=d;O[a]=i[a]}return O},{})}return u(i)}function Ix(r={}){return r.keys?.reduce((u,m)=>{const b=r.up(m);return u[b]={},u},{})||{}}function jm(r,i){return r.reduce((u,m)=>{const b=u[m];return(!b||Object.keys(b).length===0)&&delete u[m],u},i)}function Wt(r){if(typeof r!="string")throw new Error(gr(7));return r.charAt(0).toUpperCase()+r.slice(1)}function Pl(r,i,u=!0){if(!i||typeof i!="string")return null;if(r&&r.vars&&u){const m=`vars.${i}`.split(".").reduce((b,C)=>b&&b[C]?b[C]:null,r);if(m!=null)return m}return i.split(".").reduce((m,b)=>m&&m[b]!=null?m[b]:null,r)}function yl(r,i,u,m=u){let b;return typeof r=="function"?b=r(u):Array.isArray(r)?b=r[u]||m:b=Pl(r,u)||m,i&&(b=i(b,m,r)),b}function we(r){const{prop:i,cssProperty:u=r.prop,themeKey:m,transform:b}=r,C=O=>{if(O[i]==null)return null;const d=O[i],a=O.theme,h=Pl(a,m)||{};return hn(O,d,s=>{let l=yl(h,b,s);return s===l&&typeof s=="string"&&(l=yl(h,b,`${i}${s==="default"?"":Wt(s)}`,s)),u===!1?l:{[u]:l}})};return C.propTypes={},C.filterProps=[i],C}function Vx(r){const i={};return u=>(i[u]===void 0&&(i[u]=r(u)),i[u])}const Gx={m:"margin",p:"padding"},Wx={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Pm={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},$x=Vx(r=>{if(r.length>2)if(Pm[r])r=Pm[r];else return[r];const[i,u]=r.split(""),m=Gx[i],b=Wx[u]||"";return Array.isArray(b)?b.map(C=>m+C):[m+b]}),Zf=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Jf=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Zf,...Jf];function Us(r,i,u,m){const b=Pl(r,i,!0)??u;return typeof b=="number"||typeof b=="string"?C=>typeof C=="string"?C:typeof b=="string"?b.startsWith("var(")&&C===0?0:b.startsWith("var(")&&C===1?b:`calc(${C} * ${b})`:b*C:Array.isArray(b)?C=>{if(typeof C=="string")return C;const O=Math.abs(C),d=b[O];return C>=0?d:typeof d=="number"?-d:typeof d=="string"&&d.startsWith("var(")?`calc(-1 * ${d})`:`-${d}`}:typeof b=="function"?b:()=>{}}function th(r){return Us(r,"spacing",8)}function Hs(r,i){return typeof i=="string"||i==null?i:r(i)}function qx(r,i){return u=>r.reduce((m,b)=>(m[b]=Hs(i,u),m),{})}function Kx(r,i,u,m){if(!i.includes(u))return null;const b=$x(u),C=qx(b,m),O=r[u];return hn(r,O,C)}function Kv(r,i){const u=th(r.theme);return Object.keys(r).map(m=>Kx(r,i,m,u)).reduce(Os,{})}function be(r){return Kv(r,Zf)}be.propTypes={};be.filterProps=Zf;function Se(r){return Kv(r,Jf)}Se.propTypes={};Se.filterProps=Jf;function Qv(r=8,i=th({spacing:r})){if(r.mui)return r;const u=(...m)=>(m.length===0?[1]:m).map(C=>{const O=i(C);return typeof O=="number"?`${O}px`:O}).join(" ");return u.mui=!0,u}function Bl(...r){const i=r.reduce((m,b)=>(b.filterProps.forEach(C=>{m[C]=b}),m),{}),u=m=>Object.keys(m).reduce((b,C)=>i[C]?Os(b,i[C](m)):b,{});return u.propTypes={},u.filterProps=r.reduce((m,b)=>m.concat(b.filterProps),[]),u}function xi(r){return typeof r!="number"?r:`${r}px solid`}function _i(r,i){return we({prop:r,themeKey:"borders",transform:i})}const Qx=_i("border",xi),Zx=_i("borderTop",xi),Jx=_i("borderRight",xi),t1=_i("borderBottom",xi),e1=_i("borderLeft",xi),i1=_i("borderColor"),n1=_i("borderTopColor"),r1=_i("borderRightColor"),a1=_i("borderBottomColor"),s1=_i("borderLeftColor"),o1=_i("outline",xi),l1=_i("outlineColor"),Nl=r=>{if(r.borderRadius!==void 0&&r.borderRadius!==null){const i=Us(r.theme,"shape.borderRadius",4),u=m=>({borderRadius:Hs(i,m)});return hn(r,r.borderRadius,u)}return null};Nl.propTypes={};Nl.filterProps=["borderRadius"];Bl(Qx,Zx,Jx,t1,e1,i1,n1,r1,a1,s1,Nl,o1,l1);const zl=r=>{if(r.gap!==void 0&&r.gap!==null){const i=Us(r.theme,"spacing",8),u=m=>({gap:Hs(i,m)});return hn(r,r.gap,u)}return null};zl.propTypes={};zl.filterProps=["gap"];const Fl=r=>{if(r.columnGap!==void 0&&r.columnGap!==null){const i=Us(r.theme,"spacing",8),u=m=>({columnGap:Hs(i,m)});return hn(r,r.columnGap,u)}return null};Fl.propTypes={};Fl.filterProps=["columnGap"];const Ul=r=>{if(r.rowGap!==void 0&&r.rowGap!==null){const i=Us(r.theme,"spacing",8),u=m=>({rowGap:Hs(i,m)});return hn(r,r.rowGap,u)}return null};Ul.propTypes={};Ul.filterProps=["rowGap"];const c1=we({prop:"gridColumn"}),u1=we({prop:"gridRow"}),f1=we({prop:"gridAutoFlow"}),h1=we({prop:"gridAutoColumns"}),d1=we({prop:"gridAutoRows"}),g1=we({prop:"gridTemplateColumns"}),p1=we({prop:"gridTemplateRows"}),m1=we({prop:"gridTemplateAreas"}),v1=we({prop:"gridArea"});Bl(zl,Fl,Ul,c1,u1,f1,h1,d1,g1,p1,m1,v1);function ma(r,i){return i==="grey"?i:r}const y1=we({prop:"color",themeKey:"palette",transform:ma}),b1=we({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ma}),S1=we({prop:"backgroundColor",themeKey:"palette",transform:ma});Bl(y1,b1,S1);function oi(r){return r<=1&&r!==0?`${r*100}%`:r}const x1=we({prop:"width",transform:oi}),eh=r=>{if(r.maxWidth!==void 0&&r.maxWidth!==null){const i=u=>{const m=r.theme?.breakpoints?.values?.[u]||jl[u];return m?r.theme?.breakpoints?.unit!=="px"?{maxWidth:`${m}${r.theme.breakpoints.unit}`}:{maxWidth:m}:{maxWidth:oi(u)}};return hn(r,r.maxWidth,i)}return null};eh.filterProps=["maxWidth"];const C1=we({prop:"minWidth",transform:oi}),_1=we({prop:"height",transform:oi}),w1=we({prop:"maxHeight",transform:oi}),T1=we({prop:"minHeight",transform:oi});we({prop:"size",cssProperty:"width",transform:oi});we({prop:"size",cssProperty:"height",transform:oi});const O1=we({prop:"boxSizing"});Bl(x1,eh,C1,_1,w1,T1,O1);const Hl={border:{themeKey:"borders",transform:xi},borderTop:{themeKey:"borders",transform:xi},borderRight:{themeKey:"borders",transform:xi},borderBottom:{themeKey:"borders",transform:xi},borderLeft:{themeKey:"borders",transform:xi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:xi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Nl},color:{themeKey:"palette",transform:ma},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ma},backgroundColor:{themeKey:"palette",transform:ma},p:{style:Se},pt:{style:Se},pr:{style:Se},pb:{style:Se},pl:{style:Se},px:{style:Se},py:{style:Se},padding:{style:Se},paddingTop:{style:Se},paddingRight:{style:Se},paddingBottom:{style:Se},paddingLeft:{style:Se},paddingX:{style:Se},paddingY:{style:Se},paddingInline:{style:Se},paddingInlineStart:{style:Se},paddingInlineEnd:{style:Se},paddingBlock:{style:Se},paddingBlockStart:{style:Se},paddingBlockEnd:{style:Se},m:{style:be},mt:{style:be},mr:{style:be},mb:{style:be},ml:{style:be},mx:{style:be},my:{style:be},margin:{style:be},marginTop:{style:be},marginRight:{style:be},marginBottom:{style:be},marginLeft:{style:be},marginX:{style:be},marginY:{style:be},marginInline:{style:be},marginInlineStart:{style:be},marginInlineEnd:{style:be},marginBlock:{style:be},marginBlockStart:{style:be},marginBlockEnd:{style:be},displayPrint:{cssProperty:!1,transform:r=>({"@media print":{display:r}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:zl},rowGap:{style:Ul},columnGap:{style:Fl},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:oi},maxWidth:{style:eh},minWidth:{transform:oi},height:{transform:oi},maxHeight:{transform:oi},minHeight:{transform:oi},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function E1(...r){const i=r.reduce((m,b)=>m.concat(Object.keys(b)),[]),u=new Set(i);return r.every(m=>u.size===Object.keys(m).length)}function A1(r,i){return typeof r=="function"?r(i):r}function R1(){function r(u,m,b,C){const O={[u]:m,theme:b},d=C[u];if(!d)return{[u]:m};const{cssProperty:a=u,themeKey:h,transform:g,style:s}=d;if(m==null)return null;if(h==="typography"&&m==="inherit")return{[u]:m};const l=Pl(b,h)||{};return s?s(O):hn(O,m,c=>{let v=yl(l,g,c);return c===v&&typeof c=="string"&&(v=yl(l,g,`${u}${c==="default"?"":Wt(c)}`,c)),a===!1?v:{[a]:v}})}function i(u){const{sx:m,theme:b={},nested:C}=u||{};if(!m)return null;const O=b.unstable_sxConfig??Hl;function d(a){let h=a;if(typeof a=="function")h=a(b);else if(typeof a!="object")return a;if(!h)return null;const g=Ix(b.breakpoints),s=Object.keys(g);let l=g;return Object.keys(h).forEach(o=>{const c=A1(h[o],b);if(c!=null)if(typeof c=="object")if(O[o])l=Os(l,r(o,c,b,O));else{const v=hn({theme:b},c,f=>({[o]:f}));E1(v,c)?l[o]=i({sx:c,theme:b,nested:!0}):l=Os(l,v)}else l=Os(l,r(o,c,b,O))}),!C&&b.modularCssLayers?{"@layer sx":Mm(b,jm(s,l))}:Mm(b,jm(s,l))}return Array.isArray(m)?m.map(d):d(m)}return i}const ba=R1();ba.filterProps=["sx"];function D1(r,i){const u=this;if(u.vars){if(!u.colorSchemes?.[r]||typeof u.getColorSchemeSelector!="function")return{};let m=u.getColorSchemeSelector(r);return m==="&"?i:((m.includes("data-")||m.includes("."))&&(m=`*:where(${m.replace(/\s*&$/,"")}) &`),{[m]:i})}return u.palette.mode===r?i:{}}function ih(r={},...i){const{breakpoints:u={},palette:m={},spacing:b,shape:C={},...O}=r,d=zx(u),a=Qv(b);let h=ci({breakpoints:d,direction:"ltr",components:{},palette:{mode:"light",...m},spacing:a,shape:{...Yx,...C}},O);return h=Hx(h),h.applyStyles=D1,h=i.reduce((g,s)=>ci(g,s),h),h.unstable_sxConfig={...Hl,...O?.unstable_sxConfig},h.unstable_sx=function(s){return ba({sx:s,theme:this})},h}function k1(r){return Object.keys(r).length===0}function M1(r=null){const i=G.useContext(qf);return!i||k1(i)?r:i}const L1=ih();function j1(r=L1){return M1(r)}const Bm=r=>r,P1=()=>{let r=Bm;return{configure(i){r=i},generate(i){return r(i)},reset(){r=Bm}}},B1=P1();function Zv(r){var i,u,m="";if(typeof r=="string"||typeof r=="number")m+=r;else if(typeof r=="object")if(Array.isArray(r)){var b=r.length;for(i=0;i<b;i++)r[i]&&(u=Zv(r[i]))&&(m&&(m+=" "),m+=u)}else for(u in r)r[u]&&(m&&(m+=" "),m+=u);return m}function ee(){for(var r,i,u=0,m="",b=arguments.length;u<b;u++)(r=arguments[u])&&(i=Zv(r))&&(m&&(m+=" "),m+=i);return m}const N1={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ri(r,i,u="Mui"){const m=N1[i];return m?`${u}-${m}`:`${B1.generate(r)}-${i}`}function wi(r,i,u="Mui"){const m={};return i.forEach(b=>{m[b]=Ri(r,b,u)}),m}function Jv(r){const{variants:i,...u}=r,m={variants:i,style:dr(u),isProcessed:!0};return m.style===u||i&&i.forEach(b=>{typeof b.style!="function"&&(b.style=dr(b.style))}),m}const z1=ih();function mf(r){return r!=="ownerState"&&r!=="theme"&&r!=="sx"&&r!=="as"}function cr(r,i){return i&&r&&typeof r=="object"&&r.styles&&!r.styles.startsWith("@layer")&&(r.styles=`@layer ${i}{${String(r.styles)}}`),r}function F1(r){return r?(i,u)=>u[r]:null}function U1(r,i,u){r.theme=X1(r.theme)?u:r.theme[i]||r.theme}function gl(r,i,u){const m=typeof i=="function"?i(r):i;if(Array.isArray(m))return m.flatMap(b=>gl(r,b,u));if(Array.isArray(m?.variants)){let b;if(m.isProcessed)b=u?cr(m.style,u):m.style;else{const{variants:C,...O}=m;b=u?cr(dr(O),u):O}return t0(r,m.variants,[b],u)}return m?.isProcessed?u?cr(dr(m.style),u):m.style:u?cr(dr(m),u):m}function t0(r,i,u=[],m=void 0){let b;t:for(let C=0;C<i.length;C+=1){const O=i[C];if(typeof O.props=="function"){if(b??={...r,...r.ownerState,ownerState:r.ownerState},!O.props(b))continue}else for(const d in O.props)if(r[d]!==O.props[d]&&r.ownerState?.[d]!==O.props[d])continue t;typeof O.style=="function"?(b??={...r,...r.ownerState,ownerState:r.ownerState},u.push(m?cr(dr(O.style(b)),m):O.style(b))):u.push(m?cr(dr(O.style),m):O.style)}return u}function H1(r={}){const{themeId:i,defaultTheme:u=z1,rootShouldForwardProp:m=mf,slotShouldForwardProp:b=mf}=r;function C(d){U1(d,i,u)}return(d,a={})=>{jx(d,A=>A.filter(k=>k!==ba));const{name:h,slot:g,skipVariantsResolver:s,skipSx:l,overridesResolver:o=F1(V1(g)),...c}=a,v=h&&h.startsWith("Mui")||g?"components":"custom",f=s!==void 0?s:g&&g!=="Root"&&g!=="root"||!1,y=l||!1;let x=mf;g==="Root"||g==="root"?x=m:g?x=b:I1(d)&&(x=void 0);const _=Lx(d,{shouldForwardProp:x,label:Y1(),...c}),T=A=>{if(A.__emotion_real===A)return A;if(typeof A=="function")return function(z){return gl(z,A,z.theme.modularCssLayers?v:void 0)};if(cn(A)){const k=Jv(A);return function(I){return k.variants?gl(I,k,I.theme.modularCssLayers?v:void 0):I.theme.modularCssLayers?cr(k.style,v):k.style}}return A},E=(...A)=>{const k=[],z=A.map(T),I=[];if(k.push(C),h&&o&&I.push(function(Z){const ut=Z.theme.components?.[h]?.styleOverrides;if(!ut)return null;const U={};for(const tt in ut)U[tt]=gl(Z,ut[tt],Z.theme.modularCssLayers?"theme":void 0);return o(Z,U)}),h&&!f&&I.push(function(Z){const ut=Z.theme?.components?.[h]?.variants;return ut?t0(Z,ut,[],Z.theme.modularCssLayers?"theme":void 0):null}),y||I.push(ba),Array.isArray(z[0])){const st=z.shift(),Z=new Array(k.length).fill(""),$=new Array(I.length).fill("");let ut;ut=[...Z,...st,...$],ut.raw=[...Z,...st.raw,...$],k.unshift(ut)}const D=[...k,...z,...I],q=_(...D);return d.muiName&&(q.muiName=d.muiName),q};return _.withConfig&&(E.withConfig=_.withConfig),E}}function Y1(r,i){return void 0}function X1(r){for(const i in r)return!1;return!0}function I1(r){return typeof r=="string"&&r.charCodeAt(0)>96}function V1(r){return r&&r.charAt(0).toLowerCase()+r.slice(1)}function bl(r,i,u=!1){const m={...i};for(const b in r)if(Object.prototype.hasOwnProperty.call(r,b)){const C=b;if(C==="components"||C==="slots")m[C]={...r[C],...m[C]};else if(C==="componentsProps"||C==="slotProps"){const O=r[C],d=i[C];if(!d)m[C]=O||{};else if(!O)m[C]=d;else{m[C]={...d};for(const a in O)if(Object.prototype.hasOwnProperty.call(O,a)){const h=a;m[C][h]=bl(O[h],d[h],u)}}}else C==="className"&&u&&i.className?m.className=ee(r?.className,i?.className):C==="style"&&u&&i.style?m.style={...r?.style,...i?.style}:m[C]===void 0&&(m[C]=r[C])}return m}const Sl=typeof window<"u"?G.useLayoutEffect:G.useEffect;function da(r,i=Number.MIN_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER){return Math.max(i,Math.min(r,u))}function nh(r,i=0,u=1){return da(r,i,u)}function G1(r){r=r.slice(1);const i=new RegExp(`.{1,${r.length>=6?2:1}}`,"g");let u=r.match(i);return u&&u[0].length===1&&(u=u.map(m=>m+m)),u?`rgb${u.length===4?"a":""}(${u.map((m,b)=>b<3?parseInt(m,16):Math.round(parseInt(m,16)/255*1e3)/1e3).join(", ")})`:""}function Hn(r){if(r.type)return r;if(r.charAt(0)==="#")return Hn(G1(r));const i=r.indexOf("("),u=r.substring(0,i);if(!["rgb","rgba","hsl","hsla","color"].includes(u))throw new Error(gr(9,r));let m=r.substring(i+1,r.length-1),b;if(u==="color"){if(m=m.split(" "),b=m.shift(),m.length===4&&m[3].charAt(0)==="/"&&(m[3]=m[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(b))throw new Error(gr(10,b))}else m=m.split(",");return m=m.map(C=>parseFloat(C)),{type:u,values:m,colorSpace:b}}const W1=r=>{const i=Hn(r);return i.values.slice(0,3).map((u,m)=>i.type.includes("hsl")&&m!==0?`${u}%`:u).join(" ")},_s=(r,i)=>{try{return W1(r)}catch{return r}};function Yl(r){const{type:i,colorSpace:u}=r;let{values:m}=r;return i.includes("rgb")?m=m.map((b,C)=>C<3?parseInt(b,10):b):i.includes("hsl")&&(m[1]=`${m[1]}%`,m[2]=`${m[2]}%`),i.includes("color")?m=`${u} ${m.join(" ")}`:m=`${m.join(", ")}`,`${i}(${m})`}function e0(r){r=Hn(r);const{values:i}=r,u=i[0],m=i[1]/100,b=i[2]/100,C=m*Math.min(b,1-b),O=(h,g=(h+u/30)%12)=>b-C*Math.max(Math.min(g-3,9-g,1),-1);let d="rgb";const a=[Math.round(O(0)*255),Math.round(O(8)*255),Math.round(O(4)*255)];return r.type==="hsla"&&(d+="a",a.push(i[3])),Yl({type:d,values:a})}function Lf(r){r=Hn(r);let i=r.type==="hsl"||r.type==="hsla"?Hn(e0(r)).values:r.values;return i=i.map(u=>(r.type!=="color"&&(u/=255),u<=.03928?u/12.92:((u+.055)/1.055)**2.4)),Number((.2126*i[0]+.7152*i[1]+.0722*i[2]).toFixed(3))}function $1(r,i){const u=Lf(r),m=Lf(i);return(Math.max(u,m)+.05)/(Math.min(u,m)+.05)}function Fi(r,i){return r=Hn(r),i=nh(i),(r.type==="rgb"||r.type==="hsl")&&(r.type+="a"),r.type==="color"?r.values[3]=`/${i}`:r.values[3]=i,Yl(r)}function il(r,i,u){try{return Fi(r,i)}catch{return r}}function js(r,i){if(r=Hn(r),i=nh(i),r.type.includes("hsl"))r.values[2]*=1-i;else if(r.type.includes("rgb")||r.type.includes("color"))for(let u=0;u<3;u+=1)r.values[u]*=1-i;return Yl(r)}function le(r,i,u){try{return js(r,i)}catch{return r}}function Ps(r,i){if(r=Hn(r),i=nh(i),r.type.includes("hsl"))r.values[2]+=(100-r.values[2])*i;else if(r.type.includes("rgb"))for(let u=0;u<3;u+=1)r.values[u]+=(255-r.values[u])*i;else if(r.type.includes("color"))for(let u=0;u<3;u+=1)r.values[u]+=(1-r.values[u])*i;return Yl(r)}function ce(r,i,u){try{return Ps(r,i)}catch{return r}}function q1(r,i=.15){return Lf(r)>.5?js(r,i):Ps(r,i)}function nl(r,i,u){try{return q1(r,i)}catch{return r}}const K1=G.createContext(),Q1=()=>G.useContext(K1)??!1,Z1=G.createContext(void 0);function J1(r){const{theme:i,name:u,props:m}=r;if(!i||!i.components||!i.components[u])return m;const b=i.components[u];return b.defaultProps?bl(b.defaultProps,m,i.components.mergeClassNameAndStyle):!b.styleOverrides&&!b.variants?bl(b,m,i.components.mergeClassNameAndStyle):m}function tC({props:r,name:i}){const u=G.useContext(Z1);return J1({props:r,name:i,theme:{components:u}})}let Nm=0;function eC(r){const[i,u]=G.useState(r),m=r||i;return G.useEffect(()=>{i==null&&(Nm+=1,u(`mui-${Nm}`))},[i]),m}const iC={...wf},zm=iC.useId;function i0(r){if(zm!==void 0){const i=zm();return r??i}return eC(r)}const Fm={theme:void 0};function nC(r){let i,u;return function(b){let C=i;return(C===void 0||b.theme!==u)&&(Fm.theme=b.theme,C=Jv(r(Fm)),i=C,u=b.theme),C}}function rC(r=""){function i(...m){if(!m.length)return"";const b=m[0];return typeof b=="string"&&!b.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${r?`${r}-`:""}${b}${i(...m.slice(1))})`:`, ${b}`}return(m,...b)=>`var(--${r?`${r}-`:""}${m}${i(...b)})`}const Um=(r,i,u,m=[])=>{let b=r;i.forEach((C,O)=>{O===i.length-1?Array.isArray(b)?b[Number(C)]=u:b&&typeof b=="object"&&(b[C]=u):b&&typeof b=="object"&&(b[C]||(b[C]=m.includes(C)?[]:{}),b=b[C])})},aC=(r,i,u)=>{function m(b,C=[],O=[]){Object.entries(b).forEach(([d,a])=>{(!u||u&&!u([...C,d]))&&a!=null&&(typeof a=="object"&&Object.keys(a).length>0?m(a,[...C,d],Array.isArray(a)?[...O,d]:O):i([...C,d],a,O))})}m(r)},sC=(r,i)=>typeof i=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(m=>r.includes(m))||r[r.length-1].toLowerCase().includes("opacity")?i:`${i}px`:i;function vf(r,i){const{prefix:u,shouldSkipGeneratingVar:m}=i||{},b={},C={},O={};return aC(r,(d,a,h)=>{if((typeof a=="string"||typeof a=="number")&&(!m||!m(d,a))){const g=`--${u?`${u}-`:""}${d.join("-")}`,s=sC(d,a);Object.assign(b,{[g]:s}),Um(C,d,`var(${g})`,h),Um(O,d,`var(${g}, ${s})`,h)}},d=>d[0]==="vars"),{css:b,vars:C,varsWithDefaults:O}}function oC(r,i={}){const{getSelector:u=f,disableCssColorScheme:m,colorSchemeSelector:b}=i,{colorSchemes:C={},components:O,defaultColorScheme:d="light",...a}=r,{vars:h,css:g,varsWithDefaults:s}=vf(a,i);let l=s;const o={},{[d]:c,...v}=C;if(Object.entries(v||{}).forEach(([_,T])=>{const{vars:E,css:A,varsWithDefaults:k}=vf(T,i);l=ci(l,k),o[_]={css:A,vars:E}}),c){const{css:_,vars:T,varsWithDefaults:E}=vf(c,i);l=ci(l,E),o[d]={css:_,vars:T}}function f(_,T){let E=b;if(b==="class"&&(E=".%s"),b==="data"&&(E="[data-%s]"),b?.startsWith("data-")&&!b.includes("%s")&&(E=`[${b}="%s"]`),_){if(E==="media")return r.defaultColorScheme===_?":root":{[`@media (prefers-color-scheme: ${C[_]?.palette?.mode||_})`]:{":root":T}};if(E)return r.defaultColorScheme===_?`:root, ${E.replace("%s",String(_))}`:E.replace("%s",String(_))}return":root"}return{vars:l,generateThemeVars:()=>{let _={...h};return Object.entries(o).forEach(([,{vars:T}])=>{_=ci(_,T)}),_},generateStyleSheets:()=>{const _=[],T=r.defaultColorScheme||"light";function E(z,I){Object.keys(I).length&&_.push(typeof z=="string"?{[z]:{...I}}:z)}E(u(void 0,{...g}),g);const{[T]:A,...k}=o;if(A){const{css:z}=A,I=C[T]?.palette?.mode,D=!m&&I?{colorScheme:I,...z}:{...z};E(u(T,{...D}),D)}return Object.entries(k).forEach(([z,{css:I}])=>{const D=C[z]?.palette?.mode,q=!m&&D?{colorScheme:D,...I}:{...I};E(u(z,{...q}),q)}),_}}}function lC(r){return function(u){return r==="media"?`@media (prefers-color-scheme: ${u})`:r?r.startsWith("data-")&&!r.includes("%s")?`[${r}="${u}"] &`:r==="class"?`.${u} &`:r==="data"?`[data-${u}] &`:`${r.replace("%s",u)} &`:"&"}}function Xi(r,i,u=void 0){const m={};for(const b in r){const C=r[b];let O="",d=!0;for(let a=0;a<C.length;a+=1){const h=C[a];h&&(O+=(d===!0?"":" ")+i(h),d=!1,u&&u[h]&&(O+=" "+u[h]))}m[b]=O}return m}function n0(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ds.white,default:Ds.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const cC=n0();function r0(){return{text:{primary:Ds.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ds.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Hm=r0();function Ym(r,i,u,m){const b=m.light||m,C=m.dark||m*1.5;r[i]||(r.hasOwnProperty(u)?r[i]=r[u]:i==="light"?r.light=Ps(r.main,b):i==="dark"&&(r.dark=js(r.main,C)))}function uC(r="light"){return r==="dark"?{main:aa[200],light:aa[50],dark:aa[400]}:{main:aa[700],light:aa[400],dark:aa[800]}}function fC(r="light"){return r==="dark"?{main:ra[200],light:ra[50],dark:ra[400]}:{main:ra[500],light:ra[300],dark:ra[700]}}function hC(r="light"){return r==="dark"?{main:na[500],light:na[300],dark:na[700]}:{main:na[700],light:na[400],dark:na[800]}}function dC(r="light"){return r==="dark"?{main:sa[400],light:sa[300],dark:sa[700]}:{main:sa[700],light:sa[500],dark:sa[900]}}function gC(r="light"){return r==="dark"?{main:oa[400],light:oa[300],dark:oa[700]}:{main:oa[800],light:oa[500],dark:oa[900]}}function pC(r="light"){return r==="dark"?{main:Ss[400],light:Ss[300],dark:Ss[700]}:{main:"#ed6c02",light:Ss[500],dark:Ss[900]}}function rh(r){const{mode:i="light",contrastThreshold:u=3,tonalOffset:m=.2,...b}=r,C=r.primary||uC(i),O=r.secondary||fC(i),d=r.error||hC(i),a=r.info||dC(i),h=r.success||gC(i),g=r.warning||pC(i);function s(v){return $1(v,Hm.text.primary)>=u?Hm.text.primary:cC.text.primary}const l=({color:v,name:f,mainShade:y=500,lightShade:x=300,darkShade:_=700})=>{if(v={...v},!v.main&&v[y]&&(v.main=v[y]),!v.hasOwnProperty("main"))throw new Error(gr(11,f?` (${f})`:"",y));if(typeof v.main!="string")throw new Error(gr(12,f?` (${f})`:"",JSON.stringify(v.main)));return Ym(v,"light",x,m),Ym(v,"dark",_,m),v.contrastText||(v.contrastText=s(v.main)),v};let o;return i==="light"?o=n0():i==="dark"&&(o=r0()),ci({common:{...Ds},mode:i,primary:l({color:C,name:"primary"}),secondary:l({color:O,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:l({color:d,name:"error"}),warning:l({color:g,name:"warning"}),info:l({color:a,name:"info"}),success:l({color:h,name:"success"}),grey:PS,contrastThreshold:u,getContrastText:s,augmentColor:l,tonalOffset:m,...o},b)}function mC(r){const i={};return Object.entries(r).forEach(m=>{const[b,C]=m;typeof C=="object"&&(i[b]=`${C.fontStyle?`${C.fontStyle} `:""}${C.fontVariant?`${C.fontVariant} `:""}${C.fontWeight?`${C.fontWeight} `:""}${C.fontStretch?`${C.fontStretch} `:""}${C.fontSize||""}${C.lineHeight?`/${C.lineHeight} `:""}${C.fontFamily||""}`)}),i}function vC(r,i){return{toolbar:{minHeight:56,[r.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[r.up("sm")]:{minHeight:64}},...i}}function yC(r){return Math.round(r*1e5)/1e5}const Xm={textTransform:"uppercase"},Im='"Roboto", "Helvetica", "Arial", sans-serif';function bC(r,i){const{fontFamily:u=Im,fontSize:m=14,fontWeightLight:b=300,fontWeightRegular:C=400,fontWeightMedium:O=500,fontWeightBold:d=700,htmlFontSize:a=16,allVariants:h,pxToRem:g,...s}=typeof i=="function"?i(r):i,l=m/14,o=g||(f=>`${f/a*l}rem`),c=(f,y,x,_,T)=>({fontFamily:u,fontWeight:f,fontSize:o(y),lineHeight:x,...u===Im?{letterSpacing:`${yC(_/y)}em`}:{},...T,...h}),v={h1:c(b,96,1.167,-1.5),h2:c(b,60,1.2,-.5),h3:c(C,48,1.167,0),h4:c(C,34,1.235,.25),h5:c(C,24,1.334,0),h6:c(O,20,1.6,.15),subtitle1:c(C,16,1.75,.15),subtitle2:c(O,14,1.57,.1),body1:c(C,16,1.5,.15),body2:c(C,14,1.43,.15),button:c(O,14,1.75,.4,Xm),caption:c(C,12,1.66,.4),overline:c(C,12,2.66,1,Xm),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ci({htmlFontSize:a,pxToRem:o,fontFamily:u,fontSize:m,fontWeightLight:b,fontWeightRegular:C,fontWeightMedium:O,fontWeightBold:d,...v},s,{clone:!1})}const SC=.2,xC=.14,CC=.12;function ge(...r){return[`${r[0]}px ${r[1]}px ${r[2]}px ${r[3]}px rgba(0,0,0,${SC})`,`${r[4]}px ${r[5]}px ${r[6]}px ${r[7]}px rgba(0,0,0,${xC})`,`${r[8]}px ${r[9]}px ${r[10]}px ${r[11]}px rgba(0,0,0,${CC})`].join(",")}const _C=["none",ge(0,2,1,-1,0,1,1,0,0,1,3,0),ge(0,3,1,-2,0,2,2,0,0,1,5,0),ge(0,3,3,-2,0,3,4,0,0,1,8,0),ge(0,2,4,-1,0,4,5,0,0,1,10,0),ge(0,3,5,-1,0,5,8,0,0,1,14,0),ge(0,3,5,-1,0,6,10,0,0,1,18,0),ge(0,4,5,-2,0,7,10,1,0,2,16,1),ge(0,5,5,-3,0,8,10,1,0,3,14,2),ge(0,5,6,-3,0,9,12,1,0,3,16,2),ge(0,6,6,-3,0,10,14,1,0,4,18,3),ge(0,6,7,-4,0,11,15,1,0,4,20,3),ge(0,7,8,-4,0,12,17,2,0,5,22,4),ge(0,7,8,-4,0,13,19,2,0,5,24,4),ge(0,7,9,-4,0,14,21,2,0,5,26,4),ge(0,8,9,-5,0,15,22,2,0,6,28,5),ge(0,8,10,-5,0,16,24,2,0,6,30,5),ge(0,8,11,-5,0,17,26,2,0,6,32,5),ge(0,9,11,-5,0,18,28,2,0,7,34,6),ge(0,9,12,-6,0,19,29,2,0,7,36,6),ge(0,10,13,-6,0,20,31,3,0,8,38,7),ge(0,10,13,-6,0,21,33,3,0,8,40,7),ge(0,10,14,-6,0,22,35,3,0,8,42,7),ge(0,11,14,-7,0,23,36,3,0,9,44,8),ge(0,11,15,-7,0,24,38,3,0,9,46,8)],wC={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},TC={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Vm(r){return`${Math.round(r)}ms`}function OC(r){if(!r)return 0;const i=r/36;return Math.min(Math.round((4+15*i**.25+i/5)*10),3e3)}function EC(r){const i={...wC,...r.easing},u={...TC,...r.duration};return{getAutoHeightDuration:OC,create:(b=["all"],C={})=>{const{duration:O=u.standard,easing:d=i.easeInOut,delay:a=0,...h}=C;return(Array.isArray(b)?b:[b]).map(g=>`${g} ${typeof O=="string"?O:Vm(O)} ${d} ${typeof a=="string"?a:Vm(a)}`).join(",")},...r,easing:i,duration:u}}const AC={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function RC(r){return cn(r)||typeof r>"u"||typeof r=="string"||typeof r=="boolean"||typeof r=="number"||Array.isArray(r)}function a0(r={}){const i={...r};function u(m){const b=Object.entries(m);for(let C=0;C<b.length;C++){const[O,d]=b[C];!RC(d)||O.startsWith("unstable_")?delete m[O]:cn(d)&&(m[O]={...d},u(m[O]))}}return u(i),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(i,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function jf(r={},...i){const{breakpoints:u,mixins:m={},spacing:b,palette:C={},transitions:O={},typography:d={},shape:a,...h}=r;if(r.vars&&r.generateThemeVars===void 0)throw new Error(gr(20));const g=rh(C),s=ih(r);let l=ci(s,{mixins:vC(s.breakpoints,m),palette:g,shadows:_C.slice(),typography:bC(g,d),transitions:EC(O),zIndex:{...AC}});return l=ci(l,h),l=i.reduce((o,c)=>ci(o,c),l),l.unstable_sxConfig={...Hl,...h?.unstable_sxConfig},l.unstable_sx=function(c){return ba({sx:c,theme:this})},l.toRuntimeSource=a0,l}function Pf(r){let i;return r<1?i=5.11916*r**2:i=4.5*Math.log(r+1)+2,Math.round(i*10)/1e3}const DC=[...Array(25)].map((r,i)=>{if(i===0)return"none";const u=Pf(i);return`linear-gradient(rgba(255 255 255 / ${u}), rgba(255 255 255 / ${u}))`});function s0(r){return{inputPlaceholder:r==="dark"?.5:.42,inputUnderline:r==="dark"?.7:.42,switchTrackDisabled:r==="dark"?.2:.12,switchTrack:r==="dark"?.3:.38}}function o0(r){return r==="dark"?DC:[]}function kC(r){const{palette:i={mode:"light"},opacity:u,overlays:m,...b}=r,C=rh(i);return{palette:C,opacity:{...s0(C.mode),...u},overlays:m||o0(C.mode),...b}}function MC(r){return!!r[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!r[0].match(/sxConfig$/)||r[0]==="palette"&&!!r[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const LC=r=>[...[...Array(25)].map((i,u)=>`--${r?`${r}-`:""}overlays-${u}`),`--${r?`${r}-`:""}palette-AppBar-darkBg`,`--${r?`${r}-`:""}palette-AppBar-darkColor`],jC=r=>(i,u)=>{const m=r.rootSelector||":root",b=r.colorSchemeSelector;let C=b;if(b==="class"&&(C=".%s"),b==="data"&&(C="[data-%s]"),b?.startsWith("data-")&&!b.includes("%s")&&(C=`[${b}="%s"]`),r.defaultColorScheme===i){if(i==="dark"){const O={};return LC(r.cssVarPrefix).forEach(d=>{O[d]=u[d],delete u[d]}),C==="media"?{[m]:u,"@media (prefers-color-scheme: dark)":{[m]:O}}:C?{[C.replace("%s",i)]:O,[`${m}, ${C.replace("%s",i)}`]:u}:{[m]:{...u,...O}}}if(C&&C!=="media")return`${m}, ${C.replace("%s",String(i))}`}else if(i){if(C==="media")return{[`@media (prefers-color-scheme: ${String(i)})`]:{[m]:u}};if(C)return C.replace("%s",String(i))}return m};function PC(r,i){i.forEach(u=>{r[u]||(r[u]={})})}function yt(r,i,u){!r[i]&&u&&(r[i]=u)}function ws(r){return typeof r!="string"||!r.startsWith("hsl")?r:e0(r)}function on(r,i){`${i}Channel`in r||(r[`${i}Channel`]=_s(ws(r[i])))}function BC(r){return typeof r=="number"?`${r}px`:typeof r=="string"||typeof r=="function"||Array.isArray(r)?r:"8px"}const Bi=r=>{try{return r()}catch{}},NC=(r="mui")=>rC(r);function yf(r,i,u,m){if(!i)return;i=i===!0?{}:i;const b=m==="dark"?"dark":"light";if(!u){r[m]=kC({...i,palette:{mode:b,...i?.palette}});return}const{palette:C,...O}=jf({...u,palette:{mode:b,...i?.palette}});return r[m]={...i,palette:C,opacity:{...s0(b),...i?.opacity},overlays:i?.overlays||o0(b)},O}function zC(r={},...i){const{colorSchemes:u={light:!0},defaultColorScheme:m,disableCssColorScheme:b=!1,cssVarPrefix:C="mui",shouldSkipGeneratingVar:O=MC,colorSchemeSelector:d=u.light&&u.dark?"media":void 0,rootSelector:a=":root",...h}=r,g=Object.keys(u)[0],s=m||(u.light&&g!=="light"?"light":g),l=NC(C),{[s]:o,light:c,dark:v,...f}=u,y={...f};let x=o;if((s==="dark"&&!("dark"in u)||s==="light"&&!("light"in u))&&(x=!0),!x)throw new Error(gr(21,s));const _=yf(y,x,h,s);c&&!y.light&&yf(y,c,void 0,"light"),v&&!y.dark&&yf(y,v,void 0,"dark");let T={defaultColorScheme:s,..._,cssVarPrefix:C,colorSchemeSelector:d,rootSelector:a,getCssVar:l,colorSchemes:y,font:{...mC(_.typography),..._.font},spacing:BC(h.spacing)};Object.keys(T.colorSchemes).forEach(I=>{const D=T.colorSchemes[I].palette,q=st=>{const Z=st.split("-"),$=Z[1],ut=Z[2];return l(st,D[$][ut])};if(D.mode==="light"&&(yt(D.common,"background","#fff"),yt(D.common,"onBackground","#000")),D.mode==="dark"&&(yt(D.common,"background","#000"),yt(D.common,"onBackground","#fff")),PC(D,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),D.mode==="light"){yt(D.Alert,"errorColor",le(D.error.light,.6)),yt(D.Alert,"infoColor",le(D.info.light,.6)),yt(D.Alert,"successColor",le(D.success.light,.6)),yt(D.Alert,"warningColor",le(D.warning.light,.6)),yt(D.Alert,"errorFilledBg",q("palette-error-main")),yt(D.Alert,"infoFilledBg",q("palette-info-main")),yt(D.Alert,"successFilledBg",q("palette-success-main")),yt(D.Alert,"warningFilledBg",q("palette-warning-main")),yt(D.Alert,"errorFilledColor",Bi(()=>D.getContrastText(D.error.main))),yt(D.Alert,"infoFilledColor",Bi(()=>D.getContrastText(D.info.main))),yt(D.Alert,"successFilledColor",Bi(()=>D.getContrastText(D.success.main))),yt(D.Alert,"warningFilledColor",Bi(()=>D.getContrastText(D.warning.main))),yt(D.Alert,"errorStandardBg",ce(D.error.light,.9)),yt(D.Alert,"infoStandardBg",ce(D.info.light,.9)),yt(D.Alert,"successStandardBg",ce(D.success.light,.9)),yt(D.Alert,"warningStandardBg",ce(D.warning.light,.9)),yt(D.Alert,"errorIconColor",q("palette-error-main")),yt(D.Alert,"infoIconColor",q("palette-info-main")),yt(D.Alert,"successIconColor",q("palette-success-main")),yt(D.Alert,"warningIconColor",q("palette-warning-main")),yt(D.AppBar,"defaultBg",q("palette-grey-100")),yt(D.Avatar,"defaultBg",q("palette-grey-400")),yt(D.Button,"inheritContainedBg",q("palette-grey-300")),yt(D.Button,"inheritContainedHoverBg",q("palette-grey-A100")),yt(D.Chip,"defaultBorder",q("palette-grey-400")),yt(D.Chip,"defaultAvatarColor",q("palette-grey-700")),yt(D.Chip,"defaultIconColor",q("palette-grey-700")),yt(D.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),yt(D.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),yt(D.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),yt(D.LinearProgress,"primaryBg",ce(D.primary.main,.62)),yt(D.LinearProgress,"secondaryBg",ce(D.secondary.main,.62)),yt(D.LinearProgress,"errorBg",ce(D.error.main,.62)),yt(D.LinearProgress,"infoBg",ce(D.info.main,.62)),yt(D.LinearProgress,"successBg",ce(D.success.main,.62)),yt(D.LinearProgress,"warningBg",ce(D.warning.main,.62)),yt(D.Skeleton,"bg",`rgba(${q("palette-text-primaryChannel")} / 0.11)`),yt(D.Slider,"primaryTrack",ce(D.primary.main,.62)),yt(D.Slider,"secondaryTrack",ce(D.secondary.main,.62)),yt(D.Slider,"errorTrack",ce(D.error.main,.62)),yt(D.Slider,"infoTrack",ce(D.info.main,.62)),yt(D.Slider,"successTrack",ce(D.success.main,.62)),yt(D.Slider,"warningTrack",ce(D.warning.main,.62));const st=nl(D.background.default,.8);yt(D.SnackbarContent,"bg",st),yt(D.SnackbarContent,"color",Bi(()=>D.getContrastText(st))),yt(D.SpeedDialAction,"fabHoverBg",nl(D.background.paper,.15)),yt(D.StepConnector,"border",q("palette-grey-400")),yt(D.StepContent,"border",q("palette-grey-400")),yt(D.Switch,"defaultColor",q("palette-common-white")),yt(D.Switch,"defaultDisabledColor",q("palette-grey-100")),yt(D.Switch,"primaryDisabledColor",ce(D.primary.main,.62)),yt(D.Switch,"secondaryDisabledColor",ce(D.secondary.main,.62)),yt(D.Switch,"errorDisabledColor",ce(D.error.main,.62)),yt(D.Switch,"infoDisabledColor",ce(D.info.main,.62)),yt(D.Switch,"successDisabledColor",ce(D.success.main,.62)),yt(D.Switch,"warningDisabledColor",ce(D.warning.main,.62)),yt(D.TableCell,"border",ce(il(D.divider,1),.88)),yt(D.Tooltip,"bg",il(D.grey[700],.92))}if(D.mode==="dark"){yt(D.Alert,"errorColor",ce(D.error.light,.6)),yt(D.Alert,"infoColor",ce(D.info.light,.6)),yt(D.Alert,"successColor",ce(D.success.light,.6)),yt(D.Alert,"warningColor",ce(D.warning.light,.6)),yt(D.Alert,"errorFilledBg",q("palette-error-dark")),yt(D.Alert,"infoFilledBg",q("palette-info-dark")),yt(D.Alert,"successFilledBg",q("palette-success-dark")),yt(D.Alert,"warningFilledBg",q("palette-warning-dark")),yt(D.Alert,"errorFilledColor",Bi(()=>D.getContrastText(D.error.dark))),yt(D.Alert,"infoFilledColor",Bi(()=>D.getContrastText(D.info.dark))),yt(D.Alert,"successFilledColor",Bi(()=>D.getContrastText(D.success.dark))),yt(D.Alert,"warningFilledColor",Bi(()=>D.getContrastText(D.warning.dark))),yt(D.Alert,"errorStandardBg",le(D.error.light,.9)),yt(D.Alert,"infoStandardBg",le(D.info.light,.9)),yt(D.Alert,"successStandardBg",le(D.success.light,.9)),yt(D.Alert,"warningStandardBg",le(D.warning.light,.9)),yt(D.Alert,"errorIconColor",q("palette-error-main")),yt(D.Alert,"infoIconColor",q("palette-info-main")),yt(D.Alert,"successIconColor",q("palette-success-main")),yt(D.Alert,"warningIconColor",q("palette-warning-main")),yt(D.AppBar,"defaultBg",q("palette-grey-900")),yt(D.AppBar,"darkBg",q("palette-background-paper")),yt(D.AppBar,"darkColor",q("palette-text-primary")),yt(D.Avatar,"defaultBg",q("palette-grey-600")),yt(D.Button,"inheritContainedBg",q("palette-grey-800")),yt(D.Button,"inheritContainedHoverBg",q("palette-grey-700")),yt(D.Chip,"defaultBorder",q("palette-grey-700")),yt(D.Chip,"defaultAvatarColor",q("palette-grey-300")),yt(D.Chip,"defaultIconColor",q("palette-grey-300")),yt(D.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),yt(D.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),yt(D.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),yt(D.LinearProgress,"primaryBg",le(D.primary.main,.5)),yt(D.LinearProgress,"secondaryBg",le(D.secondary.main,.5)),yt(D.LinearProgress,"errorBg",le(D.error.main,.5)),yt(D.LinearProgress,"infoBg",le(D.info.main,.5)),yt(D.LinearProgress,"successBg",le(D.success.main,.5)),yt(D.LinearProgress,"warningBg",le(D.warning.main,.5)),yt(D.Skeleton,"bg",`rgba(${q("palette-text-primaryChannel")} / 0.13)`),yt(D.Slider,"primaryTrack",le(D.primary.main,.5)),yt(D.Slider,"secondaryTrack",le(D.secondary.main,.5)),yt(D.Slider,"errorTrack",le(D.error.main,.5)),yt(D.Slider,"infoTrack",le(D.info.main,.5)),yt(D.Slider,"successTrack",le(D.success.main,.5)),yt(D.Slider,"warningTrack",le(D.warning.main,.5));const st=nl(D.background.default,.98);yt(D.SnackbarContent,"bg",st),yt(D.SnackbarContent,"color",Bi(()=>D.getContrastText(st))),yt(D.SpeedDialAction,"fabHoverBg",nl(D.background.paper,.15)),yt(D.StepConnector,"border",q("palette-grey-600")),yt(D.StepContent,"border",q("palette-grey-600")),yt(D.Switch,"defaultColor",q("palette-grey-300")),yt(D.Switch,"defaultDisabledColor",q("palette-grey-600")),yt(D.Switch,"primaryDisabledColor",le(D.primary.main,.55)),yt(D.Switch,"secondaryDisabledColor",le(D.secondary.main,.55)),yt(D.Switch,"errorDisabledColor",le(D.error.main,.55)),yt(D.Switch,"infoDisabledColor",le(D.info.main,.55)),yt(D.Switch,"successDisabledColor",le(D.success.main,.55)),yt(D.Switch,"warningDisabledColor",le(D.warning.main,.55)),yt(D.TableCell,"border",le(il(D.divider,1),.68)),yt(D.Tooltip,"bg",il(D.grey[700],.92))}on(D.background,"default"),on(D.background,"paper"),on(D.common,"background"),on(D.common,"onBackground"),on(D,"divider"),Object.keys(D).forEach(st=>{const Z=D[st];st!=="tonalOffset"&&Z&&typeof Z=="object"&&(Z.main&&yt(D[st],"mainChannel",_s(ws(Z.main))),Z.light&&yt(D[st],"lightChannel",_s(ws(Z.light))),Z.dark&&yt(D[st],"darkChannel",_s(ws(Z.dark))),Z.contrastText&&yt(D[st],"contrastTextChannel",_s(ws(Z.contrastText))),st==="text"&&(on(D[st],"primary"),on(D[st],"secondary")),st==="action"&&(Z.active&&on(D[st],"active"),Z.selected&&on(D[st],"selected")))})}),T=i.reduce((I,D)=>ci(I,D),T);const E={prefix:C,disableCssColorScheme:b,shouldSkipGeneratingVar:O,getSelector:jC(T)},{vars:A,generateThemeVars:k,generateStyleSheets:z}=oC(T,E);return T.vars=A,Object.entries(T.colorSchemes[T.defaultColorScheme]).forEach(([I,D])=>{T[I]=D}),T.generateThemeVars=k,T.generateStyleSheets=z,T.generateSpacing=function(){return Qv(h.spacing,th(this))},T.getColorSchemeSelector=lC(d),T.spacing=T.generateSpacing(),T.shouldSkipGeneratingVar=O,T.unstable_sxConfig={...Hl,...h?.unstable_sxConfig},T.unstable_sx=function(D){return ba({sx:D,theme:this})},T.toRuntimeSource=a0,T}function Gm(r,i,u){r.colorSchemes&&u&&(r.colorSchemes[i]={...u!==!0&&u,palette:rh({...u===!0?{}:u.palette,mode:i})})}function FC(r={},...i){const{palette:u,cssVariables:m=!1,colorSchemes:b=u?void 0:{light:!0},defaultColorScheme:C=u?.mode,...O}=r,d=C||"light",a=b?.[d],h={...b,...u?{[d]:{...typeof a!="boolean"&&a,palette:u}}:void 0};if(m===!1){if(!("colorSchemes"in r))return jf(r,...i);let g=u;"palette"in r||h[d]&&(h[d]!==!0?g=h[d].palette:d==="dark"&&(g={mode:"dark"}));const s=jf({...r,palette:g},...i);return s.defaultColorScheme=d,s.colorSchemes=h,s.palette.mode==="light"&&(s.colorSchemes.light={...h.light!==!0&&h.light,palette:s.palette},Gm(s,"dark",h.dark)),s.palette.mode==="dark"&&(s.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:s.palette},Gm(s,"light",h.light)),s}return!u&&!("light"in h)&&d==="light"&&(h.light=!0),zC({...O,colorSchemes:h,defaultColorScheme:d,...typeof m!="boolean"&&m},...i)}const l0=FC();function ah(){const r=j1(l0);return r[Lv]||r}function sh(r){return r!=="ownerState"&&r!=="theme"&&r!=="sx"&&r!=="as"}const c0=r=>sh(r)&&r!=="classes",se=H1({themeId:Lv,defaultTheme:l0,rootShouldForwardProp:c0});function Wm(...r){return r.reduce((i,u)=>u==null?i:function(...b){i.apply(this,b),u.apply(this,b)},()=>{})}const ui=nC;function Di(r){return tC(r)}function Ai(r){return r&&r.ownerDocument||document}function xl(r){return Ai(r).defaultView||window}function $m(r,i){typeof r=="function"?r(i):r&&(r.current=i)}function UC(r){const{controlled:i,default:u}=r,{current:m}=G.useRef(i!==void 0),[b,C]=G.useState(u),O=m?i:b,d=G.useCallback(a=>{m||C(a)},[]);return[O,d]}function fn(r){const i=G.useRef(r);return Sl(()=>{i.current=r}),G.useRef((...u)=>(0,i.current)(...u)).current}function dn(...r){const i=G.useRef(void 0),u=G.useCallback(m=>{const b=r.map(C=>{if(C==null)return null;if(typeof C=="function"){const O=C,d=O(m);return typeof d=="function"?d:()=>{O(null)}}return C.current=m,()=>{C.current=null}});return()=>{b.forEach(C=>C?.())}},r);return G.useMemo(()=>r.every(m=>m==null)?null:m=>{i.current&&(i.current(),i.current=void 0),m!=null&&(i.current=u(m))},r)}function u0(r,i){if(r==null)return{};var u={};for(var m in r)if({}.hasOwnProperty.call(r,m)){if(i.indexOf(m)!==-1)continue;u[m]=r[m]}return u}function Bf(r,i){return Bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,m){return u.__proto__=m,u},Bf(r,i)}function f0(r,i){r.prototype=Object.create(i.prototype),r.prototype.constructor=r,Bf(r,i)}var h0=Rv();const rl=Xf(h0),qm={disabled:!1},Cl=Ui.createContext(null);var HC=function(i){return i.scrollTop},Ts="unmounted",or="exited",lr="entering",ga="entered",Nf="exiting",gn=function(r){f0(i,r);function i(m,b){var C;C=r.call(this,m,b)||this;var O=b,d=O&&!O.isMounting?m.enter:m.appear,a;return C.appearStatus=null,m.in?d?(a=or,C.appearStatus=lr):a=ga:m.unmountOnExit||m.mountOnEnter?a=Ts:a=or,C.state={status:a},C.nextCallback=null,C}i.getDerivedStateFromProps=function(b,C){var O=b.in;return O&&C.status===Ts?{status:or}:null};var u=i.prototype;return u.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},u.componentDidUpdate=function(b){var C=null;if(b!==this.props){var O=this.state.status;this.props.in?O!==lr&&O!==ga&&(C=lr):(O===lr||O===ga)&&(C=Nf)}this.updateStatus(!1,C)},u.componentWillUnmount=function(){this.cancelNextCallback()},u.getTimeouts=function(){var b=this.props.timeout,C,O,d;return C=O=d=b,b!=null&&typeof b!="number"&&(C=b.exit,O=b.enter,d=b.appear!==void 0?b.appear:O),{exit:C,enter:O,appear:d}},u.updateStatus=function(b,C){if(b===void 0&&(b=!1),C!==null)if(this.cancelNextCallback(),C===lr){if(this.props.unmountOnExit||this.props.mountOnEnter){var O=this.props.nodeRef?this.props.nodeRef.current:rl.findDOMNode(this);O&&HC(O)}this.performEnter(b)}else this.performExit();else this.props.unmountOnExit&&this.state.status===or&&this.setState({status:Ts})},u.performEnter=function(b){var C=this,O=this.props.enter,d=this.context?this.context.isMounting:b,a=this.props.nodeRef?[d]:[rl.findDOMNode(this),d],h=a[0],g=a[1],s=this.getTimeouts(),l=d?s.appear:s.enter;if(!b&&!O||qm.disabled){this.safeSetState({status:ga},function(){C.props.onEntered(h)});return}this.props.onEnter(h,g),this.safeSetState({status:lr},function(){C.props.onEntering(h,g),C.onTransitionEnd(l,function(){C.safeSetState({status:ga},function(){C.props.onEntered(h,g)})})})},u.performExit=function(){var b=this,C=this.props.exit,O=this.getTimeouts(),d=this.props.nodeRef?void 0:rl.findDOMNode(this);if(!C||qm.disabled){this.safeSetState({status:or},function(){b.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:Nf},function(){b.props.onExiting(d),b.onTransitionEnd(O.exit,function(){b.safeSetState({status:or},function(){b.props.onExited(d)})})})},u.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},u.safeSetState=function(b,C){C=this.setNextCallback(C),this.setState(b,C)},u.setNextCallback=function(b){var C=this,O=!0;return this.nextCallback=function(d){O&&(O=!1,C.nextCallback=null,b(d))},this.nextCallback.cancel=function(){O=!1},this.nextCallback},u.onTransitionEnd=function(b,C){this.setNextCallback(C);var O=this.props.nodeRef?this.props.nodeRef.current:rl.findDOMNode(this),d=b==null&&!this.props.addEndListener;if(!O||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[O,this.nextCallback],h=a[0],g=a[1];this.props.addEndListener(h,g)}b!=null&&setTimeout(this.nextCallback,b)},u.render=function(){var b=this.state.status;if(b===Ts)return null;var C=this.props,O=C.children;C.in,C.mountOnEnter,C.unmountOnExit,C.appear,C.enter,C.exit,C.timeout,C.addEndListener,C.onEnter,C.onEntering,C.onEntered,C.onExit,C.onExiting,C.onExited,C.nodeRef;var d=u0(C,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ui.createElement(Cl.Provider,{value:null},typeof O=="function"?O(b,d):Ui.cloneElement(Ui.Children.only(O),d))},i}(Ui.Component);gn.contextType=Cl;gn.propTypes={};function la(){}gn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:la,onEntering:la,onEntered:la,onExit:la,onExiting:la,onExited:la};gn.UNMOUNTED=Ts;gn.EXITED=or;gn.ENTERING=lr;gn.ENTERED=ga;gn.EXITING=Nf;function YC(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function oh(r,i){var u=function(C){return i&&G.isValidElement(C)?i(C):C},m=Object.create(null);return r&&G.Children.map(r,function(b){return b}).forEach(function(b){m[b.key]=u(b)}),m}function XC(r,i){r=r||{},i=i||{};function u(g){return g in i?i[g]:r[g]}var m=Object.create(null),b=[];for(var C in r)C in i?b.length&&(m[C]=b,b=[]):b.push(C);var O,d={};for(var a in i){if(m[a])for(O=0;O<m[a].length;O++){var h=m[a][O];d[m[a][O]]=u(h)}d[a]=u(a)}for(O=0;O<b.length;O++)d[b[O]]=u(b[O]);return d}function ur(r,i,u){return u[i]!=null?u[i]:r.props[i]}function IC(r,i){return oh(r.children,function(u){return G.cloneElement(u,{onExited:i.bind(null,u),in:!0,appear:ur(u,"appear",r),enter:ur(u,"enter",r),exit:ur(u,"exit",r)})})}function VC(r,i,u){var m=oh(r.children),b=XC(i,m);return Object.keys(b).forEach(function(C){var O=b[C];if(G.isValidElement(O)){var d=C in i,a=C in m,h=i[C],g=G.isValidElement(h)&&!h.props.in;a&&(!d||g)?b[C]=G.cloneElement(O,{onExited:u.bind(null,O),in:!0,exit:ur(O,"exit",r),enter:ur(O,"enter",r)}):!a&&d&&!g?b[C]=G.cloneElement(O,{in:!1}):a&&d&&G.isValidElement(h)&&(b[C]=G.cloneElement(O,{onExited:u.bind(null,O),in:h.props.in,exit:ur(O,"exit",r),enter:ur(O,"enter",r)}))}}),b}var GC=Object.values||function(r){return Object.keys(r).map(function(i){return r[i]})},WC={component:"div",childFactory:function(i){return i}},lh=function(r){f0(i,r);function i(m,b){var C;C=r.call(this,m,b)||this;var O=C.handleExited.bind(YC(C));return C.state={contextValue:{isMounting:!0},handleExited:O,firstRender:!0},C}var u=i.prototype;return u.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},u.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(b,C){var O=C.children,d=C.handleExited,a=C.firstRender;return{children:a?IC(b,d):VC(b,O,d),firstRender:!1}},u.handleExited=function(b,C){var O=oh(this.props.children);b.key in O||(b.props.onExited&&b.props.onExited(C),this.mounted&&this.setState(function(d){var a=ml({},d.children);return delete a[b.key],{children:a}}))},u.render=function(){var b=this.props,C=b.component,O=b.childFactory,d=u0(b,["component","childFactory"]),a=this.state.contextValue,h=GC(this.state.children).map(O);return delete d.appear,delete d.enter,delete d.exit,C===null?Ui.createElement(Cl.Provider,{value:a},h):Ui.createElement(Cl.Provider,{value:a},Ui.createElement(C,d,h))},i}(Ui.Component);lh.propTypes={};lh.defaultProps=WC;const Km={};function d0(r,i){const u=G.useRef(Km);return u.current===Km&&(u.current=r(i)),u}const $C=[];function qC(r){G.useEffect(r,$C)}class ch{static create(){return new ch}currentId=null;start(i,u){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,u()},i)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function KC(){const r=d0(ch.create).current;return qC(r.disposeEffect),r}const QC=r=>r.scrollTop;function Qm(r,i){const{timeout:u,easing:m,style:b={}}=r;return{duration:b.transitionDuration??(typeof u=="number"?u:u[i.mode]||0),easing:b.transitionTimingFunction??(typeof m=="object"?m[i.mode]:m),delay:b.transitionDelay}}function ZC(r){return Ri("MuiPaper",r)}wi("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const JC=r=>{const{square:i,elevation:u,variant:m,classes:b}=r,C={root:["root",m,!i&&"rounded",m==="elevation"&&`elevation${u}`]};return Xi(C,ZC,b)},t_=se("div",{name:"MuiPaper",slot:"Root",overridesResolver:(r,i)=>{const{ownerState:u}=r;return[i.root,i[u.variant],!u.square&&i.rounded,u.variant==="elevation"&&i[`elevation${u.elevation}`]]}})(ui(({theme:r})=>({backgroundColor:(r.vars||r).palette.background.paper,color:(r.vars||r).palette.text.primary,transition:r.transitions.create("box-shadow"),variants:[{props:({ownerState:i})=>!i.square,style:{borderRadius:r.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(r.vars||r).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),g0=G.forwardRef(function(i,u){const m=Di({props:i,name:"MuiPaper"}),b=ah(),{className:C,component:O="div",elevation:d=1,square:a=!1,variant:h="elevation",...g}=m,s={...m,component:O,elevation:d,square:a,variant:h},l=JC(s);return Q.jsx(t_,{as:O,ownerState:s,className:ee(l.root,C),ref:u,...g,style:{...h==="elevation"&&{"--Paper-shadow":(b.vars||b).shadows[d],...b.vars&&{"--Paper-overlay":b.vars.overlays?.[d]},...!b.vars&&b.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Fi("#fff",Pf(d))}, ${Fi("#fff",Pf(d))})`}},...g.style}})});function e_(r){return typeof r=="string"}function p0(r,i,u){return r===void 0||e_(r)?i:{...i,ownerState:{...i.ownerState,...u}}}function m0(r,i,u){return typeof r=="function"?r(i,u):r}function Es(r,i=[]){if(r===void 0)return{};const u={};return Object.keys(r).filter(m=>m.match(/^on[A-Z]/)&&typeof r[m]=="function"&&!i.includes(m)).forEach(m=>{u[m]=r[m]}),u}function Zm(r){if(r===void 0)return{};const i={};return Object.keys(r).filter(u=>!(u.match(/^on[A-Z]/)&&typeof r[u]=="function")).forEach(u=>{i[u]=r[u]}),i}function v0(r){const{getSlotProps:i,additionalProps:u,externalSlotProps:m,externalForwardedProps:b,className:C}=r;if(!i){const o=ee(u?.className,C,b?.className,m?.className),c={...u?.style,...b?.style,...m?.style},v={...u,...b,...m};return o.length>0&&(v.className=o),Object.keys(c).length>0&&(v.style=c),{props:v,internalRef:void 0}}const O=Es({...b,...m}),d=Zm(m),a=Zm(b),h=i(O),g=ee(h?.className,u?.className,C,b?.className,m?.className),s={...h?.style,...u?.style,...b?.style,...m?.style},l={...h,...u,...a,...d};return g.length>0&&(l.className=g),Object.keys(s).length>0&&(l.style=s),{props:l,internalRef:h.ref}}function un(r,i){const{className:u,elementType:m,ownerState:b,externalForwardedProps:C,internalForwardedProps:O,shouldForwardComponentProp:d=!1,...a}=i,{component:h,slots:g={[r]:void 0},slotProps:s={[r]:void 0},...l}=C,o=g[r]||m,c=m0(s[r],b),{props:{component:v,...f},internalRef:y}=v0({className:u,...a,externalForwardedProps:r==="root"?l:void 0,externalSlotProps:c}),x=dn(y,c?.ref,i.ref),_=r==="root"?v||h:v,T=p0(o,{...r==="root"&&!h&&!g[r]&&O,...r!=="root"&&!g[r]&&O,...f,..._&&!d&&{as:_},..._&&d&&{component:_},ref:x},b);return[o,T]}function _l(r){try{return r.matches(":focus-visible")}catch{}return!1}class wl{static create(){return new wl}static use(){const i=d0(wl.create).current,[u,m]=G.useState(!1);return i.shouldMount=u,i.setShouldMount=m,G.useEffect(i.mountEffect,[u]),i}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=n_(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...i){this.mount().then(()=>this.ref.current?.start(...i))}stop(...i){this.mount().then(()=>this.ref.current?.stop(...i))}pulsate(...i){this.mount().then(()=>this.ref.current?.pulsate(...i))}}function i_(){return wl.use()}function n_(){let r,i;const u=new Promise((m,b)=>{r=m,i=b});return u.resolve=r,u.reject=i,u}function r_(r){const{className:i,classes:u,pulsate:m=!1,rippleX:b,rippleY:C,rippleSize:O,in:d,onExited:a,timeout:h}=r,[g,s]=G.useState(!1),l=ee(i,u.ripple,u.rippleVisible,m&&u.ripplePulsate),o={width:O,height:O,top:-(O/2)+C,left:-(O/2)+b},c=ee(u.child,g&&u.childLeaving,m&&u.childPulsate);return!d&&!g&&s(!0),G.useEffect(()=>{if(!d&&a!=null){const v=setTimeout(a,h);return()=>{clearTimeout(v)}}},[a,d,h]),Q.jsx("span",{className:l,style:o,children:Q.jsx("span",{className:c})})}const Si=wi("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),zf=550,a_=80,s_=Fs`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,o_=Fs`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,l_=Fs`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,c_=se("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),u_=se(r_,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Si.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${s_};
    animation-duration: ${zf}ms;
    animation-timing-function: ${({theme:r})=>r.transitions.easing.easeInOut};
  }

  &.${Si.ripplePulsate} {
    animation-duration: ${({theme:r})=>r.transitions.duration.shorter}ms;
  }

  & .${Si.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Si.childLeaving} {
    opacity: 0;
    animation-name: ${o_};
    animation-duration: ${zf}ms;
    animation-timing-function: ${({theme:r})=>r.transitions.easing.easeInOut};
  }

  & .${Si.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${l_};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:r})=>r.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,f_=G.forwardRef(function(i,u){const m=Di({props:i,name:"MuiTouchRipple"}),{center:b=!1,classes:C={},className:O,...d}=m,[a,h]=G.useState([]),g=G.useRef(0),s=G.useRef(null);G.useEffect(()=>{s.current&&(s.current(),s.current=null)},[a]);const l=G.useRef(!1),o=KC(),c=G.useRef(null),v=G.useRef(null),f=G.useCallback(T=>{const{pulsate:E,rippleX:A,rippleY:k,rippleSize:z,cb:I}=T;h(D=>[...D,Q.jsx(u_,{classes:{ripple:ee(C.ripple,Si.ripple),rippleVisible:ee(C.rippleVisible,Si.rippleVisible),ripplePulsate:ee(C.ripplePulsate,Si.ripplePulsate),child:ee(C.child,Si.child),childLeaving:ee(C.childLeaving,Si.childLeaving),childPulsate:ee(C.childPulsate,Si.childPulsate)},timeout:zf,pulsate:E,rippleX:A,rippleY:k,rippleSize:z},g.current)]),g.current+=1,s.current=I},[C]),y=G.useCallback((T={},E={},A=()=>{})=>{const{pulsate:k=!1,center:z=b||E.pulsate,fakeElement:I=!1}=E;if(T?.type==="mousedown"&&l.current){l.current=!1;return}T?.type==="touchstart"&&(l.current=!0);const D=I?null:v.current,q=D?D.getBoundingClientRect():{width:0,height:0,left:0,top:0};let st,Z,$;if(z||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)st=Math.round(q.width/2),Z=Math.round(q.height/2);else{const{clientX:ut,clientY:U}=T.touches&&T.touches.length>0?T.touches[0]:T;st=Math.round(ut-q.left),Z=Math.round(U-q.top)}if(z)$=Math.sqrt((2*q.width**2+q.height**2)/3),$%2===0&&($+=1);else{const ut=Math.max(Math.abs((D?D.clientWidth:0)-st),st)*2+2,U=Math.max(Math.abs((D?D.clientHeight:0)-Z),Z)*2+2;$=Math.sqrt(ut**2+U**2)}T?.touches?c.current===null&&(c.current=()=>{f({pulsate:k,rippleX:st,rippleY:Z,rippleSize:$,cb:A})},o.start(a_,()=>{c.current&&(c.current(),c.current=null)})):f({pulsate:k,rippleX:st,rippleY:Z,rippleSize:$,cb:A})},[b,f,o]),x=G.useCallback(()=>{y({},{pulsate:!0})},[y]),_=G.useCallback((T,E)=>{if(o.clear(),T?.type==="touchend"&&c.current){c.current(),c.current=null,o.start(0,()=>{_(T,E)});return}c.current=null,h(A=>A.length>0?A.slice(1):A),s.current=E},[o]);return G.useImperativeHandle(u,()=>({pulsate:x,start:y,stop:_}),[x,y,_]),Q.jsx(c_,{className:ee(Si.root,C.root,O),ref:v,...d,children:Q.jsx(lh,{component:null,exit:!0,children:a})})});function h_(r){return Ri("MuiButtonBase",r)}const d_=wi("MuiButtonBase",["root","disabled","focusVisible"]),g_=r=>{const{disabled:i,focusVisible:u,focusVisibleClassName:m,classes:b}=r,O=Xi({root:["root",i&&"disabled",u&&"focusVisible"]},h_,b);return u&&m&&(O.root+=` ${m}`),O},p_=se("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${d_.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),m_=G.forwardRef(function(i,u){const m=Di({props:i,name:"MuiButtonBase"}),{action:b,centerRipple:C=!1,children:O,className:d,component:a="button",disabled:h=!1,disableRipple:g=!1,disableTouchRipple:s=!1,focusRipple:l=!1,focusVisibleClassName:o,LinkComponent:c="a",onBlur:v,onClick:f,onContextMenu:y,onDragLeave:x,onFocus:_,onFocusVisible:T,onKeyDown:E,onKeyUp:A,onMouseDown:k,onMouseLeave:z,onMouseUp:I,onTouchEnd:D,onTouchMove:q,onTouchStart:st,tabIndex:Z=0,TouchRippleProps:$,touchRippleRef:ut,type:U,...tt}=m,nt=G.useRef(null),F=i_(),P=dn(F.ref,ut),[M,N]=G.useState(!1);h&&M&&N(!1),G.useImperativeHandle(b,()=>({focusVisible:()=>{N(!0),nt.current.focus()}}),[]);const X=F.shouldMount&&!g&&!h;G.useEffect(()=>{M&&l&&!g&&F.pulsate()},[g,l,M,F]);const L=ln(F,"start",k,s),B=ln(F,"stop",y,s),H=ln(F,"stop",x,s),Y=ln(F,"stop",I,s),rt=ln(F,"stop",ot=>{M&&ot.preventDefault(),z&&z(ot)},s),et=ln(F,"start",st,s),pt=ln(F,"stop",D,s),gt=ln(F,"stop",q,s),vt=ln(F,"stop",ot=>{_l(ot.target)||N(!1),v&&v(ot)},!1),it=fn(ot=>{nt.current||(nt.current=ot.currentTarget),_l(ot.target)&&(N(!0),T&&T(ot)),_&&_(ot)}),K=()=>{const ot=nt.current;return a&&a!=="button"&&!(ot.tagName==="A"&&ot.href)},dt=fn(ot=>{l&&!ot.repeat&&M&&ot.key===" "&&F.stop(ot,()=>{F.start(ot)}),ot.target===ot.currentTarget&&K()&&ot.key===" "&&ot.preventDefault(),E&&E(ot),ot.target===ot.currentTarget&&K()&&ot.key==="Enter"&&!h&&(ot.preventDefault(),f&&f(ot))}),mt=fn(ot=>{l&&ot.key===" "&&M&&!ot.defaultPrevented&&F.stop(ot,()=>{F.pulsate(ot)}),A&&A(ot),f&&ot.target===ot.currentTarget&&K()&&ot.key===" "&&!ot.defaultPrevented&&f(ot)});let ct=a;ct==="button"&&(tt.href||tt.to)&&(ct=c);const bt={};ct==="button"?(bt.type=U===void 0?"button":U,bt.disabled=h):(!tt.href&&!tt.to&&(bt.role="button"),h&&(bt["aria-disabled"]=h));const _t=dn(u,nt),kt={...m,centerRipple:C,component:a,disabled:h,disableRipple:g,disableTouchRipple:s,focusRipple:l,tabIndex:Z,focusVisible:M},At=g_(kt);return Q.jsxs(p_,{as:ct,className:ee(At.root,d),ownerState:kt,onBlur:vt,onClick:f,onContextMenu:B,onFocus:it,onKeyDown:dt,onKeyUp:mt,onMouseDown:L,onMouseLeave:rt,onMouseUp:Y,onDragLeave:H,onTouchEnd:pt,onTouchMove:gt,onTouchStart:et,ref:_t,tabIndex:h?-1:Z,type:U,...bt,...tt,children:[O,X?Q.jsx(f_,{ref:P,center:C,...$}):null]})});function ln(r,i,u,m=!1){return fn(b=>(u&&u(b),m||r[i](b),!0))}function v_(r){return typeof r.main=="string"}function y_(r,i=[]){if(!v_(r))return!1;for(const u of i)if(!r.hasOwnProperty(u)||typeof r[u]!="string")return!1;return!0}function Ys(r=[]){return([,i])=>i&&y_(i,r)}function b_(r){return Ri("MuiCircularProgress",r)}wi("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Fn=44,Ff=Fs`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Uf=Fs`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,S_=typeof Ff!="string"?Qf`
        animation: ${Ff} 1.4s linear infinite;
      `:null,x_=typeof Uf!="string"?Qf`
        animation: ${Uf} 1.4s ease-in-out infinite;
      `:null,C_=r=>{const{classes:i,variant:u,color:m,disableShrink:b}=r,C={root:["root",u,`color${Wt(m)}`],svg:["svg"],circle:["circle",`circle${Wt(u)}`,b&&"circleDisableShrink"]};return Xi(C,b_,i)},__=se("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(r,i)=>{const{ownerState:u}=r;return[i.root,i[u.variant],i[`color${Wt(u.color)}`]]}})(ui(({theme:r})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:r.transitions.create("transform")}},{props:{variant:"indeterminate"},style:S_||{animation:`${Ff} 1.4s linear infinite`}},...Object.entries(r.palette).filter(Ys()).map(([i])=>({props:{color:i},style:{color:(r.vars||r).palette[i].main}}))]}))),w_=se("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),T_=se("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(r,i)=>{const{ownerState:u}=r;return[i.circle,i[`circle${Wt(u.variant)}`],u.disableShrink&&i.circleDisableShrink]}})(ui(({theme:r})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:r.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:i})=>i.variant==="indeterminate"&&!i.disableShrink,style:x_||{animation:`${Uf} 1.4s ease-in-out infinite`}}]}))),O_=G.forwardRef(function(i,u){const m=Di({props:i,name:"MuiCircularProgress"}),{className:b,color:C="primary",disableShrink:O=!1,size:d=40,style:a,thickness:h=3.6,value:g=0,variant:s="indeterminate",...l}=m,o={...m,color:C,disableShrink:O,size:d,thickness:h,value:g,variant:s},c=C_(o),v={},f={},y={};if(s==="determinate"){const x=2*Math.PI*((Fn-h)/2);v.strokeDasharray=x.toFixed(3),y["aria-valuenow"]=Math.round(g),v.strokeDashoffset=`${((100-g)/100*x).toFixed(3)}px`,f.transform="rotate(-90deg)"}return Q.jsx(__,{className:ee(c.root,b),style:{width:d,height:d,...f,...a},ownerState:o,ref:u,role:"progressbar",...y,...l,children:Q.jsx(w_,{className:c.svg,ownerState:o,viewBox:`${Fn/2} ${Fn/2} ${Fn} ${Fn}`,children:Q.jsx(T_,{className:c.circle,style:v,ownerState:o,cx:Fn,cy:Fn,r:(Fn-h)/2,fill:"none",strokeWidth:h})})})});function Un(r){const{elementType:i,externalSlotProps:u,ownerState:m,skipResolvingSlotProps:b=!1,...C}=r,O=b?{}:m0(u,m),{props:d,internalRef:a}=v0({...C,externalSlotProps:O}),h=dn(a,O?.ref,r.additionalProps?.ref);return p0(i,{...d,ref:h},m)}function uh(r){return parseInt(G.version,10)>=19?r?.props?.ref||null:r?.ref||null}function E_(r){return typeof r=="function"?r():r}const A_=G.forwardRef(function(i,u){const{children:m,container:b,disablePortal:C=!1}=i,[O,d]=G.useState(null),a=dn(G.isValidElement(m)?uh(m):null,u);if(Sl(()=>{C||d(E_(b)||document.body)},[b,C]),Sl(()=>{if(O&&!C)return $m(u,O),()=>{$m(u,null)}},[u,O,C]),C){if(G.isValidElement(m)){const h={ref:a};return G.cloneElement(m,h)}return m}return O&&h0.createPortal(m,O)});function pl(r){return typeof r=="string"}const R_={entering:{opacity:1},entered:{opacity:1}},Hf=G.forwardRef(function(i,u){const m=ah(),b={enter:m.transitions.duration.enteringScreen,exit:m.transitions.duration.leavingScreen},{addEndListener:C,appear:O=!0,children:d,easing:a,in:h,onEnter:g,onEntered:s,onEntering:l,onExit:o,onExited:c,onExiting:v,style:f,timeout:y=b,TransitionComponent:x=gn,..._}=i,T=G.useRef(null),E=dn(T,uh(d),u),A=$=>ut=>{if($){const U=T.current;ut===void 0?$(U):$(U,ut)}},k=A(l),z=A(($,ut)=>{QC($);const U=Qm({style:f,timeout:y,easing:a},{mode:"enter"});$.style.webkitTransition=m.transitions.create("opacity",U),$.style.transition=m.transitions.create("opacity",U),g&&g($,ut)}),I=A(s),D=A(v),q=A($=>{const ut=Qm({style:f,timeout:y,easing:a},{mode:"exit"});$.style.webkitTransition=m.transitions.create("opacity",ut),$.style.transition=m.transitions.create("opacity",ut),o&&o($)}),st=A(c),Z=$=>{C&&C(T.current,$)};return Q.jsx(x,{appear:O,in:h,nodeRef:T,onEnter:z,onEntered:I,onEntering:k,onExit:q,onExited:st,onExiting:D,addEndListener:Z,timeout:y,..._,children:($,{ownerState:ut,...U})=>G.cloneElement(d,{style:{opacity:0,visibility:$==="exited"&&!h?"hidden":void 0,...R_[$],...f,...d.props.style},ref:E,...U})})});function D_(r){return Ri("MuiBackdrop",r)}wi("MuiBackdrop",["root","invisible"]);const k_=r=>{const{classes:i,invisible:u}=r;return Xi({root:["root",u&&"invisible"]},D_,i)},M_=se("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(r,i)=>{const{ownerState:u}=r;return[i.root,u.invisible&&i.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),y0=G.forwardRef(function(i,u){const m=Di({props:i,name:"MuiBackdrop"}),{children:b,className:C,component:O="div",invisible:d=!1,open:a,components:h={},componentsProps:g={},slotProps:s={},slots:l={},TransitionComponent:o,transitionDuration:c,...v}=m,f={...m,component:O,invisible:d},y=k_(f),x={transition:o,root:h.Root,...l},_={...g,...s},T={component:O,slots:x,slotProps:_},[E,A]=un("root",{elementType:M_,externalForwardedProps:T,className:ee(y.root,C),ownerState:f}),[k,z]=un("transition",{elementType:Hf,externalForwardedProps:T,ownerState:f});return Q.jsx(k,{in:a,timeout:c,...v,...z,children:Q.jsx(E,{"aria-hidden":!0,...A,classes:y,ref:u,children:b})})});function L_(r){return Ri("MuiButton",r)}const sr=wi("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),j_=G.createContext({}),P_=G.createContext(void 0),B_=r=>{const{color:i,disableElevation:u,fullWidth:m,size:b,variant:C,loading:O,loadingPosition:d,classes:a}=r,h={root:["root",O&&"loading",C,`${C}${Wt(i)}`,`size${Wt(b)}`,`${C}Size${Wt(b)}`,`color${Wt(i)}`,u&&"disableElevation",m&&"fullWidth",O&&`loadingPosition${Wt(d)}`],startIcon:["icon","startIcon",`iconSize${Wt(b)}`],endIcon:["icon","endIcon",`iconSize${Wt(b)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},g=Xi(h,L_,a);return{...a,...g}},b0=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],N_=se(m_,{shouldForwardProp:r=>c0(r)||r==="classes",name:"MuiButton",slot:"Root",overridesResolver:(r,i)=>{const{ownerState:u}=r;return[i.root,i[u.variant],i[`${u.variant}${Wt(u.color)}`],i[`size${Wt(u.size)}`],i[`${u.variant}Size${Wt(u.size)}`],u.color==="inherit"&&i.colorInherit,u.disableElevation&&i.disableElevation,u.fullWidth&&i.fullWidth,u.loading&&i.loading]}})(ui(({theme:r})=>{const i=r.palette.mode==="light"?r.palette.grey[300]:r.palette.grey[800],u=r.palette.mode==="light"?r.palette.grey.A100:r.palette.grey[700];return{...r.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(r.vars||r).shape.borderRadius,transition:r.transitions.create(["background-color","box-shadow","border-color","color"],{duration:r.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${sr.disabled}`]:{color:(r.vars||r).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(r.vars||r).shadows[2],"&:hover":{boxShadow:(r.vars||r).shadows[4],"@media (hover: none)":{boxShadow:(r.vars||r).shadows[2]}},"&:active":{boxShadow:(r.vars||r).shadows[8]},[`&.${sr.focusVisible}`]:{boxShadow:(r.vars||r).shadows[6]},[`&.${sr.disabled}`]:{color:(r.vars||r).palette.action.disabled,boxShadow:(r.vars||r).shadows[0],backgroundColor:(r.vars||r).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${sr.disabled}`]:{border:`1px solid ${(r.vars||r).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(r.palette).filter(Ys()).map(([m])=>({props:{color:m},style:{"--variant-textColor":(r.vars||r).palette[m].main,"--variant-outlinedColor":(r.vars||r).palette[m].main,"--variant-outlinedBorder":r.vars?`rgba(${r.vars.palette[m].mainChannel} / 0.5)`:Fi(r.palette[m].main,.5),"--variant-containedColor":(r.vars||r).palette[m].contrastText,"--variant-containedBg":(r.vars||r).palette[m].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(r.vars||r).palette[m].dark,"--variant-textBg":r.vars?`rgba(${r.vars.palette[m].mainChannel} / ${r.vars.palette.action.hoverOpacity})`:Fi(r.palette[m].main,r.palette.action.hoverOpacity),"--variant-outlinedBorder":(r.vars||r).palette[m].main,"--variant-outlinedBg":r.vars?`rgba(${r.vars.palette[m].mainChannel} / ${r.vars.palette.action.hoverOpacity})`:Fi(r.palette[m].main,r.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":r.vars?r.vars.palette.Button.inheritContainedBg:i,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":r.vars?r.vars.palette.Button.inheritContainedHoverBg:u,"--variant-textBg":r.vars?`rgba(${r.vars.palette.text.primaryChannel} / ${r.vars.palette.action.hoverOpacity})`:Fi(r.palette.text.primary,r.palette.action.hoverOpacity),"--variant-outlinedBg":r.vars?`rgba(${r.vars.palette.text.primaryChannel} / ${r.vars.palette.action.hoverOpacity})`:Fi(r.palette.text.primary,r.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:r.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:r.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:r.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:r.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:r.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:r.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${sr.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${sr.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:r.transitions.create(["background-color","box-shadow","border-color"],{duration:r.transitions.duration.short}),[`&.${sr.loading}`]:{color:"transparent"}}}]}})),z_=se("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(r,i)=>{const{ownerState:u}=r;return[i.startIcon,u.loading&&i.startIconLoadingStart,i[`iconSize${Wt(u.size)}`]]}})(({theme:r})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:r.transitions.create(["opacity"],{duration:r.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...b0]})),F_=se("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(r,i)=>{const{ownerState:u}=r;return[i.endIcon,u.loading&&i.endIconLoadingEnd,i[`iconSize${Wt(u.size)}`]]}})(({theme:r})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:r.transitions.create(["opacity"],{duration:r.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...b0]})),U_=se("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:r})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(r.vars||r).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),Jm=se("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),tv=G.forwardRef(function(i,u){const m=G.useContext(j_),b=G.useContext(P_),C=bl(m,i),O=Di({props:C,name:"MuiButton"}),{children:d,color:a="primary",component:h="button",className:g,disabled:s=!1,disableElevation:l=!1,disableFocusRipple:o=!1,endIcon:c,focusVisibleClassName:v,fullWidth:f=!1,id:y,loading:x=null,loadingIndicator:_,loadingPosition:T="center",size:E="medium",startIcon:A,type:k,variant:z="text",...I}=O,D=i0(y),q=_??Q.jsx(O_,{"aria-labelledby":D,color:"inherit",size:16}),st={...O,color:a,component:h,disabled:s,disableElevation:l,disableFocusRipple:o,fullWidth:f,loading:x,loadingIndicator:q,loadingPosition:T,size:E,type:k,variant:z},Z=B_(st),$=(A||x&&T==="start")&&Q.jsx(z_,{className:Z.startIcon,ownerState:st,children:A||Q.jsx(Jm,{className:Z.loadingIconPlaceholder,ownerState:st})}),ut=(c||x&&T==="end")&&Q.jsx(F_,{className:Z.endIcon,ownerState:st,children:c||Q.jsx(Jm,{className:Z.loadingIconPlaceholder,ownerState:st})}),U=b||"",tt=typeof x=="boolean"?Q.jsx("span",{className:Z.loadingWrapper,style:{display:"contents"},children:x&&Q.jsx(U_,{className:Z.loadingIndicator,ownerState:st,children:q})}):null;return Q.jsxs(N_,{ownerState:st,className:ee(m.className,Z.root,g,U),component:h,disabled:s||x,focusRipple:!o,focusVisibleClassName:ee(Z.focusVisible,v),ref:u,type:k,id:x?D:y,...I,classes:Z,children:[$,T!=="end"&&tt,d,T==="end"&&tt,ut]})});function H_(r=window){const i=r.document.documentElement.clientWidth;return r.innerWidth-i}function Y_(r){const i=Ai(r);return i.body===r?xl(r).innerWidth>i.documentElement.clientWidth:r.scrollHeight>r.clientHeight}function As(r,i){i?r.setAttribute("aria-hidden","true"):r.removeAttribute("aria-hidden")}function ev(r){return parseInt(xl(r).getComputedStyle(r).paddingRight,10)||0}function X_(r){const u=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(r.tagName),m=r.tagName==="INPUT"&&r.getAttribute("type")==="hidden";return u||m}function iv(r,i,u,m,b){const C=[i,u,...m];[].forEach.call(r.children,O=>{const d=!C.includes(O),a=!X_(O);d&&a&&As(O,b)})}function bf(r,i){let u=-1;return r.some((m,b)=>i(m)?(u=b,!0):!1),u}function I_(r,i){const u=[],m=r.container;if(!i.disableScrollLock){if(Y_(m)){const O=H_(xl(m));u.push({value:m.style.paddingRight,property:"padding-right",el:m}),m.style.paddingRight=`${ev(m)+O}px`;const d=Ai(m).querySelectorAll(".mui-fixed");[].forEach.call(d,a=>{u.push({value:a.style.paddingRight,property:"padding-right",el:a}),a.style.paddingRight=`${ev(a)+O}px`})}let C;if(m.parentNode instanceof DocumentFragment)C=Ai(m).body;else{const O=m.parentElement,d=xl(m);C=O?.nodeName==="HTML"&&d.getComputedStyle(O).overflowY==="scroll"?O:m}u.push({value:C.style.overflow,property:"overflow",el:C},{value:C.style.overflowX,property:"overflow-x",el:C},{value:C.style.overflowY,property:"overflow-y",el:C}),C.style.overflow="hidden"}return()=>{u.forEach(({value:C,el:O,property:d})=>{C?O.style.setProperty(d,C):O.style.removeProperty(d)})}}function V_(r){const i=[];return[].forEach.call(r.children,u=>{u.getAttribute("aria-hidden")==="true"&&i.push(u)}),i}class G_{constructor(){this.modals=[],this.containers=[]}add(i,u){let m=this.modals.indexOf(i);if(m!==-1)return m;m=this.modals.length,this.modals.push(i),i.modalRef&&As(i.modalRef,!1);const b=V_(u);iv(u,i.mount,i.modalRef,b,!0);const C=bf(this.containers,O=>O.container===u);return C!==-1?(this.containers[C].modals.push(i),m):(this.containers.push({modals:[i],container:u,restore:null,hiddenSiblings:b}),m)}mount(i,u){const m=bf(this.containers,C=>C.modals.includes(i)),b=this.containers[m];b.restore||(b.restore=I_(b,u))}remove(i,u=!0){const m=this.modals.indexOf(i);if(m===-1)return m;const b=bf(this.containers,O=>O.modals.includes(i)),C=this.containers[b];if(C.modals.splice(C.modals.indexOf(i),1),this.modals.splice(m,1),C.modals.length===0)C.restore&&C.restore(),i.modalRef&&As(i.modalRef,u),iv(C.container,i.mount,i.modalRef,C.hiddenSiblings,!1),this.containers.splice(b,1);else{const O=C.modals[C.modals.length-1];O.modalRef&&As(O.modalRef,!1)}return m}isTopModal(i){return this.modals.length>0&&this.modals[this.modals.length-1]===i}}const W_=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function $_(r){const i=parseInt(r.getAttribute("tabindex")||"",10);return Number.isNaN(i)?r.contentEditable==="true"||(r.nodeName==="AUDIO"||r.nodeName==="VIDEO"||r.nodeName==="DETAILS")&&r.getAttribute("tabindex")===null?0:r.tabIndex:i}function q_(r){if(r.tagName!=="INPUT"||r.type!=="radio"||!r.name)return!1;const i=m=>r.ownerDocument.querySelector(`input[type="radio"]${m}`);let u=i(`[name="${r.name}"]:checked`);return u||(u=i(`[name="${r.name}"]`)),u!==r}function K_(r){return!(r.disabled||r.tagName==="INPUT"&&r.type==="hidden"||q_(r))}function Q_(r){const i=[],u=[];return Array.from(r.querySelectorAll(W_)).forEach((m,b)=>{const C=$_(m);C===-1||!K_(m)||(C===0?i.push(m):u.push({documentOrder:b,tabIndex:C,node:m}))}),u.sort((m,b)=>m.tabIndex===b.tabIndex?m.documentOrder-b.documentOrder:m.tabIndex-b.tabIndex).map(m=>m.node).concat(i)}function Z_(){return!0}function J_(r){const{children:i,disableAutoFocus:u=!1,disableEnforceFocus:m=!1,disableRestoreFocus:b=!1,getTabbable:C=Q_,isEnabled:O=Z_,open:d}=r,a=G.useRef(!1),h=G.useRef(null),g=G.useRef(null),s=G.useRef(null),l=G.useRef(null),o=G.useRef(!1),c=G.useRef(null),v=dn(uh(i),c),f=G.useRef(null);G.useEffect(()=>{!d||!c.current||(o.current=!u)},[u,d]),G.useEffect(()=>{if(!d||!c.current)return;const _=Ai(c.current);return c.current.contains(_.activeElement)||(c.current.hasAttribute("tabIndex")||c.current.setAttribute("tabIndex","-1"),o.current&&c.current.focus()),()=>{b||(s.current&&s.current.focus&&(a.current=!0,s.current.focus()),s.current=null)}},[d]),G.useEffect(()=>{if(!d||!c.current)return;const _=Ai(c.current),T=k=>{f.current=k,!(m||!O()||k.key!=="Tab")&&_.activeElement===c.current&&k.shiftKey&&(a.current=!0,g.current&&g.current.focus())},E=()=>{const k=c.current;if(k===null)return;if(!_.hasFocus()||!O()||a.current){a.current=!1;return}if(k.contains(_.activeElement)||m&&_.activeElement!==h.current&&_.activeElement!==g.current)return;if(_.activeElement!==l.current)l.current=null;else if(l.current!==null)return;if(!o.current)return;let z=[];if((_.activeElement===h.current||_.activeElement===g.current)&&(z=C(c.current)),z.length>0){const I=!!(f.current?.shiftKey&&f.current?.key==="Tab"),D=z[0],q=z[z.length-1];typeof D!="string"&&typeof q!="string"&&(I?q.focus():D.focus())}else k.focus()};_.addEventListener("focusin",E),_.addEventListener("keydown",T,!0);const A=setInterval(()=>{_.activeElement&&_.activeElement.tagName==="BODY"&&E()},50);return()=>{clearInterval(A),_.removeEventListener("focusin",E),_.removeEventListener("keydown",T,!0)}},[u,m,b,O,d,C]);const y=_=>{s.current===null&&(s.current=_.relatedTarget),o.current=!0,l.current=_.target;const T=i.props.onFocus;T&&T(_)},x=_=>{s.current===null&&(s.current=_.relatedTarget),o.current=!0};return Q.jsxs(G.Fragment,{children:[Q.jsx("div",{tabIndex:d?0:-1,onFocus:x,ref:h,"data-testid":"sentinelStart"}),G.cloneElement(i,{ref:v,onFocus:y}),Q.jsx("div",{tabIndex:d?0:-1,onFocus:x,ref:g,"data-testid":"sentinelEnd"})]})}function tw(r){return typeof r=="function"?r():r}function ew(r){return r?r.props.hasOwnProperty("in"):!1}const nv=()=>{},al=new G_;function iw(r){const{container:i,disableEscapeKeyDown:u=!1,disableScrollLock:m=!1,closeAfterTransition:b=!1,onTransitionEnter:C,onTransitionExited:O,children:d,onClose:a,open:h,rootRef:g}=r,s=G.useRef({}),l=G.useRef(null),o=G.useRef(null),c=dn(o,g),[v,f]=G.useState(!h),y=ew(d);let x=!0;(r["aria-hidden"]==="false"||r["aria-hidden"]===!1)&&(x=!1);const _=()=>Ai(l.current),T=()=>(s.current.modalRef=o.current,s.current.mount=l.current,s.current),E=()=>{al.mount(T(),{disableScrollLock:m}),o.current&&(o.current.scrollTop=0)},A=fn(()=>{const ut=tw(i)||_().body;al.add(T(),ut),o.current&&E()}),k=()=>al.isTopModal(T()),z=fn(ut=>{l.current=ut,ut&&(h&&k()?E():o.current&&As(o.current,x))}),I=G.useCallback(()=>{al.remove(T(),x)},[x]);G.useEffect(()=>()=>{I()},[I]),G.useEffect(()=>{h?A():(!y||!b)&&I()},[h,I,y,b,A]);const D=ut=>U=>{ut.onKeyDown?.(U),!(U.key!=="Escape"||U.which===229||!k())&&(u||(U.stopPropagation(),a&&a(U,"escapeKeyDown")))},q=ut=>U=>{ut.onClick?.(U),U.target===U.currentTarget&&a&&a(U,"backdropClick")};return{getRootProps:(ut={})=>{const U=Es(r);delete U.onTransitionEnter,delete U.onTransitionExited;const tt={...U,...ut};return{role:"presentation",...tt,onKeyDown:D(tt),ref:c}},getBackdropProps:(ut={})=>{const U=ut;return{"aria-hidden":!0,...U,onClick:q(U),open:h}},getTransitionProps:()=>{const ut=()=>{f(!1),C&&C()},U=()=>{f(!0),O&&O(),b&&I()};return{onEnter:Wm(ut,d?.props.onEnter??nv),onExited:Wm(U,d?.props.onExited??nv)}},rootRef:c,portalRef:z,isTopModal:k,exited:v,hasTransition:y}}function nw(r){return Ri("MuiModal",r)}wi("MuiModal",["root","hidden","backdrop"]);const rw=r=>{const{open:i,exited:u,classes:m}=r;return Xi({root:["root",!i&&u&&"hidden"],backdrop:["backdrop"]},nw,m)},aw=se("div",{name:"MuiModal",slot:"Root",overridesResolver:(r,i)=>{const{ownerState:u}=r;return[i.root,!u.open&&u.exited&&i.hidden]}})(ui(({theme:r})=>({position:"fixed",zIndex:(r.vars||r).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:i})=>!i.open&&i.exited,style:{visibility:"hidden"}}]}))),sw=se(y0,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),ow=G.forwardRef(function(i,u){const m=Di({name:"MuiModal",props:i}),{BackdropComponent:b=sw,BackdropProps:C,classes:O,className:d,closeAfterTransition:a=!1,children:h,container:g,component:s,components:l={},componentsProps:o={},disableAutoFocus:c=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:f=!1,disablePortal:y=!1,disableRestoreFocus:x=!1,disableScrollLock:_=!1,hideBackdrop:T=!1,keepMounted:E=!1,onClose:A,onTransitionEnter:k,onTransitionExited:z,open:I,slotProps:D={},slots:q={},theme:st,...Z}=m,$={...m,closeAfterTransition:a,disableAutoFocus:c,disableEnforceFocus:v,disableEscapeKeyDown:f,disablePortal:y,disableRestoreFocus:x,disableScrollLock:_,hideBackdrop:T,keepMounted:E},{getRootProps:ut,getBackdropProps:U,getTransitionProps:tt,portalRef:nt,isTopModal:F,exited:P,hasTransition:M}=iw({...$,rootRef:u}),N={...$,exited:P},X=rw(N),L={};if(h.props.tabIndex===void 0&&(L.tabIndex="-1"),M){const{onEnter:pt,onExited:gt}=tt();L.onEnter=pt,L.onExited=gt}const B={slots:{root:l.Root,backdrop:l.Backdrop,...q},slotProps:{...o,...D}},[H,Y]=un("root",{ref:u,elementType:aw,externalForwardedProps:{...B,...Z,component:s},getSlotProps:ut,ownerState:N,className:ee(d,X?.root,!N.open&&N.exited&&X?.hidden)}),[rt,et]=un("backdrop",{ref:C?.ref,elementType:b,externalForwardedProps:B,shouldForwardComponentProp:!0,additionalProps:C,getSlotProps:pt=>U({...pt,onClick:gt=>{pt?.onClick&&pt.onClick(gt)}}),className:ee(C?.className,X?.backdrop),ownerState:N});return!E&&!I&&(!M||P)?null:Q.jsx(A_,{ref:nt,container:g,disablePortal:y,children:Q.jsxs(H,{...Y,children:[!T&&b?Q.jsx(rt,{...et}):null,Q.jsx(J_,{disableEnforceFocus:v,disableAutoFocus:c,disableRestoreFocus:x,isEnabled:F,open:I,children:G.cloneElement(h,L)})]})})});function lw(r){return Ri("MuiDialog",r)}const Sf=wi("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),cw=G.createContext({}),uw=se(y0,{name:"MuiDialog",slot:"Backdrop",overrides:(r,i)=>i.backdrop})({zIndex:-1}),fw=r=>{const{classes:i,scroll:u,maxWidth:m,fullWidth:b,fullScreen:C}=r,O={root:["root"],container:["container",`scroll${Wt(u)}`],paper:["paper",`paperScroll${Wt(u)}`,`paperWidth${Wt(String(m))}`,b&&"paperFullWidth",C&&"paperFullScreen"]};return Xi(O,lw,i)},hw=se(ow,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),dw=se("div",{name:"MuiDialog",slot:"Container",overridesResolver:(r,i)=>{const{ownerState:u}=r;return[i.container,i[`scroll${Wt(u.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),gw=se(g0,{name:"MuiDialog",slot:"Paper",overridesResolver:(r,i)=>{const{ownerState:u}=r;return[i.paper,i[`scrollPaper${Wt(u.scroll)}`],i[`paperWidth${Wt(String(u.maxWidth))}`],u.fullWidth&&i.paperFullWidth,u.fullScreen&&i.paperFullScreen]}})(ui(({theme:r})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:i})=>!i.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:r.breakpoints.unit==="px"?Math.max(r.breakpoints.values.xs,444):`max(${r.breakpoints.values.xs}${r.breakpoints.unit}, 444px)`,[`&.${Sf.paperScrollBody}`]:{[r.breakpoints.down(Math.max(r.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(r.breakpoints.values).filter(i=>i!=="xs").map(i=>({props:{maxWidth:i},style:{maxWidth:`${r.breakpoints.values[i]}${r.breakpoints.unit}`,[`&.${Sf.paperScrollBody}`]:{[r.breakpoints.down(r.breakpoints.values[i]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:i})=>i.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:i})=>i.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Sf.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),pw=G.forwardRef(function(i,u){const m=Di({props:i,name:"MuiDialog"}),b=ah(),C={enter:b.transitions.duration.enteringScreen,exit:b.transitions.duration.leavingScreen},{"aria-describedby":O,"aria-labelledby":d,"aria-modal":a=!0,BackdropComponent:h,BackdropProps:g,children:s,className:l,disableEscapeKeyDown:o=!1,fullScreen:c=!1,fullWidth:v=!1,maxWidth:f="sm",onClick:y,onClose:x,open:_,PaperComponent:T=g0,PaperProps:E={},scroll:A="paper",slots:k={},slotProps:z={},TransitionComponent:I=Hf,transitionDuration:D=C,TransitionProps:q,...st}=m,Z={...m,disableEscapeKeyDown:o,fullScreen:c,fullWidth:v,maxWidth:f,scroll:A},$=fw(Z),ut=G.useRef(),U=it=>{ut.current=it.target===it.currentTarget},tt=it=>{y&&y(it),ut.current&&(ut.current=null,x&&x(it,"backdropClick"))},nt=i0(d),F=G.useMemo(()=>({titleId:nt}),[nt]),P={transition:I,...k},M={transition:q,paper:E,backdrop:g,...z},N={slots:P,slotProps:M},[X,L]=un("root",{elementType:hw,shouldForwardComponentProp:!0,externalForwardedProps:N,ownerState:Z,className:ee($.root,l),ref:u}),[B,H]=un("backdrop",{elementType:uw,shouldForwardComponentProp:!0,externalForwardedProps:N,ownerState:Z}),[Y,rt]=un("paper",{elementType:gw,shouldForwardComponentProp:!0,externalForwardedProps:N,ownerState:Z,className:ee($.paper,E.className)}),[et,pt]=un("container",{elementType:dw,externalForwardedProps:N,ownerState:Z,className:$.container}),[gt,vt]=un("transition",{elementType:Hf,externalForwardedProps:N,ownerState:Z,additionalProps:{appear:!0,in:_,timeout:D,role:"presentation"}});return Q.jsx(X,{closeAfterTransition:!0,slots:{backdrop:B},slotProps:{backdrop:{transitionDuration:D,as:h,...H}},disableEscapeKeyDown:o,onClose:x,open:_,onClick:tt,...L,...st,children:Q.jsx(gt,{...vt,children:Q.jsx(et,{onMouseDown:U,...pt,children:Q.jsx(Y,{as:T,elevation:24,role:"dialog","aria-describedby":O,"aria-labelledby":nt,"aria-modal":a,...rt,children:Q.jsx(cw.Provider,{value:F,children:s})})})})})});function mw(r){return Ri("MuiDialogActions",r)}wi("MuiDialogActions",["root","spacing"]);const vw=r=>{const{classes:i,disableSpacing:u}=r;return Xi({root:["root",!u&&"spacing"]},mw,i)},yw=se("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(r,i)=>{const{ownerState:u}=r;return[i.root,!u.disableSpacing&&i.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:r})=>!r.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),bw=G.forwardRef(function(i,u){const m=Di({props:i,name:"MuiDialogActions"}),{className:b,disableSpacing:C=!1,...O}=m,d={...m,disableSpacing:C},a=vw(d);return Q.jsx(yw,{className:ee(a.root,b),ownerState:d,ref:u,...O})});function Sw(r){return Ri("MuiDialogContent",r)}wi("MuiDialogContent",["root","dividers"]);const xw=wi("MuiDialogTitle",["root"]),Cw=r=>{const{classes:i,dividers:u}=r;return Xi({root:["root",u&&"dividers"]},Sw,i)},_w=se("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(r,i)=>{const{ownerState:u}=r;return[i.root,u.dividers&&i.dividers]}})(ui(({theme:r})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:i})=>i.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(r.vars||r).palette.divider}`,borderBottom:`1px solid ${(r.vars||r).palette.divider}`}},{props:({ownerState:i})=>!i.dividers,style:{[`.${xw.root} + &`]:{paddingTop:0}}}]}))),ww=G.forwardRef(function(i,u){const m=Di({props:i,name:"MuiDialogContent"}),{className:b,dividers:C=!1,...O}=m,d={...m,dividers:C},a=Cw(d);return Q.jsx(_w,{className:ee(a.root,b),ownerState:d,ref:u,...O})}),Tw={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Ow(r,i,u=(m,b)=>m===b){return r.length===i.length&&r.every((m,b)=>u(m,i[b]))}const Ew=2;function ca(r,i,u,m,b){return u===1?Math.min(r+i,b):Math.max(r-i,m)}function S0(r,i){return r-i}function rv(r,i){const{index:u}=r.reduce((m,b,C)=>{const O=Math.abs(i-b);return m===null||O<m.distance||O===m.distance?{distance:O,index:C}:m},null)??{};return u}function sl(r,i){if(i.current!==void 0&&r.changedTouches){const u=r;for(let m=0;m<u.changedTouches.length;m+=1){const b=u.changedTouches[m];if(b.identifier===i.current)return{x:b.clientX,y:b.clientY}}return!1}return{x:r.clientX,y:r.clientY}}function Tl(r,i,u){return(r-i)*100/(u-i)}function Aw(r,i,u){return(u-i)*r+i}function Rw(r){if(Math.abs(r)<1){const u=r.toExponential().split("e-"),m=u[0].split(".")[1];return(m?m.length:0)+parseInt(u[1],10)}const i=r.toString().split(".")[1];return i?i.length:0}function Dw(r,i,u){const m=Math.round((r-u)/i)*i+u;return Number(m.toFixed(Rw(i)))}function av({values:r,newValue:i,index:u}){const m=r.slice();return m[u]=i,m.sort(S0)}function ol({sliderRef:r,activeIndex:i,setActive:u}){const m=Ai(r.current);(!r.current?.contains(m.activeElement)||Number(m?.activeElement?.getAttribute("data-index"))!==i)&&r.current?.querySelector(`[type="range"][data-index="${i}"]`).focus(),u&&u(i)}function ll(r,i){return typeof r=="number"&&typeof i=="number"?r===i:typeof r=="object"&&typeof i=="object"?Ow(r,i):!1}const kw={horizontal:{offset:r=>({left:`${r}%`}),leap:r=>({width:`${r}%`})},"horizontal-reverse":{offset:r=>({right:`${r}%`}),leap:r=>({width:`${r}%`})},vertical:{offset:r=>({bottom:`${r}%`}),leap:r=>({height:`${r}%`})}},Mw=r=>r;let cl;function sv(){return cl===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?cl=CSS.supports("touch-action","none"):cl=!0),cl}function Lw(r){const{"aria-labelledby":i,defaultValue:u,disabled:m=!1,disableSwap:b=!1,isRtl:C=!1,marks:O=!1,max:d=100,min:a=0,name:h,onChange:g,onChangeCommitted:s,orientation:l="horizontal",rootRef:o,scale:c=Mw,step:v=1,shiftStep:f=10,tabIndex:y,value:x}=r,_=G.useRef(void 0),[T,E]=G.useState(-1),[A,k]=G.useState(-1),[z,I]=G.useState(!1),D=G.useRef(0),q=G.useRef(null),[st,Z]=UC({controlled:x,default:u??a}),$=g&&((wt,Tt,Et)=>{const Mt=wt.nativeEvent||wt,Ot=new Mt.constructor(Mt.type,Mt);Object.defineProperty(Ot,"target",{writable:!0,value:{value:Tt,name:h}}),q.current=Tt,g(Ot,Tt,Et)}),ut=Array.isArray(st);let U=ut?st.slice().sort(S0):[st];U=U.map(wt=>wt==null?a:da(wt,a,d));const tt=O===!0&&v!==null?[...Array(Math.floor((d-a)/v)+1)].map((wt,Tt)=>({value:a+v*Tt})):O||[],nt=tt.map(wt=>wt.value),[F,P]=G.useState(-1),M=G.useRef(null),N=dn(o,M),X=wt=>Tt=>{const Et=Number(Tt.currentTarget.getAttribute("data-index"));_l(Tt.target)&&P(Et),k(Et),wt?.onFocus?.(Tt)},L=wt=>Tt=>{_l(Tt.target)||P(-1),k(-1),wt?.onBlur?.(Tt)},B=(wt,Tt)=>{const Et=Number(wt.currentTarget.getAttribute("data-index")),Mt=U[Et],Ot=nt.indexOf(Mt);let Pt=Tt;if(tt&&v==null){const pe=nt[nt.length-1];Pt>=pe?Pt=pe:Pt<=nt[0]?Pt=nt[0]:Pt=Pt<Mt?nt[Ot-1]:nt[Ot+1]}if(Pt=da(Pt,a,d),ut){b&&(Pt=da(Pt,U[Et-1]||-1/0,U[Et+1]||1/0));const pe=Pt;Pt=av({values:U,newValue:Pt,index:Et});let xe=Et;b||(xe=Pt.indexOf(pe)),ol({sliderRef:M,activeIndex:xe})}Z(Pt),P(Et),$&&!ll(Pt,st)&&$(wt,Pt,Et),s&&s(wt,q.current??Pt)},H=wt=>Tt=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(Tt.key)){Tt.preventDefault();const Et=Number(Tt.currentTarget.getAttribute("data-index")),Mt=U[Et];let Ot=null;if(v!=null){const Pt=Tt.shiftKey?f:v;switch(Tt.key){case"ArrowUp":Ot=ca(Mt,Pt,1,a,d);break;case"ArrowRight":Ot=ca(Mt,Pt,C?-1:1,a,d);break;case"ArrowDown":Ot=ca(Mt,Pt,-1,a,d);break;case"ArrowLeft":Ot=ca(Mt,Pt,C?1:-1,a,d);break;case"PageUp":Ot=ca(Mt,f,1,a,d);break;case"PageDown":Ot=ca(Mt,f,-1,a,d);break;case"Home":Ot=a;break;case"End":Ot=d;break}}else if(tt){const Pt=nt[nt.length-1],pe=nt.indexOf(Mt),xe=[C?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],Qt=[C?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];xe.includes(Tt.key)?pe===0?Ot=nt[0]:Ot=nt[pe-1]:Qt.includes(Tt.key)&&(pe===nt.length-1?Ot=Pt:Ot=nt[pe+1])}Ot!=null&&B(Tt,Ot)}wt?.onKeyDown?.(Tt)};Sl(()=>{m&&M.current.contains(document.activeElement)&&document.activeElement?.blur()},[m]),m&&T!==-1&&E(-1),m&&F!==-1&&P(-1);const Y=wt=>Tt=>{wt.onChange?.(Tt),B(Tt,Tt.target.valueAsNumber)},rt=G.useRef(void 0);let et=l;C&&l==="horizontal"&&(et+="-reverse");const pt=({finger:wt,move:Tt=!1})=>{const{current:Et}=M,{width:Mt,height:Ot,bottom:Pt,left:pe}=Et.getBoundingClientRect();let xe;et.startsWith("vertical")?xe=(Pt-wt.y)/Ot:xe=(wt.x-pe)/Mt,et.includes("-reverse")&&(xe=1-xe);let Qt;if(Qt=Aw(xe,a,d),v)Qt=Dw(Qt,v,a);else{const Ve=rv(nt,Qt);Qt=nt[Ve]}Qt=da(Qt,a,d);let he=0;if(ut){Tt?he=rt.current:he=rv(U,Qt),b&&(Qt=da(Qt,U[he-1]||-1/0,U[he+1]||1/0));const Ve=Qt;Qt=av({values:U,newValue:Qt,index:he}),b&&Tt||(he=Qt.indexOf(Ve),rt.current=he)}return{newValue:Qt,activeIndex:he}},gt=fn(wt=>{const Tt=sl(wt,_);if(!Tt)return;if(D.current+=1,wt.type==="mousemove"&&wt.buttons===0){vt(wt);return}const{newValue:Et,activeIndex:Mt}=pt({finger:Tt,move:!0});ol({sliderRef:M,activeIndex:Mt,setActive:E}),Z(Et),!z&&D.current>Ew&&I(!0),$&&!ll(Et,st)&&$(wt,Et,Mt)}),vt=fn(wt=>{const Tt=sl(wt,_);if(I(!1),!Tt)return;const{newValue:Et}=pt({finger:Tt,move:!0});E(-1),wt.type==="touchend"&&k(-1),s&&s(wt,q.current??Et),_.current=void 0,K()}),it=fn(wt=>{if(m)return;sv()||wt.preventDefault();const Tt=wt.changedTouches[0];Tt!=null&&(_.current=Tt.identifier);const Et=sl(wt,_);if(Et!==!1){const{newValue:Ot,activeIndex:Pt}=pt({finger:Et});ol({sliderRef:M,activeIndex:Pt,setActive:E}),Z(Ot),$&&!ll(Ot,st)&&$(wt,Ot,Pt)}D.current=0;const Mt=Ai(M.current);Mt.addEventListener("touchmove",gt,{passive:!0}),Mt.addEventListener("touchend",vt,{passive:!0})}),K=G.useCallback(()=>{const wt=Ai(M.current);wt.removeEventListener("mousemove",gt),wt.removeEventListener("mouseup",vt),wt.removeEventListener("touchmove",gt),wt.removeEventListener("touchend",vt)},[vt,gt]);G.useEffect(()=>{const{current:wt}=M;return wt.addEventListener("touchstart",it,{passive:sv()}),()=>{wt.removeEventListener("touchstart",it),K()}},[K,it]),G.useEffect(()=>{m&&K()},[m,K]);const dt=wt=>Tt=>{if(wt.onMouseDown?.(Tt),m||Tt.defaultPrevented||Tt.button!==0)return;Tt.preventDefault();const Et=sl(Tt,_);if(Et!==!1){const{newValue:Ot,activeIndex:Pt}=pt({finger:Et});ol({sliderRef:M,activeIndex:Pt,setActive:E}),Z(Ot),$&&!ll(Ot,st)&&$(Tt,Ot,Pt)}D.current=0;const Mt=Ai(M.current);Mt.addEventListener("mousemove",gt,{passive:!0}),Mt.addEventListener("mouseup",vt)},mt=Tl(ut?U[0]:a,a,d),ct=Tl(U[U.length-1],a,d)-mt,bt=(wt={})=>{const Tt=Es(wt),Et={onMouseDown:dt(Tt||{})},Mt={...Tt,...Et};return{...wt,ref:N,...Mt}},_t=wt=>Tt=>{wt.onMouseOver?.(Tt);const Et=Number(Tt.currentTarget.getAttribute("data-index"));k(Et)},kt=wt=>Tt=>{wt.onMouseLeave?.(Tt),k(-1)},At=(wt={})=>{const Tt=Es(wt),Et={onMouseOver:_t(Tt||{}),onMouseLeave:kt(Tt||{})};return{...wt,...Tt,...Et}},ot=wt=>({pointerEvents:T!==-1&&T!==wt?"none":void 0});let Rt;return l==="vertical"&&(Rt=C?"vertical-rl":"vertical-lr"),{active:T,axis:et,axisProps:kw,dragging:z,focusedThumbIndex:F,getHiddenInputProps:(wt={})=>{const Tt=Es(wt),Et={onChange:Y(Tt||{}),onFocus:X(Tt||{}),onBlur:L(Tt||{}),onKeyDown:H(Tt||{})},Mt={...Tt,...Et};return{tabIndex:y,"aria-labelledby":i,"aria-orientation":l,"aria-valuemax":c(d),"aria-valuemin":c(a),name:h,type:"range",min:r.min,max:r.max,step:r.step===null&&r.marks?"any":r.step??void 0,disabled:m,...wt,...Mt,style:{...Tw,direction:C?"rtl":"ltr",width:"100%",height:"100%",writingMode:Rt}}},getRootProps:bt,getThumbProps:At,marks:tt,open:A,range:ut,rootRef:N,trackLeap:ct,trackOffset:mt,values:U,getThumbStyle:ot}}const jw=r=>!r||!pl(r);function Pw(r){return Ri("MuiSlider",r)}const Ci=wi("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),Bw=r=>{const{open:i}=r;return{offset:ee(i&&Ci.valueLabelOpen),circle:Ci.valueLabelCircle,label:Ci.valueLabelLabel}};function Nw(r){const{children:i,className:u,value:m}=r,b=Bw(r);return i?G.cloneElement(i,{className:i.props.className},Q.jsxs(G.Fragment,{children:[i.props.children,Q.jsx("span",{className:ee(b.offset,u),"aria-hidden":!0,children:Q.jsx("span",{className:b.circle,children:Q.jsx("span",{className:b.label,children:m})})})]})):null}function ov(r){return r}const zw=se("span",{name:"MuiSlider",slot:"Root",overridesResolver:(r,i)=>{const{ownerState:u}=r;return[i.root,i[`color${Wt(u.color)}`],u.size!=="medium"&&i[`size${Wt(u.size)}`],u.marked&&i.marked,u.orientation==="vertical"&&i.vertical,u.track==="inverted"&&i.trackInverted,u.track===!1&&i.trackFalse]}})(ui(({theme:r})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Ci.disabled}`]:{pointerEvents:"none",cursor:"default",color:(r.vars||r).palette.grey[400]},[`&.${Ci.dragging}`]:{[`& .${Ci.thumb}, & .${Ci.track}`]:{transition:"none"}},variants:[...Object.entries(r.palette).filter(Ys()).map(([i])=>({props:{color:i},style:{color:(r.vars||r).palette[i].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),Fw=se("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),Uw=se("span",{name:"MuiSlider",slot:"Track"})(ui(({theme:r})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:r.transitions.create(["left","width","bottom","height"],{duration:r.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(r.palette).filter(Ys()).map(([i])=>({props:{color:i,track:"inverted"},style:{...r.vars?{backgroundColor:r.vars.palette.Slider[`${i}Track`],borderColor:r.vars.palette.Slider[`${i}Track`]}:{backgroundColor:Ps(r.palette[i].main,.62),borderColor:Ps(r.palette[i].main,.62),...r.applyStyles("dark",{backgroundColor:js(r.palette[i].main,.5)}),...r.applyStyles("dark",{borderColor:js(r.palette[i].main,.5)})}}}))]}))),Hw=se("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(r,i)=>{const{ownerState:u}=r;return[i.thumb,i[`thumbColor${Wt(u.color)}`],u.size!=="medium"&&i[`thumbSize${Wt(u.size)}`]]}})(ui(({theme:r})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:r.transitions.create(["box-shadow","left","bottom"],{duration:r.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(r.vars||r).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Ci.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(r.palette).filter(Ys()).map(([i])=>({props:{color:i},style:{[`&:hover, &.${Ci.focusVisible}`]:{...r.vars?{boxShadow:`0px 0px 0px 8px rgba(${r.vars.palette[i].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${Fi(r.palette[i].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${Ci.active}`]:{...r.vars?{boxShadow:`0px 0px 0px 14px rgba(${r.vars.palette[i].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${Fi(r.palette[i].main,.16)}`}}}}))]}))),Yw=se(Nw,{name:"MuiSlider",slot:"ValueLabel"})(ui(({theme:r})=>({zIndex:1,whiteSpace:"nowrap",...r.typography.body2,fontWeight:500,transition:r.transitions.create(["transform"],{duration:r.transitions.duration.shortest}),position:"absolute",backgroundColor:(r.vars||r).palette.grey[600],borderRadius:2,color:(r.vars||r).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Ci.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Ci.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:r.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),Xw=se("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:r=>sh(r)&&r!=="markActive",overridesResolver:(r,i)=>{const{markActive:u}=r;return[i.mark,u&&i.markActive]}})(ui(({theme:r})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(r.vars||r).palette.background.paper,opacity:.8}}]}))),Iw=se("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:r=>sh(r)&&r!=="markLabelActive"})(ui(({theme:r})=>({...r.typography.body2,color:(r.vars||r).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(r.vars||r).palette.text.primary}}]}))),Vw=r=>{const{disabled:i,dragging:u,marked:m,orientation:b,track:C,classes:O,color:d,size:a}=r,h={root:["root",i&&"disabled",u&&"dragging",m&&"marked",b==="vertical"&&"vertical",C==="inverted"&&"trackInverted",C===!1&&"trackFalse",d&&`color${Wt(d)}`,a&&`size${Wt(a)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",i&&"disabled",a&&`thumbSize${Wt(a)}`,d&&`thumbColor${Wt(d)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Xi(h,Pw,O)},Gw=({children:r})=>r,Ww=G.forwardRef(function(i,u){const m=Di({props:i,name:"MuiSlider"}),b=Q1(),{"aria-label":C,"aria-valuetext":O,"aria-labelledby":d,component:a="span",components:h={},componentsProps:g={},color:s="primary",classes:l,className:o,disableSwap:c=!1,disabled:v=!1,getAriaLabel:f,getAriaValueText:y,marks:x=!1,max:_=100,min:T=0,name:E,onChange:A,onChangeCommitted:k,orientation:z="horizontal",shiftStep:I=10,size:D="medium",step:q=1,scale:st=ov,slotProps:Z,slots:$,tabIndex:ut,track:U="normal",value:tt,valueLabelDisplay:nt="off",valueLabelFormat:F=ov,...P}=m,M={...m,isRtl:b,max:_,min:T,classes:l,disabled:v,disableSwap:c,orientation:z,marks:x,color:s,size:D,step:q,shiftStep:I,scale:st,track:U,valueLabelDisplay:nt,valueLabelFormat:F},{axisProps:N,getRootProps:X,getHiddenInputProps:L,getThumbProps:B,open:H,active:Y,axis:rt,focusedThumbIndex:et,range:pt,dragging:gt,marks:vt,values:it,trackOffset:K,trackLeap:dt,getThumbStyle:mt}=Lw({...M,rootRef:u});M.marked=vt.length>0&&vt.some(ue=>ue.label),M.dragging=gt,M.focusedThumbIndex=et;const ct=Vw(M),bt=$?.root??h.Root??zw,_t=$?.rail??h.Rail??Fw,kt=$?.track??h.Track??Uw,At=$?.thumb??h.Thumb??Hw,ot=$?.valueLabel??h.ValueLabel??Yw,Rt=$?.mark??h.Mark??Xw,Lt=$?.markLabel??h.MarkLabel??Iw,wt=$?.input??h.Input??"input",Tt=Z?.root??g.root,Et=Z?.rail??g.rail,Mt=Z?.track??g.track,Ot=Z?.thumb??g.thumb,Pt=Z?.valueLabel??g.valueLabel,pe=Z?.mark??g.mark,xe=Z?.markLabel??g.markLabel,Qt=Z?.input??g.input,he=Un({elementType:bt,getSlotProps:X,externalSlotProps:Tt,externalForwardedProps:P,additionalProps:{...jw(bt)&&{as:a}},ownerState:{...M,...Tt?.ownerState},className:[ct.root,o]}),Ve=Un({elementType:_t,externalSlotProps:Et,ownerState:M,className:ct.rail}),pn=Un({elementType:kt,externalSlotProps:Mt,additionalProps:{style:{...N[rt].offset(K),...N[rt].leap(dt)}},ownerState:{...M,...Mt?.ownerState},className:ct.track}),Ii=Un({elementType:At,getSlotProps:B,externalSlotProps:Ot,ownerState:{...M,...Ot?.ownerState},className:ct.thumb}),Il=Un({elementType:ot,externalSlotProps:Pt,ownerState:{...M,...Pt?.ownerState},className:ct.valueLabel}),pr=Un({elementType:Rt,externalSlotProps:pe,ownerState:M,className:ct.mark}),mr=Un({elementType:Lt,externalSlotProps:xe,ownerState:M,className:ct.markLabel}),Ca=Un({elementType:wt,getSlotProps:L,externalSlotProps:Qt,ownerState:M});return Q.jsxs(bt,{...he,children:[Q.jsx(_t,{...Ve}),Q.jsx(kt,{...pn}),vt.filter(ue=>ue.value>=T&&ue.value<=_).map((ue,Ae)=>{const vr=Tl(ue.value,T,_),Yn=N[rt].offset(vr);let Je;return U===!1?Je=it.includes(ue.value):Je=U==="normal"&&(pt?ue.value>=it[0]&&ue.value<=it[it.length-1]:ue.value<=it[0])||U==="inverted"&&(pt?ue.value<=it[0]||ue.value>=it[it.length-1]:ue.value>=it[0]),Q.jsxs(G.Fragment,{children:[Q.jsx(Rt,{"data-index":Ae,...pr,...!pl(Rt)&&{markActive:Je},style:{...Yn,...pr.style},className:ee(pr.className,Je&&ct.markActive)}),ue.label!=null?Q.jsx(Lt,{"aria-hidden":!0,"data-index":Ae,...mr,...!pl(Lt)&&{markLabelActive:Je},style:{...Yn,...mr.style},className:ee(ct.markLabel,mr.className,Je&&ct.markLabelActive),children:ue.label}):null]},Ae)}),it.map((ue,Ae)=>{const vr=Tl(ue,T,_),Yn=N[rt].offset(vr),Je=nt==="off"?Gw:ot;return Q.jsx(Je,{...!pl(Je)&&{valueLabelFormat:F,valueLabelDisplay:nt,value:typeof F=="function"?F(st(ue),Ae):F,index:Ae,open:H===Ae||Y===Ae||nt==="on",disabled:v},...Il,children:Q.jsx(At,{"data-index":Ae,...Ii,className:ee(ct.thumb,Ii.className,Y===Ae&&ct.active,et===Ae&&ct.focusVisible),style:{...Yn,...mt(Ae),...Ii.style},children:Q.jsx(wt,{"data-index":Ae,"aria-label":f?f(Ae):C,"aria-valuenow":st(ue),"aria-labelledby":d,"aria-valuetext":y?y(st(ue),Ae):O,value:it[Ae],...Ca})})},Ae)})]})});var xf={};const $w={},qw=Object.freeze(Object.defineProperty({__proto__:null,default:$w},Symbol.toStringTag,{value:"Module"})),Cf=zb(qw);var lv;function Kw(){return lv||(lv=1,function(r){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var i=i||{version:"4.6.0"};if(r.fabric=i,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?i.document=document:i.document=document.implementation.createHTMLDocument(""),i.window=window;else{var u=Cf,m=new u.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;i.document=m.document,i.jsdomImplForWrapper=Cf.implForWrapper,i.nodeCanvas=Cf.Canvas,i.window=m,DOMParser=i.window.DOMParser}i.isTouchSupported="ontouchstart"in i.window||"ontouchstart"in i.document||i.window&&i.window.navigator&&i.window.navigator.maxTouchPoints>0,i.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",i.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],i.DPI=96,i.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",i.commaWsp="(?:\\s+,?\\s*|,\\s*)",i.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,i.reNonWord=/[ \n\.,;!\?\-]/,i.fontPaths={},i.iMatrix=[1,0,0,1,0,0],i.svgNS="http://www.w3.org/2000/svg",i.perfLimitSizeTotal=2097152,i.maxCacheSideLimit=4096,i.minCacheSideLimit=256,i.charWidthsCache={},i.textureSize=2048,i.disableStyleCopyPaste=!1,i.enableGLFiltering=!0,i.devicePixelRatio=i.window.devicePixelRatio||i.window.webkitDevicePixelRatio||i.window.mozDevicePixelRatio||1,i.browserShadowBlurConstant=1,i.arcToSegmentsCache={},i.boundsOfCurveCache={},i.cachesBoundsOfCurve=!0,i.forceGLPutImageData=!1,i.initFilterBackend=function(){if(i.enableGLFiltering&&i.isWebglSupported&&i.isWebglSupported(i.textureSize))return console.log("max texture size: "+i.maxTextureSize),new i.WebglFilterBackend({tileSize:i.textureSize});if(i.Canvas2dFilterBackend)return new i.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=i),function(){function d(o,c){if(this.__eventListeners[o]){var v=this.__eventListeners[o];c?v[v.indexOf(c)]=!1:i.util.array.fill(v,!1)}}function a(o,c){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var v in o)this.on(v,o[v]);else this.__eventListeners[o]||(this.__eventListeners[o]=[]),this.__eventListeners[o].push(c);return this}function h(o,c){var v=(function(){c.apply(this,arguments),this.off(o,v)}).bind(this);this.on(o,v)}function g(o,c){if(arguments.length===1)for(var v in o)h.call(this,v,o[v]);else h.call(this,o,c);return this}function s(o,c){if(!this.__eventListeners)return this;if(arguments.length===0)for(o in this.__eventListeners)d.call(this,o);else if(arguments.length===1&&typeof arguments[0]=="object")for(var v in o)d.call(this,v,o[v]);else d.call(this,o,c);return this}function l(o,c){if(!this.__eventListeners)return this;var v=this.__eventListeners[o];if(!v)return this;for(var f=0,y=v.length;f<y;f++)v[f]&&v[f].call(this,c||{});return this.__eventListeners[o]=v.filter(function(x){return x!==!1}),this}i.Observable={fire:l,on:a,once:g,off:s}}(),i.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var d=0,a=arguments.length;d<a;d++)this._onObjectAdded(arguments[d]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(d,a,h){var g=this._objects;return h?g[a]=d:g.splice(a,0,d),this._onObjectAdded&&this._onObjectAdded(d),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var d=this._objects,a,h=!1,g=0,s=arguments.length;g<s;g++)a=d.indexOf(arguments[g]),a!==-1&&(h=!0,d.splice(a,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[g]));return this.renderOnAddRemove&&h&&this.requestRenderAll(),this},forEachObject:function(d,a){for(var h=this.getObjects(),g=0,s=h.length;g<s;g++)d.call(a,h[g],g,h);return this},getObjects:function(d){return typeof d>"u"?this._objects.concat():this._objects.filter(function(a){return a.type===d})},item:function(d){return this._objects[d]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(d,a){return this._objects.indexOf(d)>-1?!0:a?this._objects.some(function(h){return typeof h.contains=="function"&&h.contains(d,!0)}):!1},complexity:function(){return this._objects.reduce(function(d,a){return d+=a.complexity?a.complexity():0,d},0)}},i.CommonMethods={_setOptions:function(d){for(var a in d)this.set(a,d[a])},_initGradient:function(d,a){d&&d.colorStops&&!(d instanceof i.Gradient)&&this.set(a,new i.Gradient(d))},_initPattern:function(d,a,h){d&&d.source&&!(d instanceof i.Pattern)?this.set(a,new i.Pattern(d,h)):h&&h()},_setObject:function(d){for(var a in d)this._set(a,d[a])},set:function(d,a){return typeof d=="object"?this._setObject(d):this._set(d,a),this},_set:function(d,a){this[d]=a},toggle:function(d){var a=this.get(d);return typeof a=="boolean"&&this.set(d,!a),this},get:function(d){return this[d]}},function(d){var a=Math.sqrt,h=Math.atan2,g=Math.pow,s=Math.PI/180,l=Math.PI/2;i.util={cos:function(o){if(o===0)return 1;o<0&&(o=-o);var c=o/l;switch(c){case 1:case 3:return 0;case 2:return-1}return Math.cos(o)},sin:function(o){if(o===0)return 0;var c=o/l,v=1;switch(o<0&&(v=-1),c){case 1:return v;case 2:return 0;case 3:return-v}return Math.sin(o)},removeFromArray:function(o,c){var v=o.indexOf(c);return v!==-1&&o.splice(v,1),o},getRandomInt:function(o,c){return Math.floor(Math.random()*(c-o+1))+o},degreesToRadians:function(o){return o*s},radiansToDegrees:function(o){return o/s},rotatePoint:function(o,c,v){var f=new i.Point(o.x-c.x,o.y-c.y),y=i.util.rotateVector(f,v);return new i.Point(y.x,y.y).addEquals(c)},rotateVector:function(o,c){var v=i.util.sin(c),f=i.util.cos(c),y=o.x*f-o.y*v,x=o.x*v+o.y*f;return{x:y,y:x}},transformPoint:function(o,c,v){return v?new i.Point(c[0]*o.x+c[2]*o.y,c[1]*o.x+c[3]*o.y):new i.Point(c[0]*o.x+c[2]*o.y+c[4],c[1]*o.x+c[3]*o.y+c[5])},makeBoundingBoxFromPoints:function(o,c){if(c)for(var v=0;v<o.length;v++)o[v]=i.util.transformPoint(o[v],c);var f=[o[0].x,o[1].x,o[2].x,o[3].x],y=i.util.array.min(f),x=i.util.array.max(f),_=x-y,T=[o[0].y,o[1].y,o[2].y,o[3].y],E=i.util.array.min(T),A=i.util.array.max(T),k=A-E;return{left:y,top:E,width:_,height:k}},invertTransform:function(o){var c=1/(o[0]*o[3]-o[1]*o[2]),v=[c*o[3],-c*o[1],-c*o[2],c*o[0]],f=i.util.transformPoint({x:o[4],y:o[5]},v,!0);return v[4]=-f.x,v[5]=-f.y,v},toFixed:function(o,c){return parseFloat(Number(o).toFixed(c))},parseUnit:function(o,c){var v=/\D{0,2}$/.exec(o),f=parseFloat(o);switch(c||(c=i.Text.DEFAULT_SVG_FONT_SIZE),v[0]){case"mm":return f*i.DPI/25.4;case"cm":return f*i.DPI/2.54;case"in":return f*i.DPI;case"pt":return f*i.DPI/72;case"pc":return f*i.DPI/72*12;case"em":return f*c;default:return f}},falseFunction:function(){return!1},getKlass:function(o,c){return o=i.util.string.camelize(o.charAt(0).toUpperCase()+o.slice(1)),i.util.resolveNamespace(c)[o]},getSvgAttributes:function(o){var c=["instantiated_by_use","style","id","class"];switch(o){case"linearGradient":c=c.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":c=c.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":c=c.concat(["offset","stop-color","stop-opacity"]);break}return c},resolveNamespace:function(o){if(!o)return i;var c=o.split("."),v=c.length,f,y=d||i.window;for(f=0;f<v;++f)y=y[c[f]];return y},loadImage:function(o,c,v,f){if(!o){c&&c.call(v,o);return}var y=i.util.createImage(),x=function(){c&&c.call(v,y,!1),y=y.onload=y.onerror=null};y.onload=x,y.onerror=function(){i.log("Error loading "+y.src),c&&c.call(v,null,!0),y=y.onload=y.onerror=null},o.indexOf("data")!==0&&f!==void 0&&f!==null&&(y.crossOrigin=f),o.substring(0,14)==="data:image/svg"&&(y.onload=null,i.util.loadImageInDom(y,x)),y.src=o},loadImageInDom:function(o,c){var v=i.document.createElement("div");v.style.width=v.style.height="1px",v.style.left=v.style.top="-100%",v.style.position="absolute",v.appendChild(o),i.document.querySelector("body").appendChild(v),o.onload=function(){c(),v.parentNode.removeChild(v),v=null}},enlivenObjects:function(o,c,v,f){o=o||[];var y=[],x=0,_=o.length;function T(){++x===_&&c&&c(y.filter(function(E){return E}))}if(!_){c&&c(y);return}o.forEach(function(E,A){if(!E||!E.type){T();return}var k=i.util.getKlass(E.type,v);k.fromObject(E,function(z,I){I||(y[A]=z),f&&f(E,z,I),T()})})},enlivenPatterns:function(o,c){o=o||[];function v(){++y===x&&c&&c(f)}var f=[],y=0,x=o.length;if(!x){c&&c(f);return}o.forEach(function(_,T){_&&_.source?new i.Pattern(_,function(E){f[T]=E,v()}):(f[T]=_,v())})},groupSVGElements:function(o,c,v){var f;return o&&o.length===1?o[0]:(c&&(c.width&&c.height?c.centerPoint={x:c.width/2,y:c.height/2}:(delete c.width,delete c.height)),f=new i.Group(o,c),typeof v<"u"&&(f.sourcePath=v),f)},populateWithProperties:function(o,c,v){if(v&&Object.prototype.toString.call(v)==="[object Array]")for(var f=0,y=v.length;f<y;f++)v[f]in o&&(c[v[f]]=o[v[f]])},drawDashedLine:function(o,c,v,f,y,x){var _=f-c,T=y-v,E=a(_*_+T*T),A=h(T,_),k=x.length,z=0,I=!0;for(o.save(),o.translate(c,v),o.moveTo(0,0),o.rotate(A),c=0;E>c;)c+=x[z++%k],c>E&&(c=E),o[I?"lineTo":"moveTo"](c,0),I=!I;o.restore()},createCanvasElement:function(){return i.document.createElement("canvas")},copyCanvasElement:function(o){var c=i.util.createCanvasElement();return c.width=o.width,c.height=o.height,c.getContext("2d").drawImage(o,0,0),c},toDataURL:function(o,c,v){return o.toDataURL("image/"+c,v)},createImage:function(){return i.document.createElement("img")},multiplyTransformMatrices:function(o,c,v){return[o[0]*c[0]+o[2]*c[1],o[1]*c[0]+o[3]*c[1],o[0]*c[2]+o[2]*c[3],o[1]*c[2]+o[3]*c[3],v?0:o[0]*c[4]+o[2]*c[5]+o[4],v?0:o[1]*c[4]+o[3]*c[5]+o[5]]},qrDecompose:function(o){var c=h(o[1],o[0]),v=g(o[0],2)+g(o[1],2),f=a(v),y=(o[0]*o[3]-o[2]*o[1])/f,x=h(o[0]*o[2]+o[1]*o[3],v);return{angle:c/s,scaleX:f,scaleY:y,skewX:x/s,skewY:0,translateX:o[4],translateY:o[5]}},calcRotateMatrix:function(o){if(!o.angle)return i.iMatrix.concat();var c=i.util.degreesToRadians(o.angle),v=i.util.cos(c),f=i.util.sin(c);return[v,f,-f,v,0,0]},calcDimensionsMatrix:function(o){var c=typeof o.scaleX>"u"?1:o.scaleX,v=typeof o.scaleY>"u"?1:o.scaleY,f=[o.flipX?-c:c,0,0,o.flipY?-v:v,0,0],y=i.util.multiplyTransformMatrices,x=i.util.degreesToRadians;return o.skewX&&(f=y(f,[1,0,Math.tan(x(o.skewX)),1],!0)),o.skewY&&(f=y(f,[1,Math.tan(x(o.skewY)),0,1],!0)),f},composeMatrix:function(o){var c=[1,0,0,1,o.translateX||0,o.translateY||0],v=i.util.multiplyTransformMatrices;return o.angle&&(c=v(c,i.util.calcRotateMatrix(o))),(o.scaleX!==1||o.scaleY!==1||o.skewX||o.skewY||o.flipX||o.flipY)&&(c=v(c,i.util.calcDimensionsMatrix(o))),c},resetObjectTransform:function(o){o.scaleX=1,o.scaleY=1,o.skewX=0,o.skewY=0,o.flipX=!1,o.flipY=!1,o.rotate(0)},saveObjectTransform:function(o){return{scaleX:o.scaleX,scaleY:o.scaleY,skewX:o.skewX,skewY:o.skewY,angle:o.angle,left:o.left,flipX:o.flipX,flipY:o.flipY,top:o.top}},isTransparent:function(o,c,v,f){f>0&&(c>f?c-=f:c=0,v>f?v-=f:v=0);var y=!0,x,_,T=o.getImageData(c,v,f*2||1,f*2||1),E=T.data.length;for(x=3;x<E&&(_=T.data[x],y=_<=0,y!==!1);x+=4);return T=null,y},parsePreserveAspectRatioAttribute:function(o){var c="meet",v="Mid",f="Mid",y=o.split(" "),x;return y&&y.length&&(c=y.pop(),c!=="meet"&&c!=="slice"?(x=c,c="meet"):y.length&&(x=y.pop())),v=x!=="none"?x.slice(1,4):"none",f=x!=="none"?x.slice(5,8):"none",{meetOrSlice:c,alignX:v,alignY:f}},clearFabricFontCache:function(o){o=(o||"").toLowerCase(),o?i.charWidthsCache[o]&&delete i.charWidthsCache[o]:i.charWidthsCache={}},limitDimsByArea:function(o,c){var v=Math.sqrt(c*o),f=Math.floor(c/v);return{x:Math.floor(v),y:f}},capValue:function(o,c,v){return Math.max(o,Math.min(c,v))},findScaleToFit:function(o,c){return Math.min(c.width/o.width,c.height/o.height)},findScaleToCover:function(o,c){return Math.max(c.width/o.width,c.height/o.height)},matrixToSVG:function(o){return"matrix("+o.map(function(c){return i.util.toFixed(c,i.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(o,c){var v=i.util.invertTransform(c),f=i.util.multiplyTransformMatrices(v,o.calcOwnMatrix());i.util.applyTransformToObject(o,f)},addTransformToObject:function(o,c){i.util.applyTransformToObject(o,i.util.multiplyTransformMatrices(c,o.calcOwnMatrix()))},applyTransformToObject:function(o,c){var v=i.util.qrDecompose(c),f=new i.Point(v.translateX,v.translateY);o.flipX=!1,o.flipY=!1,o.set("scaleX",v.scaleX),o.set("scaleY",v.scaleY),o.skewX=v.skewX,o.skewY=v.skewY,o.angle=v.angle,o.setPositionByOrigin(f,"center","center")},sizeAfterTransform:function(o,c,v){var f=o/2,y=c/2,x=[{x:-f,y:-y},{x:f,y:-y},{x:-f,y},{x:f,y}],_=i.util.calcDimensionsMatrix(v),T=i.util.makeBoundingBoxFromPoints(x,_);return{x:T.width,y:T.height}}}}(r),function(){var d=Array.prototype.join,a={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},h={m:"l",M:"L"};function g(M,N,X,L,B,H,Y,rt,et,pt,gt){var vt=i.util.cos(M),it=i.util.sin(M),K=i.util.cos(N),dt=i.util.sin(N),mt=X*B*K-L*H*dt+Y,ct=L*B*K+X*H*dt+rt,bt=pt+et*(-X*B*it-L*H*vt),_t=gt+et*(-L*B*it+X*H*vt),kt=mt+et*(X*B*dt+L*H*K),At=ct+et*(L*B*dt-X*H*K);return["C",bt,_t,kt,At,mt,ct]}function s(M,N,X,L,B,H,Y){var rt=Math.PI,et=Y*rt/180,pt=i.util.sin(et),gt=i.util.cos(et),vt=0,it=0;X=Math.abs(X),L=Math.abs(L);var K=-gt*M*.5-pt*N*.5,dt=-gt*N*.5+pt*M*.5,mt=X*X,ct=L*L,bt=dt*dt,_t=K*K,kt=mt*ct-mt*bt-ct*_t,At=0;if(kt<0){var ot=Math.sqrt(1-kt/(mt*ct));X*=ot,L*=ot}else At=(B===H?-1:1)*Math.sqrt(kt/(mt*bt+ct*_t));var Rt=At*X*dt/L,Lt=-At*L*K/X,wt=gt*Rt-pt*Lt+M*.5,Tt=pt*Rt+gt*Lt+N*.5,Et=l(1,0,(K-Rt)/X,(dt-Lt)/L),Mt=l((K-Rt)/X,(dt-Lt)/L,(-K-Rt)/X,(-dt-Lt)/L);H===0&&Mt>0?Mt-=2*rt:H===1&&Mt<0&&(Mt+=2*rt);for(var Ot=Math.ceil(Math.abs(Mt/rt*2)),Pt=[],pe=Mt/Ot,xe=8/3*Math.sin(pe/4)*Math.sin(pe/4)/Math.sin(pe/2),Qt=Et+pe,he=0;he<Ot;he++)Pt[he]=g(Et,Qt,gt,pt,X,L,wt,Tt,xe,vt,it),vt=Pt[he][5],it=Pt[he][6],Et=Qt,Qt+=pe;return Pt}function l(M,N,X,L){var B=Math.atan2(N,M),H=Math.atan2(L,X);return H>=B?H-B:2*Math.PI-(B-H)}function o(M,N,X,L,B,H,Y,rt){var et;if(i.cachesBoundsOfCurve&&(et=d.call(arguments),i.boundsOfCurveCache[et]))return i.boundsOfCurveCache[et];var pt=Math.sqrt,gt=Math.min,vt=Math.max,it=Math.abs,K=[],dt=[[],[]],mt,ct,bt,_t,kt,At,ot,Rt;ct=6*M-12*X+6*B,mt=-3*M+9*X-9*B+3*Y,bt=3*X-3*M;for(var Lt=0;Lt<2;++Lt){if(Lt>0&&(ct=6*N-12*L+6*H,mt=-3*N+9*L-9*H+3*rt,bt=3*L-3*N),it(mt)<1e-12){if(it(ct)<1e-12)continue;_t=-bt/ct,0<_t&&_t<1&&K.push(_t);continue}ot=ct*ct-4*bt*mt,!(ot<0)&&(Rt=pt(ot),kt=(-ct+Rt)/(2*mt),0<kt&&kt<1&&K.push(kt),At=(-ct-Rt)/(2*mt),0<At&&At<1&&K.push(At))}for(var wt,Tt,Et=K.length,Mt=Et,Ot;Et--;)_t=K[Et],Ot=1-_t,wt=Ot*Ot*Ot*M+3*Ot*Ot*_t*X+3*Ot*_t*_t*B+_t*_t*_t*Y,dt[0][Et]=wt,Tt=Ot*Ot*Ot*N+3*Ot*Ot*_t*L+3*Ot*_t*_t*H+_t*_t*_t*rt,dt[1][Et]=Tt;dt[0][Mt]=M,dt[1][Mt]=N,dt[0][Mt+1]=Y,dt[1][Mt+1]=rt;var Pt=[{x:gt.apply(null,dt[0]),y:gt.apply(null,dt[1])},{x:vt.apply(null,dt[0]),y:vt.apply(null,dt[1])}];return i.cachesBoundsOfCurve&&(i.boundsOfCurveCache[et]=Pt),Pt}function c(M,N,X){for(var L=X[1],B=X[2],H=X[3],Y=X[4],rt=X[5],et=X[6],pt=X[7],gt=s(et-M,pt-N,L,B,Y,rt,H),vt=0,it=gt.length;vt<it;vt++)gt[vt][1]+=M,gt[vt][2]+=N,gt[vt][3]+=M,gt[vt][4]+=N,gt[vt][5]+=M,gt[vt][6]+=N;return gt}function v(M){var N=0,X=0,L=M.length,B=0,H=0,Y,rt,et,pt=[],gt,vt,it;for(rt=0;rt<L;++rt){switch(et=!1,Y=M[rt].slice(0),Y[0]){case"l":Y[0]="L",Y[1]+=N,Y[2]+=X;case"L":N=Y[1],X=Y[2];break;case"h":Y[1]+=N;case"H":Y[0]="L",Y[2]=X,N=Y[1];break;case"v":Y[1]+=X;case"V":Y[0]="L",X=Y[1],Y[1]=N,Y[2]=X;break;case"m":Y[0]="M",Y[1]+=N,Y[2]+=X;case"M":N=Y[1],X=Y[2],B=Y[1],H=Y[2];break;case"c":Y[0]="C",Y[1]+=N,Y[2]+=X,Y[3]+=N,Y[4]+=X,Y[5]+=N,Y[6]+=X;case"C":vt=Y[3],it=Y[4],N=Y[5],X=Y[6];break;case"s":Y[0]="S",Y[1]+=N,Y[2]+=X,Y[3]+=N,Y[4]+=X;case"S":gt==="C"?(vt=2*N-vt,it=2*X-it):(vt=N,it=X),N=Y[3],X=Y[4],Y[0]="C",Y[5]=Y[3],Y[6]=Y[4],Y[3]=Y[1],Y[4]=Y[2],Y[1]=vt,Y[2]=it,vt=Y[3],it=Y[4];break;case"q":Y[0]="Q",Y[1]+=N,Y[2]+=X,Y[3]+=N,Y[4]+=X;case"Q":vt=Y[1],it=Y[2],N=Y[3],X=Y[4];break;case"t":Y[0]="T",Y[1]+=N,Y[2]+=X;case"T":gt==="Q"?(vt=2*N-vt,it=2*X-it):(vt=N,it=X),Y[0]="Q",N=Y[1],X=Y[2],Y[1]=vt,Y[2]=it,Y[3]=N,Y[4]=X;break;case"a":Y[0]="A",Y[6]+=N,Y[7]+=X;case"A":et=!0,pt=pt.concat(c(N,X,Y)),N=Y[6],X=Y[7];break;case"z":case"Z":N=B,X=H;break}et||pt.push(Y),gt=Y[0]}return pt}function f(M,N,X,L){return Math.sqrt((X-M)*(X-M)+(L-N)*(L-N))}function y(M){return M*M*M}function x(M){return 3*M*M*(1-M)}function _(M){return 3*M*(1-M)*(1-M)}function T(M){return(1-M)*(1-M)*(1-M)}function E(M,N,X,L,B,H,Y,rt){return function(et){var pt=y(et),gt=x(et),vt=_(et),it=T(et);return{x:Y*pt+B*gt+X*vt+M*it,y:rt*pt+H*gt+L*vt+N*it}}}function A(M,N,X,L,B,H,Y,rt){return function(et){var pt=1-et,gt=3*pt*pt*(X-M)+6*pt*et*(B-X)+3*et*et*(Y-B),vt=3*pt*pt*(L-N)+6*pt*et*(H-L)+3*et*et*(rt-H);return Math.atan2(vt,gt)}}function k(M){return M*M}function z(M){return 2*M*(1-M)}function I(M){return(1-M)*(1-M)}function D(M,N,X,L,B,H){return function(Y){var rt=k(Y),et=z(Y),pt=I(Y);return{x:B*rt+X*et+M*pt,y:H*rt+L*et+N*pt}}}function q(M,N,X,L,B,H){return function(Y){var rt=1-Y,et=2*rt*(X-M)+2*Y*(B-X),pt=2*rt*(L-N)+2*Y*(H-L);return Math.atan2(pt,et)}}function st(M,N,X){var L={x:N,y:X},B,H=0,Y;for(Y=1;Y<=100;Y+=1)B=M(Y/100),H+=f(L.x,L.y,B.x,B.y),L=B;return H}function Z(M,N){for(var X=0,L=0,B=M.iterator,H={x:M.x,y:M.y},Y,rt,et=.01,pt=M.angleFinder,gt;L<N&&X<=1&&et>1e-4;)Y=B(X),gt=X,rt=f(H.x,H.y,Y.x,Y.y),rt+L>N?(et/=2,X-=et):(H=Y,X+=et,L+=rt);return Y.angle=pt(gt),Y}function $(M){for(var N=0,X=M.length,L,B=0,H=0,Y=0,rt=0,et=[],pt,gt,vt,it=0;it<X;it++){switch(L=M[it],gt={x:B,y:H,command:L[0]},L[0]){case"M":gt.length=0,Y=B=L[1],rt=H=L[2];break;case"L":gt.length=f(B,H,L[1],L[2]),B=L[1],H=L[2];break;case"C":pt=E(B,H,L[1],L[2],L[3],L[4],L[5],L[6]),vt=A(B,H,L[1],L[2],L[3],L[4],L[5],L[6]),gt.iterator=pt,gt.angleFinder=vt,gt.length=st(pt,B,H),B=L[5],H=L[6];break;case"Q":pt=D(B,H,L[1],L[2],L[3],L[4]),vt=q(B,H,L[1],L[2],L[3],L[4]),gt.iterator=pt,gt.angleFinder=vt,gt.length=st(pt,B,H),B=L[3],H=L[4];break;case"Z":case"z":gt.destX=Y,gt.destY=rt,gt.length=f(B,H,Y,rt),B=Y,H=rt;break}N+=gt.length,et.push(gt)}return et.push({length:N,x:B,y:H}),et}function ut(M,N,X){X||(X=$(M));for(var L=0;N-X[L].length>0&&L<X.length-2;)N-=X[L].length,L++;var B=X[L],H=N/B.length,Y=B.command,rt=M[L],et;switch(Y){case"M":return{x:B.x,y:B.y,angle:0};case"Z":case"z":return et=new i.Point(B.x,B.y).lerp(new i.Point(B.destX,B.destY),H),et.angle=Math.atan2(B.destY-B.y,B.destX-B.x),et;case"L":return et=new i.Point(B.x,B.y).lerp(new i.Point(rt[1],rt[2]),H),et.angle=Math.atan2(rt[2]-B.y,rt[1]-B.x),et;case"C":return Z(B,N);case"Q":return Z(B,N)}}function U(M){var N=[],X=[],L,B,H=i.rePathCommand,Y="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",rt="("+Y+")"+i.commaWsp,et="([01])"+i.commaWsp+"?",pt=rt+"?"+rt+"?"+rt+et+et+rt+"?("+Y+")",gt=new RegExp(pt,"g"),vt,it,K;if(!M||!M.match)return N;K=M.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var dt=0,mt,ct=K.length;dt<ct;dt++){L=K[dt],it=L.slice(1).trim(),X.length=0;var bt=L.charAt(0);if(mt=[bt],bt.toLowerCase()==="a")for(var _t;_t=gt.exec(it);)for(var kt=1;kt<_t.length;kt++)X.push(_t[kt]);else for(;vt=H.exec(it);)X.push(vt[0]);for(var kt=0,At=X.length;kt<At;kt++)B=parseFloat(X[kt]),isNaN(B)||mt.push(B);var ot=a[bt.toLowerCase()],Rt=h[bt]||bt;if(mt.length-1>ot)for(var Lt=1,wt=mt.length;Lt<wt;Lt+=ot)N.push([bt].concat(mt.slice(Lt,Lt+ot))),bt=Rt;else N.push(mt)}return N}function tt(M,N){var X=[],L,B=new i.Point(M[0].x,M[0].y),H=new i.Point(M[1].x,M[1].y),Y=M.length,rt=1,et=0,pt=Y>2;for(N=N||0,pt&&(rt=M[2].x<H.x?-1:M[2].x===H.x?0:1,et=M[2].y<H.y?-1:M[2].y===H.y?0:1),X.push(["M",B.x-rt*N,B.y-et*N]),L=1;L<Y;L++){if(!B.eq(H)){var gt=B.midPointFrom(H);X.push(["Q",B.x,B.y,gt.x,gt.y])}B=M[L],L+1<M.length&&(H=M[L+1])}return pt&&(rt=B.x>M[L-2].x?1:B.x===M[L-2].x?0:-1,et=B.y>M[L-2].y?1:B.y===M[L-2].y?0:-1),X.push(["L",B.x+rt*N,B.y+et*N]),X}function nt(M,N,X){return X&&(N=i.util.multiplyTransformMatrices(N,[1,0,0,1,-X.x,-X.y])),M.map(function(L){for(var B=L.slice(0),H={},Y=1;Y<L.length-1;Y+=2)H.x=L[Y],H.y=L[Y+1],H=i.util.transformPoint(H,N),B[Y]=H.x,B[Y+1]=H.y;return B})}function F(M,N,X,L,B,H,Y,rt,et){for(var pt=0,gt=0,vt,it=[],K=s(rt-M,et-N,X,L,H,Y,B),dt=0,mt=K.length;dt<mt;dt++)vt=o(pt,gt,K[dt][1],K[dt][2],K[dt][3],K[dt][4],K[dt][5],K[dt][6]),it.push({x:vt[0].x+M,y:vt[0].y+N}),it.push({x:vt[1].x+M,y:vt[1].y+N}),pt=K[dt][5],gt=K[dt][6];return it}function P(M,N,X,L){L=L.slice(0).unshift("X");var B=c(N,X,L);B.forEach(function(H){M.bezierCurveTo.apply(M,H.slice(1))})}i.util.joinPath=function(M){return M.map(function(N){return N.join(" ")}).join(" ")},i.util.parsePath=U,i.util.makePathSimpler=v,i.util.getSmoothPathFromPoints=tt,i.util.getPathSegmentsInfo=$,i.util.getBoundsOfCurve=o,i.util.getPointOnPath=ut,i.util.transformPath=nt,i.util.fromArcToBeizers=c,i.util.getBoundsOfArc=F,i.util.drawArc=P}(),function(){var d=Array.prototype.slice;function a(o,c){for(var v=d.call(arguments,2),f=[],y=0,x=o.length;y<x;y++)f[y]=v.length?o[y][c].apply(o[y],v):o[y][c].call(o[y]);return f}function h(o,c){return l(o,c,function(v,f){return v>=f})}function g(o,c){return l(o,c,function(v,f){return v<f})}function s(o,c){for(var v=o.length;v--;)o[v]=c;return o}function l(o,c,v){if(!(!o||o.length===0)){var f=o.length-1,y=c?o[f][c]:o[f];if(c)for(;f--;)v(o[f][c],y)&&(y=o[f][c]);else for(;f--;)v(o[f],y)&&(y=o[f]);return y}}i.util.array={fill:s,invoke:a,min:g,max:h}}(),function(){function d(h,g,s){if(s)if(!i.isLikelyNode&&g instanceof Element)h=g;else if(g instanceof Array){h=[];for(var l=0,o=g.length;l<o;l++)h[l]=d({},g[l],s)}else if(g&&typeof g=="object")for(var c in g)c==="canvas"||c==="group"?h[c]=null:g.hasOwnProperty(c)&&(h[c]=d({},g[c],s));else h=g;else for(var c in g)h[c]=g[c];return h}function a(h,g){return d({},h,g)}i.util.object={extend:d,clone:a},i.util.object.extend(i.util,i.Observable)}(),function(){function d(l){return l.replace(/-+(.)?/g,function(o,c){return c?c.toUpperCase():""})}function a(l,o){return l.charAt(0).toUpperCase()+(o?l.slice(1):l.slice(1).toLowerCase())}function h(l){return l.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function g(l){var o=0,c,v=[];for(o=0,c;o<l.length;o++)(c=s(l,o))!==!1&&v.push(c);return v}function s(l,o){var c=l.charCodeAt(o);if(isNaN(c))return"";if(c<55296||c>57343)return l.charAt(o);if(55296<=c&&c<=56319){if(l.length<=o+1)throw"High surrogate without following low surrogate";var v=l.charCodeAt(o+1);if(56320>v||v>57343)throw"High surrogate without following low surrogate";return l.charAt(o)+l.charAt(o+1)}if(o===0)throw"Low surrogate without preceding high surrogate";var f=l.charCodeAt(o-1);if(55296>f||f>56319)throw"Low surrogate without preceding high surrogate";return!1}i.util.string={camelize:d,capitalize:a,escapeXml:h,graphemeSplit:g}}(),function(){var d=Array.prototype.slice,a=function(){},h=function(){for(var c in{toString:1})if(c==="toString")return!1;return!0}(),g=function(c,v,f){for(var y in v)y in c.prototype&&typeof c.prototype[y]=="function"&&(v[y]+"").indexOf("callSuper")>-1?c.prototype[y]=function(x){return function(){var _=this.constructor.superclass;this.constructor.superclass=f;var T=v[x].apply(this,arguments);if(this.constructor.superclass=_,x!=="initialize")return T}}(y):c.prototype[y]=v[y],h&&(v.toString!==Object.prototype.toString&&(c.prototype.toString=v.toString),v.valueOf!==Object.prototype.valueOf&&(c.prototype.valueOf=v.valueOf))};function s(){}function l(c){for(var v=null,f=this;f.constructor.superclass;){var y=f.constructor.superclass.prototype[c];if(f[c]!==y){v=y;break}f=f.constructor.superclass.prototype}return v?arguments.length>1?v.apply(this,d.call(arguments,1)):v.call(this):console.log("tried to callSuper "+c+", method not found in prototype chain",this)}function o(){var c=null,v=d.call(arguments,0);typeof v[0]=="function"&&(c=v.shift());function f(){this.initialize.apply(this,arguments)}f.superclass=c,f.subclasses=[],c&&(s.prototype=c.prototype,f.prototype=new s,c.subclasses.push(f));for(var y=0,x=v.length;y<x;y++)g(f,v[y],c);return f.prototype.initialize||(f.prototype.initialize=a),f.prototype.constructor=f,f.prototype.callSuper=l,f}i.util.createClass=o}(),function(){var d=!!i.document.createElement("div").attachEvent,a=["touchstart","touchmove","touchend"];i.util.addListener=function(g,s,l,o){g&&g.addEventListener(s,l,d?!1:o)},i.util.removeListener=function(g,s,l,o){g&&g.removeEventListener(s,l,d?!1:o)};function h(g){var s=g.changedTouches;return s&&s[0]?s[0]:g}i.util.getPointer=function(g){var s=g.target,l=i.util.getScrollLeftTop(s),o=h(g);return{x:o.clientX+l.left,y:o.clientY+l.top}},i.util.isTouchEvent=function(g){return a.indexOf(g.type)>-1||g.pointerType==="touch"}}(),function(){function d(o,c){var v=o.style;if(!v)return o;if(typeof c=="string")return o.style.cssText+=";"+c,c.indexOf("opacity")>-1?l(o,c.match(/opacity:\s*(\d?\.?\d*)/)[1]):o;for(var f in c)if(f==="opacity")l(o,c[f]);else{var y=f==="float"||f==="cssFloat"?typeof v.styleFloat>"u"?"cssFloat":"styleFloat":f;v[y]=c[f]}return o}var a=i.document.createElement("div"),h=typeof a.style.opacity=="string",g=typeof a.style.filter=="string",s=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,l=function(o){return o};h?l=function(o,c){return o.style.opacity=c,o}:g&&(l=function(o,c){var v=o.style;return o.currentStyle&&!o.currentStyle.hasLayout&&(v.zoom=1),s.test(v.filter)?(c=c>=.9999?"":"alpha(opacity="+c*100+")",v.filter=v.filter.replace(s,c)):v.filter+=" alpha(opacity="+c*100+")",o}),i.util.setStyle=d}(),function(){var d=Array.prototype.slice;function a(T){return typeof T=="string"?i.document.getElementById(T):T}var h,g=function(T){return d.call(T,0)};try{h=g(i.document.childNodes)instanceof Array}catch{}h||(g=function(T){for(var E=new Array(T.length),A=T.length;A--;)E[A]=T[A];return E});function s(T,E){var A=i.document.createElement(T);for(var k in E)k==="class"?A.className=E[k]:k==="for"?A.htmlFor=E[k]:A.setAttribute(k,E[k]);return A}function l(T,E){T&&(" "+T.className+" ").indexOf(" "+E+" ")===-1&&(T.className+=(T.className?" ":"")+E)}function o(T,E,A){return typeof E=="string"&&(E=s(E,A)),T.parentNode&&T.parentNode.replaceChild(E,T),E.appendChild(T),E}function c(T){for(var E=0,A=0,k=i.document.documentElement,z=i.document.body||{scrollLeft:0,scrollTop:0};T&&(T.parentNode||T.host)&&(T=T.parentNode||T.host,T===i.document?(E=z.scrollLeft||k.scrollLeft||0,A=z.scrollTop||k.scrollTop||0):(E+=T.scrollLeft||0,A+=T.scrollTop||0),!(T.nodeType===1&&T.style.position==="fixed")););return{left:E,top:A}}function v(T){var E,A=T&&T.ownerDocument,k={left:0,top:0},z={left:0,top:0},I,D={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!A)return z;for(var q in D)z[D[q]]+=parseInt(f(T,q),10)||0;return E=A.documentElement,typeof T.getBoundingClientRect<"u"&&(k=T.getBoundingClientRect()),I=c(T),{left:k.left+I.left-(E.clientLeft||0)+z.left,top:k.top+I.top-(E.clientTop||0)+z.top}}var f;i.document.defaultView&&i.document.defaultView.getComputedStyle?f=function(T,E){var A=i.document.defaultView.getComputedStyle(T,null);return A?A[E]:void 0}:f=function(T,E){var A=T.style[E];return!A&&T.currentStyle&&(A=T.currentStyle[E]),A},function(){var T=i.document.documentElement.style,E="userSelect"in T?"userSelect":"MozUserSelect"in T?"MozUserSelect":"WebkitUserSelect"in T?"WebkitUserSelect":"KhtmlUserSelect"in T?"KhtmlUserSelect":"";function A(z){return typeof z.onselectstart<"u"&&(z.onselectstart=i.util.falseFunction),E?z.style[E]="none":typeof z.unselectable=="string"&&(z.unselectable="on"),z}function k(z){return typeof z.onselectstart<"u"&&(z.onselectstart=null),E?z.style[E]="":typeof z.unselectable=="string"&&(z.unselectable=""),z}i.util.makeElementUnselectable=A,i.util.makeElementSelectable=k}();function y(T){var E=i.jsdomImplForWrapper(T);return E._canvas||E._image}function x(T){if(i.isLikelyNode){var E=i.jsdomImplForWrapper(T);E&&(E._image=null,E._canvas=null,E._currentSrc=null,E._attributes=null,E._classList=null)}}function _(T,E){T.imageSmoothingEnabled=T.imageSmoothingEnabled||T.webkitImageSmoothingEnabled||T.mozImageSmoothingEnabled||T.msImageSmoothingEnabled||T.oImageSmoothingEnabled,T.imageSmoothingEnabled=E}i.util.setImageSmoothing=_,i.util.getById=a,i.util.toArray=g,i.util.addClass=l,i.util.makeElement=s,i.util.wrapElement=o,i.util.getScrollLeftTop=c,i.util.getElementOffset=v,i.util.getNodeCanvas=y,i.util.cleanUpJsdomNode=x}(),function(){function d(g,s){return g+(/\?/.test(g)?"&":"?")+s}function a(){}function h(g,s){s||(s={});var l=s.method?s.method.toUpperCase():"GET",o=s.onComplete||function(){},c=new i.window.XMLHttpRequest,v=s.body||s.parameters;return c.onreadystatechange=function(){c.readyState===4&&(o(c),c.onreadystatechange=a)},l==="GET"&&(v=null,typeof s.parameters=="string"&&(g=d(g,s.parameters))),c.open(l,g,!0),(l==="POST"||l==="PUT")&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(v),c}i.util.request=h}(),i.log=console.log,i.warn=console.warn,function(){function d(){return!1}function a(c,v,f,y){return-f*Math.cos(c/y*(Math.PI/2))+f+v}function h(c){var v=!1;return l(function(f){c||(c={});var y=f||+new Date,x=c.duration||500,_=y+x,T,E=c.onChange||d,A=c.abort||d,k=c.onComplete||d,z=c.easing||a,I="startValue"in c?c.startValue:0,D="endValue"in c?c.endValue:100,q=c.byValue||D-I;c.onStart&&c.onStart(),function st(Z){T=Z||+new Date;var $=T>_?x:T-y,ut=$/x,U=z($,I,q,x),tt=Math.abs((U-I)/q);if(!v){if(A(U,tt,ut)){k(D,1,1);return}if(T>_){E(D,1,1),k(D,1,1);return}else E(U,tt,ut),l(st)}}(y)}),function(){v=!0}}var g=i.window.requestAnimationFrame||i.window.webkitRequestAnimationFrame||i.window.mozRequestAnimationFrame||i.window.oRequestAnimationFrame||i.window.msRequestAnimationFrame||function(c){return i.window.setTimeout(c,1e3/60)},s=i.window.cancelAnimationFrame||i.window.clearTimeout;function l(){return g.apply(i.window,arguments)}function o(){return s.apply(i.window,arguments)}i.util.animate=h,i.util.requestAnimFrame=l,i.util.cancelAnimFrame=o}(),function(){function d(h,g,s){var l="rgba("+parseInt(h[0]+s*(g[0]-h[0]),10)+","+parseInt(h[1]+s*(g[1]-h[1]),10)+","+parseInt(h[2]+s*(g[2]-h[2]),10);return l+=","+(h&&g?parseFloat(h[3]+s*(g[3]-h[3])):1),l+=")",l}function a(h,g,s,l){var o=new i.Color(h).getSource(),c=new i.Color(g).getSource(),v=l.onComplete,f=l.onChange;return l=l||{},i.util.animate(i.util.object.extend(l,{duration:s||500,startValue:o,endValue:c,byValue:c,easing:function(y,x,_,T){var E=l.colorEasing?l.colorEasing(y,T):1-Math.cos(y/T*(Math.PI/2));return d(x,_,E)},onComplete:function(y,x,_){if(v)return v(d(c,c,0),x,_)},onChange:function(y,x,_){if(f){if(Array.isArray(y))return f(d(y,y,0),x,_);f(y,x,_)}}}))}i.util.animateColor=a}(),function(){function d(F,P,M,N){return F<Math.abs(P)?(F=P,N=M/4):P===0&&F===0?N=M/(2*Math.PI)*Math.asin(1):N=M/(2*Math.PI)*Math.asin(P/F),{a:F,c:P,p:M,s:N}}function a(F,P,M){return F.a*Math.pow(2,10*(P-=1))*Math.sin((P*M-F.s)*(2*Math.PI)/F.p)}function h(F,P,M,N){return M*((F=F/N-1)*F*F+1)+P}function g(F,P,M,N){return F/=N/2,F<1?M/2*F*F*F+P:M/2*((F-=2)*F*F+2)+P}function s(F,P,M,N){return M*(F/=N)*F*F*F+P}function l(F,P,M,N){return-M*((F=F/N-1)*F*F*F-1)+P}function o(F,P,M,N){return F/=N/2,F<1?M/2*F*F*F*F+P:-M/2*((F-=2)*F*F*F-2)+P}function c(F,P,M,N){return M*(F/=N)*F*F*F*F+P}function v(F,P,M,N){return M*((F=F/N-1)*F*F*F*F+1)+P}function f(F,P,M,N){return F/=N/2,F<1?M/2*F*F*F*F*F+P:M/2*((F-=2)*F*F*F*F+2)+P}function y(F,P,M,N){return-M*Math.cos(F/N*(Math.PI/2))+M+P}function x(F,P,M,N){return M*Math.sin(F/N*(Math.PI/2))+P}function _(F,P,M,N){return-M/2*(Math.cos(Math.PI*F/N)-1)+P}function T(F,P,M,N){return F===0?P:M*Math.pow(2,10*(F/N-1))+P}function E(F,P,M,N){return F===N?P+M:M*(-Math.pow(2,-10*F/N)+1)+P}function A(F,P,M,N){return F===0?P:F===N?P+M:(F/=N/2,F<1?M/2*Math.pow(2,10*(F-1))+P:M/2*(-Math.pow(2,-10*--F)+2)+P)}function k(F,P,M,N){return-M*(Math.sqrt(1-(F/=N)*F)-1)+P}function z(F,P,M,N){return M*Math.sqrt(1-(F=F/N-1)*F)+P}function I(F,P,M,N){return F/=N/2,F<1?-M/2*(Math.sqrt(1-F*F)-1)+P:M/2*(Math.sqrt(1-(F-=2)*F)+1)+P}function D(F,P,M,N){var X=1.70158,L=0,B=M;if(F===0)return P;if(F/=N,F===1)return P+M;L||(L=N*.3);var H=d(B,M,L,X);return-a(H,F,N)+P}function q(F,P,M,N){var X=1.70158,L=0,B=M;if(F===0)return P;if(F/=N,F===1)return P+M;L||(L=N*.3);var H=d(B,M,L,X);return H.a*Math.pow(2,-10*F)*Math.sin((F*N-H.s)*(2*Math.PI)/H.p)+H.c+P}function st(F,P,M,N){var X=1.70158,L=0,B=M;if(F===0)return P;if(F/=N/2,F===2)return P+M;L||(L=N*(.3*1.5));var H=d(B,M,L,X);return F<1?-.5*a(H,F,N)+P:H.a*Math.pow(2,-10*(F-=1))*Math.sin((F*N-H.s)*(2*Math.PI)/H.p)*.5+H.c+P}function Z(F,P,M,N,X){return X===void 0&&(X=1.70158),M*(F/=N)*F*((X+1)*F-X)+P}function $(F,P,M,N,X){return X===void 0&&(X=1.70158),M*((F=F/N-1)*F*((X+1)*F+X)+1)+P}function ut(F,P,M,N,X){return X===void 0&&(X=1.70158),F/=N/2,F<1?M/2*(F*F*(((X*=1.525)+1)*F-X))+P:M/2*((F-=2)*F*(((X*=1.525)+1)*F+X)+2)+P}function U(F,P,M,N){return M-tt(N-F,0,M,N)+P}function tt(F,P,M,N){return(F/=N)<1/2.75?M*(7.5625*F*F)+P:F<2/2.75?M*(7.5625*(F-=1.5/2.75)*F+.75)+P:F<2.5/2.75?M*(7.5625*(F-=2.25/2.75)*F+.9375)+P:M*(7.5625*(F-=2.625/2.75)*F+.984375)+P}function nt(F,P,M,N){return F<N/2?U(F*2,0,M,N)*.5+P:tt(F*2-N,0,M,N)*.5+M*.5+P}i.util.ease={easeInQuad:function(F,P,M,N){return M*(F/=N)*F+P},easeOutQuad:function(F,P,M,N){return-M*(F/=N)*(F-2)+P},easeInOutQuad:function(F,P,M,N){return F/=N/2,F<1?M/2*F*F+P:-M/2*(--F*(F-2)-1)+P},easeInCubic:function(F,P,M,N){return M*(F/=N)*F*F+P},easeOutCubic:h,easeInOutCubic:g,easeInQuart:s,easeOutQuart:l,easeInOutQuart:o,easeInQuint:c,easeOutQuint:v,easeInOutQuint:f,easeInSine:y,easeOutSine:x,easeInOutSine:_,easeInExpo:T,easeOutExpo:E,easeInOutExpo:A,easeInCirc:k,easeOutCirc:z,easeInOutCirc:I,easeInElastic:D,easeOutElastic:q,easeInOutElastic:st,easeInBack:Z,easeOutBack:$,easeInOutBack:ut,easeInBounce:U,easeOutBounce:tt,easeInOutBounce:nt}}(),function(d){var a=d.fabric||(d.fabric={}),h=a.util.object.extend,g=a.util.object.clone,s=a.util.toFixed,l=a.util.parseUnit,o=a.util.multiplyTransformMatrices,c=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],v=["symbol","image","marker","pattern","view","svg"],f=["pattern","defs","symbol","metadata","clipPath","mask","desc"],y=["symbol","g","a","svg","clipPath","defs"],x={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},_={stroke:"strokeOpacity",fill:"fillOpacity"},T="font-size",E="clip-path";a.svgValidTagNamesRegEx=z(c),a.svgViewBoxElementsRegEx=z(v),a.svgInvalidAncestorsRegEx=z(f),a.svgValidParentsRegEx=z(y),a.cssRules={},a.gradientDefs={},a.clipPaths={};function A(L){return L in x?x[L]:L}function k(L,B,H,Y){var rt=Object.prototype.toString.call(B)==="[object Array]",et;if((L==="fill"||L==="stroke")&&B==="none")B="";else{if(L==="strokeUniform")return B==="non-scaling-stroke";if(L==="strokeDashArray")B==="none"?B=null:B=B.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(L==="transformMatrix")H&&H.transformMatrix?B=o(H.transformMatrix,a.parseTransformAttribute(B)):B=a.parseTransformAttribute(B);else if(L==="visible")B=B!=="none"&&B!=="hidden",H&&H.visible===!1&&(B=!1);else if(L==="opacity")B=parseFloat(B),H&&typeof H.opacity<"u"&&(B*=H.opacity);else if(L==="textAnchor")B=B==="start"?"left":B==="end"?"right":"center";else if(L==="charSpacing")et=l(B,Y)/Y*1e3;else if(L==="paintFirst"){var pt=B.indexOf("fill"),gt=B.indexOf("stroke"),B="fill";(pt>-1&&gt>-1&&gt<pt||pt===-1&&gt>-1)&&(B="stroke")}else{if(L==="href"||L==="xlink:href"||L==="font")return B;if(L==="imageSmoothing")return B==="optimizeQuality";et=rt?B.map(l):l(B,Y)}}return!rt&&isNaN(et)?B:et}function z(L){return new RegExp("^("+L.join("|")+")\\b","i")}function I(L){for(var B in _)if(!(typeof L[_[B]]>"u"||L[B]==="")){if(typeof L[B]>"u"){if(!a.Object.prototype[B])continue;L[B]=a.Object.prototype[B]}if(L[B].indexOf("url(")!==0){var H=new a.Color(L[B]);L[B]=H.setAlpha(s(H.getAlpha()*L[_[B]],2)).toRgba()}}return L}function D(L,B){var H,Y=[],rt,et,pt;for(et=0,pt=B.length;et<pt;et++)H=B[et],rt=L.getElementsByTagName(H),Y=Y.concat(Array.prototype.slice.call(rt));return Y}a.parseTransformAttribute=function(){function L(ot,Rt){var Lt=a.util.cos(Rt[0]),wt=a.util.sin(Rt[0]),Tt=0,Et=0;Rt.length===3&&(Tt=Rt[1],Et=Rt[2]),ot[0]=Lt,ot[1]=wt,ot[2]=-wt,ot[3]=Lt,ot[4]=Tt-(Lt*Tt-wt*Et),ot[5]=Et-(wt*Tt+Lt*Et)}function B(ot,Rt){var Lt=Rt[0],wt=Rt.length===2?Rt[1]:Rt[0];ot[0]=Lt,ot[3]=wt}function H(ot,Rt,Lt){ot[Lt]=Math.tan(a.util.degreesToRadians(Rt[0]))}function Y(ot,Rt){ot[4]=Rt[0],Rt.length===2&&(ot[5]=Rt[1])}var rt=a.iMatrix,et=a.reNum,pt=a.commaWsp,gt="(?:(skewX)\\s*\\(\\s*("+et+")\\s*\\))",vt="(?:(skewY)\\s*\\(\\s*("+et+")\\s*\\))",it="(?:(rotate)\\s*\\(\\s*("+et+")(?:"+pt+"("+et+")"+pt+"("+et+"))?\\s*\\))",K="(?:(scale)\\s*\\(\\s*("+et+")(?:"+pt+"("+et+"))?\\s*\\))",dt="(?:(translate)\\s*\\(\\s*("+et+")(?:"+pt+"("+et+"))?\\s*\\))",mt="(?:(matrix)\\s*\\(\\s*("+et+")"+pt+"("+et+")"+pt+"("+et+")"+pt+"("+et+")"+pt+"("+et+")"+pt+"("+et+")\\s*\\))",ct="(?:"+mt+"|"+dt+"|"+K+"|"+it+"|"+gt+"|"+vt+")",bt="(?:"+ct+"(?:"+pt+"*"+ct+")*)",_t="^\\s*(?:"+bt+"?)\\s*$",kt=new RegExp(_t),At=new RegExp(ct,"g");return function(ot){var Rt=rt.concat(),Lt=[];if(!ot||ot&&!kt.test(ot))return Rt;ot.replace(At,function(Tt){var Et=new RegExp(ct).exec(Tt).filter(function(Pt){return!!Pt}),Mt=Et[1],Ot=Et.slice(2).map(parseFloat);switch(Mt){case"translate":Y(Rt,Ot);break;case"rotate":Ot[0]=a.util.degreesToRadians(Ot[0]),L(Rt,Ot);break;case"scale":B(Rt,Ot);break;case"skewX":H(Rt,Ot,2);break;case"skewY":H(Rt,Ot,1);break;case"matrix":Rt=Ot;break}Lt.push(Rt.concat()),Rt=rt.concat()});for(var wt=Lt[0];Lt.length>1;)Lt.shift(),wt=a.util.multiplyTransformMatrices(wt,Lt[0]);return wt}}();function q(L,B){var H,Y;L.replace(/;\s*$/,"").split(";").forEach(function(rt){var et=rt.split(":");H=et[0].trim().toLowerCase(),Y=et[1].trim(),B[H]=Y})}function st(L,B){var H,Y;for(var rt in L)typeof L[rt]>"u"||(H=rt.toLowerCase(),Y=L[rt],B[H]=Y)}function Z(L,B){var H={};for(var Y in a.cssRules[B])if($(L,Y.split(" ")))for(var rt in a.cssRules[B][Y])H[rt]=a.cssRules[B][Y][rt];return H}function $(L,B){var H,Y=!0;return H=U(L,B.pop()),H&&B.length&&(Y=ut(L,B)),H&&Y&&B.length===0}function ut(L,B){for(var H,Y=!0;L.parentNode&&L.parentNode.nodeType===1&&B.length;)Y&&(H=B.pop()),L=L.parentNode,Y=U(L,H);return B.length===0}function U(L,B){var H=L.nodeName,Y=L.getAttribute("class"),rt=L.getAttribute("id"),et,pt;if(et=new RegExp("^"+H,"i"),B=B.replace(et,""),rt&&B.length&&(et=new RegExp("#"+rt+"(?![a-zA-Z\\-]+)","i"),B=B.replace(et,"")),Y&&B.length)for(Y=Y.split(" "),pt=Y.length;pt--;)et=new RegExp("\\."+Y[pt]+"(?![a-zA-Z\\-]+)","i"),B=B.replace(et,"");return B.length===0}function tt(L,B){var H;if(L.getElementById&&(H=L.getElementById(B)),H)return H;var Y,rt,et,pt=L.getElementsByTagName("*");for(rt=0,et=pt.length;rt<et;rt++)if(Y=pt[rt],B===Y.getAttribute("id"))return Y}function nt(L){for(var B=D(L,["use","svg:use"]),H=0;B.length&&H<B.length;){var Y=B[H],rt=Y.getAttribute("xlink:href")||Y.getAttribute("href");if(rt===null)return;var et=rt.substr(1),pt=Y.getAttribute("x")||0,gt=Y.getAttribute("y")||0,vt=tt(L,et).cloneNode(!0),it=(vt.getAttribute("transform")||"")+" translate("+pt+", "+gt+")",K,dt=B.length,mt,ct,bt,_t,kt=a.svgNS;if(P(vt),/^svg$/i.test(vt.nodeName)){var At=vt.ownerDocument.createElementNS(kt,"g");for(ct=0,bt=vt.attributes,_t=bt.length;ct<_t;ct++)mt=bt.item(ct),At.setAttributeNS(kt,mt.nodeName,mt.nodeValue);for(;vt.firstChild;)At.appendChild(vt.firstChild);vt=At}for(ct=0,bt=Y.attributes,_t=bt.length;ct<_t;ct++)mt=bt.item(ct),!(mt.nodeName==="x"||mt.nodeName==="y"||mt.nodeName==="xlink:href"||mt.nodeName==="href")&&(mt.nodeName==="transform"?it=mt.nodeValue+" "+it:vt.setAttribute(mt.nodeName,mt.nodeValue));vt.setAttribute("transform",it),vt.setAttribute("instantiated_by_use","1"),vt.removeAttribute("id"),K=Y.parentNode,K.replaceChild(vt,Y),B.length===dt&&H++}}var F=new RegExp("^\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*$");function P(L){if(!a.svgViewBoxElementsRegEx.test(L.nodeName))return{};var B=L.getAttribute("viewBox"),H=1,Y=1,rt=0,et=0,pt,gt,vt,it,K=L.getAttribute("width"),dt=L.getAttribute("height"),mt=L.getAttribute("x")||0,ct=L.getAttribute("y")||0,bt=L.getAttribute("preserveAspectRatio")||"",_t=!B||!(B=B.match(F)),kt=!K||!dt||K==="100%"||dt==="100%",At=_t&&kt,ot={},Rt="",Lt=0,wt=0;if(ot.width=0,ot.height=0,ot.toBeParsed=At,_t&&(mt||ct)&&L.parentNode&&L.parentNode.nodeName!=="#document"&&(Rt=" translate("+l(mt)+" "+l(ct)+") ",vt=(L.getAttribute("transform")||"")+Rt,L.setAttribute("transform",vt),L.removeAttribute("x"),L.removeAttribute("y")),At)return ot;if(_t)return ot.width=l(K),ot.height=l(dt),ot;if(rt=-parseFloat(B[1]),et=-parseFloat(B[2]),pt=parseFloat(B[3]),gt=parseFloat(B[4]),ot.minX=rt,ot.minY=et,ot.viewBoxWidth=pt,ot.viewBoxHeight=gt,kt?(ot.width=pt,ot.height=gt):(ot.width=l(K),ot.height=l(dt),H=ot.width/pt,Y=ot.height/gt),bt=a.util.parsePreserveAspectRatioAttribute(bt),bt.alignX!=="none"&&(bt.meetOrSlice==="meet"&&(Y=H=H>Y?Y:H),bt.meetOrSlice==="slice"&&(Y=H=H>Y?H:Y),Lt=ot.width-pt*H,wt=ot.height-gt*H,bt.alignX==="Mid"&&(Lt/=2),bt.alignY==="Mid"&&(wt/=2),bt.alignX==="Min"&&(Lt=0),bt.alignY==="Min"&&(wt=0)),H===1&&Y===1&&rt===0&&et===0&&mt===0&&ct===0)return ot;if((mt||ct)&&L.parentNode.nodeName!=="#document"&&(Rt=" translate("+l(mt)+" "+l(ct)+") "),vt=Rt+" matrix("+H+" 0 0 "+Y+" "+(rt*H+Lt)+" "+(et*Y+wt)+") ",L.nodeName==="svg"){for(it=L.ownerDocument.createElementNS(a.svgNS,"g");L.firstChild;)it.appendChild(L.firstChild);L.appendChild(it)}else it=L,it.removeAttribute("x"),it.removeAttribute("y"),vt=it.getAttribute("transform")+vt;return it.setAttribute("transform",vt),ot}function M(L,B){for(;L&&(L=L.parentNode);)if(L.nodeName&&B.test(L.nodeName.replace("svg:",""))&&!L.getAttribute("instantiated_by_use"))return!0;return!1}a.parseSVGDocument=function(L,B,H,Y){if(L){nt(L);var rt=a.Object.__uid++,et,pt,gt=P(L),vt=a.util.toArray(L.getElementsByTagName("*"));if(gt.crossOrigin=Y&&Y.crossOrigin,gt.svgUid=rt,vt.length===0&&a.isLikelyNode){vt=L.selectNodes('//*[name(.)!="svg"]');var it=[];for(et=0,pt=vt.length;et<pt;et++)it[et]=vt[et];vt=it}var K=vt.filter(function(mt){return P(mt),a.svgValidTagNamesRegEx.test(mt.nodeName.replace("svg:",""))&&!M(mt,a.svgInvalidAncestorsRegEx)});if(!K||K&&!K.length){B&&B([],{});return}var dt={};vt.filter(function(mt){return mt.nodeName.replace("svg:","")==="clipPath"}).forEach(function(mt){var ct=mt.getAttribute("id");dt[ct]=a.util.toArray(mt.getElementsByTagName("*")).filter(function(bt){return a.svgValidTagNamesRegEx.test(bt.nodeName.replace("svg:",""))})}),a.gradientDefs[rt]=a.getGradientDefs(L),a.cssRules[rt]=a.getCSSRules(L),a.clipPaths[rt]=dt,a.parseElements(K,function(mt,ct){B&&(B(mt,gt,ct,vt),delete a.gradientDefs[rt],delete a.cssRules[rt],delete a.clipPaths[rt])},g(gt),H,Y)}};function N(L,B){var H=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],Y="xlink:href",rt=B.getAttribute(Y).substr(1),et=tt(L,rt);if(et&&et.getAttribute(Y)&&N(L,et),H.forEach(function(gt){et&&!B.hasAttribute(gt)&&et.hasAttribute(gt)&&B.setAttribute(gt,et.getAttribute(gt))}),!B.children.length)for(var pt=et.cloneNode(!0);pt.firstChild;)B.appendChild(pt.firstChild);B.removeAttribute(Y)}var X=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+a.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+a.reNum+"))?\\s+(.*)");h(a,{parseFontDeclaration:function(L,B){var H=L.match(X);if(H){var Y=H[1],rt=H[3],et=H[4],pt=H[5],gt=H[6];Y&&(B.fontStyle=Y),rt&&(B.fontWeight=isNaN(parseFloat(rt))?rt:parseFloat(rt)),et&&(B.fontSize=l(et)),gt&&(B.fontFamily=gt),pt&&(B.lineHeight=pt==="normal"?1:pt)}},getGradientDefs:function(L){var B=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],H=D(L,B),Y,rt=0,et={};for(rt=H.length;rt--;)Y=H[rt],Y.getAttribute("xlink:href")&&N(L,Y),et[Y.getAttribute("id")]=Y;return et},parseAttributes:function(L,B,H){if(L){var Y,rt={},et,pt;typeof H>"u"&&(H=L.getAttribute("svgUid")),L.parentNode&&a.svgValidParentsRegEx.test(L.parentNode.nodeName)&&(rt=a.parseAttributes(L.parentNode,B,H));var gt=B.reduce(function(bt,_t){return Y=L.getAttribute(_t),Y&&(bt[_t]=Y),bt},{}),vt=h(Z(L,H),a.parseStyleAttribute(L));gt=h(gt,vt),vt[E]&&L.setAttribute(E,vt[E]),et=pt=rt.fontSize||a.Text.DEFAULT_SVG_FONT_SIZE,gt[T]&&(gt[T]=et=l(gt[T],pt));var it,K,dt={};for(var mt in gt)it=A(mt),K=k(it,gt[mt],rt,et),dt[it]=K;dt&&dt.font&&a.parseFontDeclaration(dt.font,dt);var ct=h(rt,dt);return a.svgValidParentsRegEx.test(L.nodeName)?ct:I(ct)}},parseElements:function(L,B,H,Y,rt){new a.ElementsParser(L,B,H,Y,rt).parse()},parseStyleAttribute:function(L){var B={},H=L.getAttribute("style");return H&&(typeof H=="string"?q(H,B):st(H,B)),B},parsePointsAttribute:function(L){if(!L)return null;L=L.replace(/,/g," ").trim(),L=L.split(/\s+/);var B=[],H,Y;for(H=0,Y=L.length;H<Y;H+=2)B.push({x:parseFloat(L[H]),y:parseFloat(L[H+1])});return B},getCSSRules:function(L){var B=L.getElementsByTagName("style"),H,Y,rt={},et;for(H=0,Y=B.length;H<Y;H++){var pt=B[H].textContent;pt=pt.replace(/\/\*[\s\S]*?\*\//g,""),pt.trim()!==""&&(et=pt.match(/[^{]*\{[\s\S]*?\}/g),et=et.map(function(gt){return gt.trim()}),et.forEach(function(gt){var vt=gt.match(/([\s\S]*?)\s*\{([^}]*)\}/),it={},K=vt[2].trim(),dt=K.replace(/;$/,"").split(/\s*;\s*/);for(H=0,Y=dt.length;H<Y;H++){var mt=dt[H].split(/\s*:\s*/),ct=mt[0],bt=mt[1];it[ct]=bt}gt=vt[1],gt.split(",").forEach(function(_t){_t=_t.replace(/^svg/i,"").trim(),_t!==""&&(rt[_t]?a.util.object.extend(rt[_t],it):rt[_t]=a.util.object.clone(it))})}))}return rt},loadSVGFromURL:function(L,B,H,Y){L=L.replace(/^\n\s*/,"").trim(),new a.util.request(L,{method:"get",onComplete:rt});function rt(et){var pt=et.responseXML;if(!pt||!pt.documentElement)return B&&B(null),!1;a.parseSVGDocument(pt.documentElement,function(gt,vt,it,K){B&&B(gt,vt,it,K)},H,Y)}},loadSVGFromString:function(L,B,H,Y){var rt=new a.window.DOMParser,et=rt.parseFromString(L.trim(),"text/xml");a.parseSVGDocument(et.documentElement,function(pt,gt,vt,it){B(pt,gt,vt,it)},H,Y)}})}(r),i.ElementsParser=function(d,a,h,g,s,l){this.elements=d,this.callback=a,this.options=h,this.reviver=g,this.svgUid=h&&h.svgUid||0,this.parsingOptions=s,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=l},function(d){d.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},d.createObjects=function(){var a=this;this.elements.forEach(function(h,g){h.setAttribute("svgUid",a.svgUid),a.createObject(h,g)})},d.findTag=function(a){return i[i.util.string.capitalize(a.tagName.replace("svg:",""))]},d.createObject=function(a,h){var g=this.findTag(a);if(g&&g.fromElement)try{g.fromElement(a,this.createCallback(h,a),this.options)}catch(s){i.log(s)}else this.checkIfDone()},d.createCallback=function(a,h){var g=this;return function(s){var l;g.resolveGradient(s,h,"fill"),g.resolveGradient(s,h,"stroke"),s instanceof i.Image&&s._originalElement&&(l=s.parsePreserveAspectRatioAttribute(h)),s._removeTransformMatrix(l),g.resolveClipPath(s,h),g.reviver&&g.reviver(h,s),g.instances[a]=s,g.checkIfDone()}},d.extractPropertyDefinition=function(a,h,g){var s=a[h],l=this.regexUrl;if(l.test(s)){l.lastIndex=0;var o=l.exec(s)[1];return l.lastIndex=0,i[g][this.svgUid][o]}},d.resolveGradient=function(a,h,g){var s=this.extractPropertyDefinition(a,g,"gradientDefs");if(s){var l=h.getAttribute(g+"-opacity"),o=i.Gradient.fromElement(s,a,l,this.options);a.set(g,o)}},d.createClipPathCallback=function(a,h){return function(g){g._removeTransformMatrix(),g.fillRule=g.clipRule,h.push(g)}},d.resolveClipPath=function(a,h){var g=this.extractPropertyDefinition(a,"clipPath","clipPaths"),s,l,o,c,v,f;if(g){c=[],o=i.util.invertTransform(a.calcTransformMatrix());for(var y=g[0].parentNode,x=h;x.parentNode&&x.getAttribute("clip-path")!==a.clipPath;)x=x.parentNode;x.parentNode.appendChild(y);for(var _=0;_<g.length;_++)s=g[_],l=this.findTag(s),l.fromElement(s,this.createClipPathCallback(a,c),this.options);c.length===1?g=c[0]:g=new i.Group(c),v=i.util.multiplyTransformMatrices(o,g.calcTransformMatrix()),g.clipPath&&this.resolveClipPath(g,x);var f=i.util.qrDecompose(v);g.flipX=!1,g.flipY=!1,g.set("scaleX",f.scaleX),g.set("scaleY",f.scaleY),g.angle=f.angle,g.skewX=f.skewX,g.skewY=0,g.setPositionByOrigin({x:f.translateX,y:f.translateY},"center","center"),a.clipPath=g}else delete a.clipPath},d.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(a){return a!=null}),this.callback(this.instances,this.elements))}}(i.ElementsParser.prototype),function(d){var a=d.fabric||(d.fabric={});if(a.Point){a.warn("fabric.Point is already defined");return}a.Point=h;function h(g,s){this.x=g,this.y=s}h.prototype={type:"point",constructor:h,add:function(g){return new h(this.x+g.x,this.y+g.y)},addEquals:function(g){return this.x+=g.x,this.y+=g.y,this},scalarAdd:function(g){return new h(this.x+g,this.y+g)},scalarAddEquals:function(g){return this.x+=g,this.y+=g,this},subtract:function(g){return new h(this.x-g.x,this.y-g.y)},subtractEquals:function(g){return this.x-=g.x,this.y-=g.y,this},scalarSubtract:function(g){return new h(this.x-g,this.y-g)},scalarSubtractEquals:function(g){return this.x-=g,this.y-=g,this},multiply:function(g){return new h(this.x*g,this.y*g)},multiplyEquals:function(g){return this.x*=g,this.y*=g,this},divide:function(g){return new h(this.x/g,this.y/g)},divideEquals:function(g){return this.x/=g,this.y/=g,this},eq:function(g){return this.x===g.x&&this.y===g.y},lt:function(g){return this.x<g.x&&this.y<g.y},lte:function(g){return this.x<=g.x&&this.y<=g.y},gt:function(g){return this.x>g.x&&this.y>g.y},gte:function(g){return this.x>=g.x&&this.y>=g.y},lerp:function(g,s){return typeof s>"u"&&(s=.5),s=Math.max(Math.min(1,s),0),new h(this.x+(g.x-this.x)*s,this.y+(g.y-this.y)*s)},distanceFrom:function(g){var s=this.x-g.x,l=this.y-g.y;return Math.sqrt(s*s+l*l)},midPointFrom:function(g){return this.lerp(g)},min:function(g){return new h(Math.min(this.x,g.x),Math.min(this.y,g.y))},max:function(g){return new h(Math.max(this.x,g.x),Math.max(this.y,g.y))},toString:function(){return this.x+","+this.y},setXY:function(g,s){return this.x=g,this.y=s,this},setX:function(g){return this.x=g,this},setY:function(g){return this.y=g,this},setFromPoint:function(g){return this.x=g.x,this.y=g.y,this},swap:function(g){var s=this.x,l=this.y;this.x=g.x,this.y=g.y,g.x=s,g.y=l},clone:function(){return new h(this.x,this.y)}}}(r),function(d){var a=d.fabric||(d.fabric={});if(a.Intersection){a.warn("fabric.Intersection is already defined");return}function h(g){this.status=g,this.points=[]}a.Intersection=h,a.Intersection.prototype={constructor:h,appendPoint:function(g){return this.points.push(g),this},appendPoints:function(g){return this.points=this.points.concat(g),this}},a.Intersection.intersectLineLine=function(g,s,l,o){var c,v=(o.x-l.x)*(g.y-l.y)-(o.y-l.y)*(g.x-l.x),f=(s.x-g.x)*(g.y-l.y)-(s.y-g.y)*(g.x-l.x),y=(o.y-l.y)*(s.x-g.x)-(o.x-l.x)*(s.y-g.y);if(y!==0){var x=v/y,_=f/y;0<=x&&x<=1&&0<=_&&_<=1?(c=new h("Intersection"),c.appendPoint(new a.Point(g.x+x*(s.x-g.x),g.y+x*(s.y-g.y)))):c=new h}else v===0||f===0?c=new h("Coincident"):c=new h("Parallel");return c},a.Intersection.intersectLinePolygon=function(g,s,l){var o=new h,c=l.length,v,f,y,x;for(x=0;x<c;x++)v=l[x],f=l[(x+1)%c],y=h.intersectLineLine(g,s,v,f),o.appendPoints(y.points);return o.points.length>0&&(o.status="Intersection"),o},a.Intersection.intersectPolygonPolygon=function(g,s){var l=new h,o=g.length,c;for(c=0;c<o;c++){var v=g[c],f=g[(c+1)%o],y=h.intersectLinePolygon(v,f,s);l.appendPoints(y.points)}return l.points.length>0&&(l.status="Intersection"),l},a.Intersection.intersectPolygonRectangle=function(g,s,l){var o=s.min(l),c=s.max(l),v=new a.Point(c.x,o.y),f=new a.Point(o.x,c.y),y=h.intersectLinePolygon(o,v,g),x=h.intersectLinePolygon(v,c,g),_=h.intersectLinePolygon(c,f,g),T=h.intersectLinePolygon(f,o,g),E=new h;return E.appendPoints(y.points),E.appendPoints(x.points),E.appendPoints(_.points),E.appendPoints(T.points),E.points.length>0&&(E.status="Intersection"),E}}(r),function(d){var a=d.fabric||(d.fabric={});if(a.Color){a.warn("fabric.Color is already defined.");return}function h(s){s?this._tryParsingColor(s):this.setSource([0,0,0,1])}a.Color=h,a.Color.prototype={_tryParsingColor:function(s){var l;s in h.colorNameMap&&(s=h.colorNameMap[s]),s==="transparent"&&(l=[255,255,255,0]),l||(l=h.sourceFromHex(s)),l||(l=h.sourceFromRgb(s)),l||(l=h.sourceFromHsl(s)),l||(l=[0,0,0,1]),l&&this.setSource(l)},_rgbToHsl:function(s,l,o){s/=255,l/=255,o/=255;var c,v,f,y=a.util.array.max([s,l,o]),x=a.util.array.min([s,l,o]);if(f=(y+x)/2,y===x)c=v=0;else{var _=y-x;switch(v=f>.5?_/(2-y-x):_/(y+x),y){case s:c=(l-o)/_+(l<o?6:0);break;case l:c=(o-s)/_+2;break;case o:c=(s-l)/_+4;break}c/=6}return[Math.round(c*360),Math.round(v*100),Math.round(f*100)]},getSource:function(){return this._source},setSource:function(s){this._source=s},toRgb:function(){var s=this.getSource();return"rgb("+s[0]+","+s[1]+","+s[2]+")"},toRgba:function(){var s=this.getSource();return"rgba("+s[0]+","+s[1]+","+s[2]+","+s[3]+")"},toHsl:function(){var s=this.getSource(),l=this._rgbToHsl(s[0],s[1],s[2]);return"hsl("+l[0]+","+l[1]+"%,"+l[2]+"%)"},toHsla:function(){var s=this.getSource(),l=this._rgbToHsl(s[0],s[1],s[2]);return"hsla("+l[0]+","+l[1]+"%,"+l[2]+"%,"+s[3]+")"},toHex:function(){var s=this.getSource(),l,o,c;return l=s[0].toString(16),l=l.length===1?"0"+l:l,o=s[1].toString(16),o=o.length===1?"0"+o:o,c=s[2].toString(16),c=c.length===1?"0"+c:c,l.toUpperCase()+o.toUpperCase()+c.toUpperCase()},toHexa:function(){var s=this.getSource(),l;return l=Math.round(s[3]*255),l=l.toString(16),l=l.length===1?"0"+l:l,this.toHex()+l.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(s){var l=this.getSource();return l[3]=s,this.setSource(l),this},toGrayscale:function(){var s=this.getSource(),l=parseInt((s[0]*.3+s[1]*.59+s[2]*.11).toFixed(0),10),o=s[3];return this.setSource([l,l,l,o]),this},toBlackWhite:function(s){var l=this.getSource(),o=(l[0]*.3+l[1]*.59+l[2]*.11).toFixed(0),c=l[3];return s=s||127,o=Number(o)<Number(s)?0:255,this.setSource([o,o,o,c]),this},overlayWith:function(s){s instanceof h||(s=new h(s));var l=[],o=this.getAlpha(),c=.5,v=this.getSource(),f=s.getSource(),y;for(y=0;y<3;y++)l.push(Math.round(v[y]*(1-c)+f[y]*c));return l[3]=o,this.setSource(l),this}},a.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,a.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,a.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,a.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function g(s,l,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?s+(l-s)*6*o:o<1/2?l:o<2/3?s+(l-s)*(2/3-o)*6:s}a.Color.fromRgb=function(s){return h.fromSource(h.sourceFromRgb(s))},a.Color.sourceFromRgb=function(s){var l=s.match(h.reRGBa);if(l){var o=parseInt(l[1],10)/(/%$/.test(l[1])?100:1)*(/%$/.test(l[1])?255:1),c=parseInt(l[2],10)/(/%$/.test(l[2])?100:1)*(/%$/.test(l[2])?255:1),v=parseInt(l[3],10)/(/%$/.test(l[3])?100:1)*(/%$/.test(l[3])?255:1);return[parseInt(o,10),parseInt(c,10),parseInt(v,10),l[4]?parseFloat(l[4]):1]}},a.Color.fromRgba=h.fromRgb,a.Color.fromHsl=function(s){return h.fromSource(h.sourceFromHsl(s))},a.Color.sourceFromHsl=function(s){var l=s.match(h.reHSLa);if(l){var o=(parseFloat(l[1])%360+360)%360/360,c=parseFloat(l[2])/(/%$/.test(l[2])?100:1),v=parseFloat(l[3])/(/%$/.test(l[3])?100:1),f,y,x;if(c===0)f=y=x=v;else{var _=v<=.5?v*(c+1):v+c-v*c,T=v*2-_;f=g(T,_,o+1/3),y=g(T,_,o),x=g(T,_,o-1/3)}return[Math.round(f*255),Math.round(y*255),Math.round(x*255),l[4]?parseFloat(l[4]):1]}},a.Color.fromHsla=h.fromHsl,a.Color.fromHex=function(s){return h.fromSource(h.sourceFromHex(s))},a.Color.sourceFromHex=function(s){if(s.match(h.reHex)){var l=s.slice(s.indexOf("#")+1),o=l.length===3||l.length===4,c=l.length===8||l.length===4,v=o?l.charAt(0)+l.charAt(0):l.substring(0,2),f=o?l.charAt(1)+l.charAt(1):l.substring(2,4),y=o?l.charAt(2)+l.charAt(2):l.substring(4,6),x=c?o?l.charAt(3)+l.charAt(3):l.substring(6,8):"FF";return[parseInt(v,16),parseInt(f,16),parseInt(y,16),parseFloat((parseInt(x,16)/255).toFixed(2))]}},a.Color.fromSource=function(s){var l=new h;return l.setSource(s),l}}(r),function(d){var a=d.fabric||(d.fabric={}),h=["e","se","s","sw","w","nw","n","ne","e"],g=["ns","nesw","ew","nwse"],s={},l="left",o="top",c="right",v="bottom",f="center",y={top:v,bottom:o,left:c,right:l,center:f},x=a.util.radiansToDegrees,_=Math.sign||function(it){return(it>0)-(it<0)||+it};function T(it,K){var dt=it.angle+x(Math.atan2(K.y,K.x))+360;return Math.round(dt%360/45)}function E(it,K){var dt=K.transform.target,mt=dt.canvas,ct=a.util.object.clone(K);ct.target=dt,mt&&mt.fire("object:"+it,ct),dt.fire(it,K)}function A(it,K){var dt=K.canvas,mt=dt.uniScaleKey,ct=it[mt];return dt.uniformScaling&&!ct||!dt.uniformScaling&&ct}function k(it){return it.originX===f&&it.originY===f}function z(it,K,dt){var mt=it.lockScalingX,ct=it.lockScalingY;return!!(mt&&ct||!K&&(mt||ct)&&dt||mt&&K==="x"||ct&&K==="y")}function I(it,K,dt){var mt="not-allowed",ct=A(it,dt),bt="";if(K.x!==0&&K.y===0?bt="x":K.x===0&&K.y!==0&&(bt="y"),z(dt,bt,ct))return mt;var _t=T(dt,K);return h[_t]+"-resize"}function D(it,K,dt){var mt="not-allowed";if(K.x!==0&&dt.lockSkewingY||K.y!==0&&dt.lockSkewingX)return mt;var ct=T(dt,K)%4;return g[ct]+"-resize"}function q(it,K,dt){return it[dt.canvas.altActionKey]?s.skewCursorStyleHandler(it,K,dt):s.scaleCursorStyleHandler(it,K,dt)}function st(it,K,dt){var mt=it[dt.canvas.altActionKey];if(K.x===0)return mt?"skewX":"scaleY";if(K.y===0)return mt?"skewY":"scaleX"}function Z(it,K,dt){return dt.lockRotation?"not-allowed":K.cursorStyle}function $(it,K,dt,mt){return{e:it,transform:K,pointer:{x:dt,y:mt}}}function ut(it){return function(K,dt,mt,ct){var bt=dt.target,_t=bt.getCenterPoint(),kt=bt.translateToOriginPoint(_t,dt.originX,dt.originY),At=it(K,dt,mt,ct);return bt.setPositionByOrigin(kt,dt.originX,dt.originY),At}}function U(it,K){return function(dt,mt,ct,bt){var _t=K(dt,mt,ct,bt);return _t&&E(it,$(dt,mt,ct,bt)),_t}}function tt(it,K,dt,mt,ct){var bt=it.target,_t=bt.controls[it.corner],kt=bt.canvas.getZoom(),At=bt.padding/kt,ot=bt.toLocalPoint(new a.Point(mt,ct),K,dt);return ot.x>=At&&(ot.x-=At),ot.x<=-At&&(ot.x+=At),ot.y>=At&&(ot.y-=At),ot.y<=At&&(ot.y+=At),ot.x-=_t.offsetX,ot.y-=_t.offsetY,ot}function nt(it){return it.flipX!==it.flipY}function F(it,K,dt,mt,ct){if(it[K]!==0){var bt=it._getTransformedDimensions()[mt],_t=ct/bt*it[dt];it.set(dt,_t)}}function P(it,K,dt,mt){var ct=K.target,bt=ct._getTransformedDimensions(0,ct.skewY),_t=tt(K,K.originX,K.originY,dt,mt),kt=Math.abs(_t.x*2)-bt.x,At=ct.skewX,ot;kt<2?ot=0:(ot=x(Math.atan2(kt/ct.scaleX,bt.y/ct.scaleY)),K.originX===l&&K.originY===v&&(ot=-ot),K.originX===c&&K.originY===o&&(ot=-ot),nt(ct)&&(ot=-ot));var Rt=At!==ot;if(Rt){var Lt=ct._getTransformedDimensions().y;ct.set("skewX",ot),F(ct,"skewY","scaleY","y",Lt)}return Rt}function M(it,K,dt,mt){var ct=K.target,bt=ct._getTransformedDimensions(ct.skewX,0),_t=tt(K,K.originX,K.originY,dt,mt),kt=Math.abs(_t.y*2)-bt.y,At=ct.skewY,ot;kt<2?ot=0:(ot=x(Math.atan2(kt/ct.scaleY,bt.x/ct.scaleX)),K.originX===l&&K.originY===v&&(ot=-ot),K.originX===c&&K.originY===o&&(ot=-ot),nt(ct)&&(ot=-ot));var Rt=At!==ot;if(Rt){var Lt=ct._getTransformedDimensions().x;ct.set("skewY",ot),F(ct,"skewX","scaleX","x",Lt)}return Rt}function N(it,K,dt,mt){var ct=K.target,bt=ct.skewX,_t,kt=K.originY;if(ct.lockSkewingX)return!1;if(bt===0){var At=tt(K,f,f,dt,mt);At.x>0?_t=l:_t=c}else bt>0&&(_t=kt===o?l:c),bt<0&&(_t=kt===o?c:l),nt(ct)&&(_t=_t===l?c:l);K.originX=_t;var ot=U("skewing",ut(P));return ot(it,K,dt,mt)}function X(it,K,dt,mt){var ct=K.target,bt=ct.skewY,_t,kt=K.originX;if(ct.lockSkewingY)return!1;if(bt===0){var At=tt(K,f,f,dt,mt);At.y>0?_t=o:_t=v}else bt>0&&(_t=kt===l?o:v),bt<0&&(_t=kt===l?v:o),nt(ct)&&(_t=_t===o?v:o);K.originY=_t;var ot=U("skewing",ut(M));return ot(it,K,dt,mt)}function L(it,K,dt,mt){var ct=K,bt=ct.target,_t=bt.translateToOriginPoint(bt.getCenterPoint(),ct.originX,ct.originY);if(bt.lockRotation)return!1;var kt=Math.atan2(ct.ey-_t.y,ct.ex-_t.x),At=Math.atan2(mt-_t.y,dt-_t.x),ot=x(At-kt+ct.theta),Rt=!0;if(bt.snapAngle>0){var Lt=bt.snapAngle,wt=bt.snapThreshold||Lt,Tt=Math.ceil(ot/Lt)*Lt,Et=Math.floor(ot/Lt)*Lt;Math.abs(ot-Et)<wt?ot=Et:Math.abs(ot-Tt)<wt&&(ot=Tt)}return ot<0&&(ot=360+ot),ot%=360,Rt=bt.angle!==ot,bt.angle=ot,Rt}function B(it,K,dt,mt,ct){ct=ct||{};var bt=K.target,_t=bt.lockScalingX,kt=bt.lockScalingY,At=ct.by,ot,Rt,Lt,wt,Tt=A(it,bt),Et=z(bt,At,Tt),Mt,Ot,Pt=K.gestureScale;if(Et)return!1;if(Pt)Rt=K.scaleX*Pt,Lt=K.scaleY*Pt;else{if(ot=tt(K,K.originX,K.originY,dt,mt),Mt=At!=="y"?_(ot.x):1,Ot=At!=="x"?_(ot.y):1,K.signX||(K.signX=Mt),K.signY||(K.signY=Ot),bt.lockScalingFlip&&(K.signX!==Mt||K.signY!==Ot))return!1;if(wt=bt._getTransformedDimensions(),Tt&&!At){var pe=Math.abs(ot.x)+Math.abs(ot.y),xe=K.original,Qt=Math.abs(wt.x*xe.scaleX/bt.scaleX)+Math.abs(wt.y*xe.scaleY/bt.scaleY),he=pe/Qt;Rt=xe.scaleX*he,Lt=xe.scaleY*he}else Rt=Math.abs(ot.x*bt.scaleX/wt.x),Lt=Math.abs(ot.y*bt.scaleY/wt.y);k(K)&&(Rt*=2,Lt*=2),K.signX!==Mt&&At!=="y"&&(K.originX=y[K.originX],Rt*=-1,K.signX=Mt),K.signY!==Ot&&At!=="x"&&(K.originY=y[K.originY],Lt*=-1,K.signY=Ot)}var Ve=bt.scaleX,pn=bt.scaleY;return At?(At==="x"&&bt.set("scaleX",Rt),At==="y"&&bt.set("scaleY",Lt)):(!_t&&bt.set("scaleX",Rt),!kt&&bt.set("scaleY",Lt)),Ve!==bt.scaleX||pn!==bt.scaleY}function H(it,K,dt,mt){return B(it,K,dt,mt)}function Y(it,K,dt,mt){return B(it,K,dt,mt,{by:"x"})}function rt(it,K,dt,mt){return B(it,K,dt,mt,{by:"y"})}function et(it,K,dt,mt){return it[K.target.canvas.altActionKey]?s.skewHandlerX(it,K,dt,mt):s.scalingY(it,K,dt,mt)}function pt(it,K,dt,mt){return it[K.target.canvas.altActionKey]?s.skewHandlerY(it,K,dt,mt):s.scalingX(it,K,dt,mt)}function gt(it,K,dt,mt){var ct=K.target,bt=tt(K,K.originX,K.originY,dt,mt),_t=ct.strokeWidth/(ct.strokeUniform?ct.scaleX:1),kt=k(K)?2:1,At=ct.width,ot=Math.abs(bt.x*kt/ct.scaleX)-_t;return ct.set("width",Math.max(ot,0)),At!==ot}function vt(it,K,dt,mt){var ct=K.target,bt=dt-K.offsetX,_t=mt-K.offsetY,kt=!ct.get("lockMovementX")&&ct.left!==bt,At=!ct.get("lockMovementY")&&ct.top!==_t;return kt&&ct.set("left",bt),At&&ct.set("top",_t),(kt||At)&&E("moving",$(it,K,dt,mt)),kt||At}s.scaleCursorStyleHandler=I,s.skewCursorStyleHandler=D,s.scaleSkewCursorStyleHandler=q,s.rotationWithSnapping=U("rotating",ut(L)),s.scalingEqually=U("scaling",ut(H)),s.scalingX=U("scaling",ut(Y)),s.scalingY=U("scaling",ut(rt)),s.scalingYOrSkewingX=et,s.scalingXOrSkewingY=pt,s.changeWidth=U("resizing",ut(gt)),s.skewHandlerX=N,s.skewHandlerY=X,s.dragHandler=vt,s.scaleOrSkewActionName=st,s.rotationStyleHandler=Z,s.fireEvent=E,s.wrapWithFixedAnchor=ut,s.wrapWithFireEvent=U,s.getLocalPoint=tt,a.controlsUtils=s}(r),function(d){var a=d.fabric||(d.fabric={}),h=a.util.degreesToRadians,g=a.controlsUtils;function s(o,c,v,f,y){f=f||{};var x=this.sizeX||f.cornerSize||y.cornerSize,_=this.sizeY||f.cornerSize||y.cornerSize,T=typeof f.transparentCorners<"u"?f.transparentCorners:y.transparentCorners,E=T?"stroke":"fill",A=!T&&(f.cornerStrokeColor||y.cornerStrokeColor),k=c,z=v,I;o.save(),o.fillStyle=f.cornerColor||y.cornerColor,o.strokeStyle=f.cornerStrokeColor||y.cornerStrokeColor,x>_?(I=x,o.scale(1,_/x),z=v*x/_):_>x?(I=_,o.scale(x/_,1),k=c*_/x):I=x,o.lineWidth=1,o.beginPath(),o.arc(k,z,I/2,0,2*Math.PI,!1),o[E](),A&&o.stroke(),o.restore()}function l(o,c,v,f,y){f=f||{};var x=this.sizeX||f.cornerSize||y.cornerSize,_=this.sizeY||f.cornerSize||y.cornerSize,T=typeof f.transparentCorners<"u"?f.transparentCorners:y.transparentCorners,E=T?"stroke":"fill",A=!T&&(f.cornerStrokeColor||y.cornerStrokeColor),k=x/2,z=_/2;o.save(),o.fillStyle=f.cornerColor||y.cornerColor,o.strokeStyle=f.cornerStrokeColor||y.cornerStrokeColor,o.lineWidth=1,o.translate(c,v),o.rotate(h(y.angle)),o[E+"Rect"](-k,-z,x,_),A&&o.strokeRect(-k,-z,x,_),o.restore()}g.renderCircleControl=s,g.renderSquareControl=l}(r),function(d){var a=d.fabric||(d.fabric={});function h(g){for(var s in g)this[s]=g[s]}a.Control=h,a.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(g,s){return s.cursorStyle},getActionName:function(g,s){return s.actionName},getVisibility:function(g,s){var l=g._controlsVisibility;return l&&typeof l[s]<"u"?l[s]:this.visible},setVisibility:function(g){this.visible=g},positionHandler:function(g,s){var l=a.util.transformPoint({x:this.x*g.x+this.offsetX,y:this.y*g.y+this.offsetY},s);return l},calcCornerCoords:function(g,s,l,o,c){var v,f,y,x,_=c?this.touchSizeX:this.sizeX,T=c?this.touchSizeY:this.sizeY;if(_&&T&&_!==T){var E=Math.atan2(T,_),A=Math.sqrt(_*_+T*T)/2,k=E-a.util.degreesToRadians(g),z=Math.PI/2-E-a.util.degreesToRadians(g);v=A*a.util.cos(k),f=A*a.util.sin(k),y=A*a.util.cos(z),x=A*a.util.sin(z)}else{var I=_&&T?_:s;A=I*.7071067812;var k=a.util.degreesToRadians(45-g);v=y=A*a.util.cos(k),f=x=A*a.util.sin(k)}return{tl:{x:l-x,y:o-y},tr:{x:l+v,y:o-f},bl:{x:l-v,y:o+f},br:{x:l+x,y:o+y}}},render:function(g,s,l,o,c){switch(o=o||{},o.cornerStyle||c.cornerStyle){case"circle":a.controlsUtils.renderCircleControl.call(this,g,s,l,o,c);break;default:a.controlsUtils.renderSquareControl.call(this,g,s,l,o,c)}}}}(r),function(){function d(l,o){var c=l.getAttribute("style"),v=l.getAttribute("offset")||0,f,y,x,_;if(v=parseFloat(v)/(/%$/.test(v)?100:1),v=v<0?0:v>1?1:v,c){var T=c.split(/\s*;\s*/);for(T[T.length-1]===""&&T.pop(),_=T.length;_--;){var E=T[_].split(/\s*:\s*/),A=E[0].trim(),k=E[1].trim();A==="stop-color"?f=k:A==="stop-opacity"&&(x=k)}}return f||(f=l.getAttribute("stop-color")||"rgb(0,0,0)"),x||(x=l.getAttribute("stop-opacity")),f=new i.Color(f),y=f.getAlpha(),x=isNaN(parseFloat(x))?1:parseFloat(x),x*=y*o,{offset:v,color:f.toRgb(),opacity:x}}function a(l){return{x1:l.getAttribute("x1")||0,y1:l.getAttribute("y1")||0,x2:l.getAttribute("x2")||"100%",y2:l.getAttribute("y2")||0}}function h(l){return{x1:l.getAttribute("fx")||l.getAttribute("cx")||"50%",y1:l.getAttribute("fy")||l.getAttribute("cy")||"50%",r1:0,x2:l.getAttribute("cx")||"50%",y2:l.getAttribute("cy")||"50%",r2:l.getAttribute("r")||"50%"}}var g=i.util.object.clone;i.Gradient=i.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(l){l||(l={}),l.coords||(l.coords={});var o,c=this;Object.keys(l).forEach(function(v){c[v]=l[v]}),this.id?this.id+="_"+i.Object.__uid++:this.id=i.Object.__uid++,o={x1:l.coords.x1||0,y1:l.coords.y1||0,x2:l.coords.x2||0,y2:l.coords.y2||0},this.type==="radial"&&(o.r1=l.coords.r1||0,o.r2=l.coords.r2||0),this.coords=o,this.colorStops=l.colorStops.slice()},addColorStop:function(l){for(var o in l){var c=new i.Color(l[o]);this.colorStops.push({offset:parseFloat(o),color:c.toRgb(),opacity:c.getAlpha()})}return this},toObject:function(l){var o={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return i.util.populateWithProperties(this,o,l),o},toSVG:function(l,y){var c=g(this.coords,!0),v,f,y=y||{},x,_,T=g(this.colorStops,!0),E=c.r1>c.r2,A=this.gradientTransform?this.gradientTransform.concat():i.iMatrix.concat(),k=-this.offsetX,z=-this.offsetY,I=!!y.additionalTransform,D=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(T.sort(function(ut,U){return ut.offset-U.offset}),D==="objectBoundingBox"?(k/=l.width,z/=l.height):(k+=l.width/2,z+=l.height/2),l.type==="path"&&this.gradientUnits!=="percentage"&&(k-=l.pathOffset.x,z-=l.pathOffset.y),A[4]-=k,A[5]-=z,_='id="SVGID_'+this.id+'" gradientUnits="'+D+'"',_+=' gradientTransform="'+(I?y.additionalTransform+" ":"")+i.util.matrixToSVG(A)+'" ',this.type==="linear"?x=["<linearGradient ",_,' x1="',c.x1,'" y1="',c.y1,'" x2="',c.x2,'" y2="',c.y2,`">
`]:this.type==="radial"&&(x=["<radialGradient ",_,' cx="',E?c.x1:c.x2,'" cy="',E?c.y1:c.y2,'" r="',E?c.r1:c.r2,'" fx="',E?c.x2:c.x1,'" fy="',E?c.y2:c.y1,`">
`]),this.type==="radial"){if(E)for(T=T.concat(),T.reverse(),v=0,f=T.length;v<f;v++)T[v].offset=1-T[v].offset;var q=Math.min(c.r1,c.r2);if(q>0){var st=Math.max(c.r1,c.r2),Z=q/st;for(v=0,f=T.length;v<f;v++)T[v].offset+=Z*(1-T[v].offset)}}for(v=0,f=T.length;v<f;v++){var $=T[v];x.push("<stop ",'offset="',$.offset*100+"%",'" style="stop-color:',$.color,typeof $.opacity<"u"?";stop-opacity: "+$.opacity:";",`"/>
`)}return x.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),x.join("")},toLive:function(l){var o,c=i.util.object.clone(this.coords),v,f;if(this.type){for(this.type==="linear"?o=l.createLinearGradient(c.x1,c.y1,c.x2,c.y2):this.type==="radial"&&(o=l.createRadialGradient(c.x1,c.y1,c.r1,c.x2,c.y2,c.r2)),v=0,f=this.colorStops.length;v<f;v++){var y=this.colorStops[v].color,x=this.colorStops[v].opacity,_=this.colorStops[v].offset;typeof x<"u"&&(y=new i.Color(y).setAlpha(x).toRgba()),o.addColorStop(_,y)}return o}}}),i.util.object.extend(i.Gradient,{fromElement:function(l,o,c,v){var f=parseFloat(c)/(/%$/.test(c)?100:1);f=f<0?0:f>1?1:f,isNaN(f)&&(f=1);var y=l.getElementsByTagName("stop"),x,_=l.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",T=l.getAttribute("gradientTransform")||"",E=[],A,k,z=0,I=0,D;for(l.nodeName==="linearGradient"||l.nodeName==="LINEARGRADIENT"?(x="linear",A=a(l)):(x="radial",A=h(l)),k=y.length;k--;)E.push(d(y[k],f));D=i.parseTransformAttribute(T),s(o,A,v,_),_==="pixels"&&(z=-o.left,I=-o.top);var q=new i.Gradient({id:l.getAttribute("id"),type:x,coords:A,colorStops:E,gradientUnits:_,gradientTransform:D,offsetX:z,offsetY:I});return q}});function s(l,o,c,v){var f,y;Object.keys(o).forEach(function(x){f=o[x],f==="Infinity"?y=1:f==="-Infinity"?y=0:(y=parseFloat(o[x],10),typeof f=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(f)&&(y*=.01,v==="pixels"&&((x==="x1"||x==="x2"||x==="r2")&&(y*=c.viewBoxWidth||c.width),(x==="y1"||x==="y2")&&(y*=c.viewBoxHeight||c.height)))),o[x]=y})}}(),function(){var d=i.util.toFixed;i.Pattern=i.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(a,h){if(a||(a={}),this.id=i.Object.__uid++,this.setOptions(a),!a.source||a.source&&typeof a.source!="string"){h&&h(this);return}else{var g=this;this.source=i.util.createImage(),i.util.loadImage(a.source,function(s,l){g.source=s,h&&h(g,l)},null,this.crossOrigin)}},toObject:function(a){var h=i.Object.NUM_FRACTION_DIGITS,g,s;return typeof this.source.src=="string"?g=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(g=this.source.toDataURL()),s={type:"pattern",source:g,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:d(this.offsetX,h),offsetY:d(this.offsetY,h),patternTransform:this.patternTransform?this.patternTransform.concat():null},i.util.populateWithProperties(this,s,a),s},toSVG:function(a){var h=typeof this.source=="function"?this.source():this.source,g=h.width/a.width,s=h.height/a.height,l=this.offsetX/a.width,o=this.offsetY/a.height,c="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(s=1,o&&(s+=Math.abs(o))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(g=1,l&&(g+=Math.abs(l))),h.src?c=h.src:h.toDataURL&&(c=h.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+l+'" y="'+o+'" width="'+g+'" height="'+s+`">
<image x="0" y="0" width="`+h.width+'" height="'+h.height+'" xlink:href="'+c+`"></image>
</pattern>
`},setOptions:function(a){for(var h in a)this[h]=a[h]},toLive:function(a){var h=this.source;return!h||typeof h.src<"u"&&(!h.complete||h.naturalWidth===0||h.naturalHeight===0)?"":a.createPattern(h,this.repeat)}})}(),function(d){var a=d.fabric||(d.fabric={}),h=a.util.toFixed;if(a.Shadow){a.warn("fabric.Shadow is already defined.");return}a.Shadow=a.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(g){typeof g=="string"&&(g=this._parseShadow(g));for(var s in g)this[s]=g[s];this.id=a.Object.__uid++},_parseShadow:function(g){var s=g.trim(),l=a.Shadow.reOffsetsAndBlur.exec(s)||[],o=s.replace(a.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:o.trim(),offsetX:parseFloat(l[1],10)||0,offsetY:parseFloat(l[2],10)||0,blur:parseFloat(l[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(g){var s=40,l=40,o=a.Object.NUM_FRACTION_DIGITS,c=a.util.rotateVector({x:this.offsetX,y:this.offsetY},a.util.degreesToRadians(-g.angle)),v=20,f=new a.Color(this.color);return g.width&&g.height&&(s=h((Math.abs(c.x)+this.blur)/g.width,o)*100+v,l=h((Math.abs(c.y)+this.blur)/g.height,o)*100+v),g.flipX&&(c.x*=-1),g.flipY&&(c.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+l+'%" height="'+(100+2*l)+'%" x="-'+s+'%" width="'+(100+2*s)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+h(this.blur?this.blur/2:0,o)+`"></feGaussianBlur>
	<feOffset dx="`+h(c.x,o)+'" dy="'+h(c.y,o)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+f.toRgb()+'" flood-opacity="'+f.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var g={},s=a.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(l){this[l]!==s[l]&&(g[l]=this[l])},this),g}}),a.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(r),function(){if(i.StaticCanvas){i.warn("fabric.StaticCanvas is already defined.");return}var d=i.util.object.extend,a=i.util.getElementOffset,h=i.util.removeFromArray,g=i.util.toFixed,s=i.util.transformPoint,l=i.util.invertTransform,o=i.util.getNodeCanvas,c=i.util.createCanvasElement,v=new Error("Could not initialize `canvas` element");i.StaticCanvas=i.util.createClass(i.CommonMethods,{initialize:function(f,y){y||(y={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(f,y)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:i.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(f,y){var x=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(f),this._initOptions(y),this.interactive||this._initRetinaScaling(),y.overlayImage&&this.setOverlayImage(y.overlayImage,x),y.backgroundImage&&this.setBackgroundImage(y.backgroundImage,x),y.backgroundColor&&this.setBackgroundColor(y.backgroundColor,x),y.overlayColor&&this.setOverlayColor(y.overlayColor,x),this.calcOffset()},_isRetinaScaling:function(){return i.devicePixelRatio!==1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?i.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var f=i.devicePixelRatio;this.__initRetinaScaling(f,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(f,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(f,y,x){y.setAttribute("width",this.width*f),y.setAttribute("height",this.height*f),x.scale(f,f)},calcOffset:function(){return this._offset=a(this.lowerCanvasEl),this},setOverlayImage:function(f,y,x){return this.__setBgOverlayImage("overlayImage",f,y,x)},setBackgroundImage:function(f,y,x){return this.__setBgOverlayImage("backgroundImage",f,y,x)},setOverlayColor:function(f,y){return this.__setBgOverlayColor("overlayColor",f,y)},setBackgroundColor:function(f,y){return this.__setBgOverlayColor("backgroundColor",f,y)},__setBgOverlayImage:function(f,y,x,_){return typeof y=="string"?i.util.loadImage(y,function(T,E){if(T){var A=new i.Image(T,_);this[f]=A,A.canvas=this}x&&x(T,E)},this,_&&_.crossOrigin):(_&&y.setOptions(_),this[f]=y,y&&(y.canvas=this),x&&x(y,!1)),this},__setBgOverlayColor:function(f,y,x){return this[f]=y,this._initGradient(y,f),this._initPattern(y,f,x),this},_createCanvasElement:function(){var f=c();if(!f||(f.style||(f.style={}),typeof f.getContext>"u"))throw v;return f},_initOptions:function(f){var y=this.lowerCanvasEl;this._setOptions(f),this.width=this.width||parseInt(y.width,10)||0,this.height=this.height||parseInt(y.height,10)||0,this.lowerCanvasEl.style&&(y.width=this.width,y.height=this.height,y.style.width=this.width+"px",y.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(f){f&&f.getContext?this.lowerCanvasEl=f:this.lowerCanvasEl=i.util.getById(f)||this._createCanvasElement(),i.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(f,y){return this.setDimensions({width:f},y)},setHeight:function(f,y){return this.setDimensions({height:f},y)},setDimensions:function(f,y){var x;y=y||{};for(var _ in f)x=f[_],y.cssOnly||(this._setBackstoreDimension(_,f[_]),x+="px",this.hasLostContext=!0),y.backstoreOnly||this._setCssDimension(_,x);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),y.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(f,y){return this.lowerCanvasEl[f]=y,this.upperCanvasEl&&(this.upperCanvasEl[f]=y),this.cacheCanvasEl&&(this.cacheCanvasEl[f]=y),this[f]=y,this},_setCssDimension:function(f,y){return this.lowerCanvasEl.style[f]=y,this.upperCanvasEl&&(this.upperCanvasEl.style[f]=y),this.wrapperEl&&(this.wrapperEl.style[f]=y),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(f){var y=this._activeObject,x=this.backgroundImage,_=this.overlayImage,T,E,A;for(this.viewportTransform=f,E=0,A=this._objects.length;E<A;E++)T=this._objects[E],T.group||T.setCoords(!0);return y&&y.setCoords(),x&&x.setCoords(!0),_&&_.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(f,y){var x=f,_=this.viewportTransform.slice(0);f=s(f,l(this.viewportTransform)),_[0]=y,_[3]=y;var T=s(f,_);return _[4]+=x.x-T.x,_[5]+=x.y-T.y,this.setViewportTransform(_)},setZoom:function(f){return this.zoomToPoint(new i.Point(0,0),f),this},absolutePan:function(f){var y=this.viewportTransform.slice(0);return y[4]=-f.x,y[5]=-f.y,this.setViewportTransform(y)},relativePan:function(f){return this.absolutePan(new i.Point(-f.x-this.viewportTransform[4],-f.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(f){this.stateful&&f.setupState(),f._set("canvas",this),f.setCoords(),this.fire("object:added",{target:f}),f.fire("added")},_onObjectRemoved:function(f){this.fire("object:removed",{target:f}),f.fire("removed"),delete f.canvas},clearContext:function(f){return f.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var f=this.contextContainer;return this.renderCanvas(f,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=i.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var f={},y=this.width,x=this.height,_=l(this.viewportTransform);return f.tl=s({x:0,y:0},_),f.br=s({x:y,y:x},_),f.tr=new i.Point(f.br.x,f.tl.y),f.bl=new i.Point(f.tl.x,f.br.y),this.vptCoords=f,f},cancelRequestedRender:function(){this.isRendering&&(i.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(f,y){var x=this.viewportTransform,_=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(f),i.util.setImageSmoothing(f,this.imageSmoothingEnabled),this.fire("before:render",{ctx:f}),this._renderBackground(f),f.save(),f.transform(x[0],x[1],x[2],x[3],x[4],x[5]),this._renderObjects(f,y),f.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(f),_&&(_.canvas=this,_.shouldCache(),_._transformDone=!0,_.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(f)),this._renderOverlay(f),this.controlsAboveOverlay&&this.interactive&&this.drawControls(f),this.fire("after:render",{ctx:f})},drawClipPathOnCanvas:function(f){var y=this.viewportTransform,x=this.clipPath;f.save(),f.transform(y[0],y[1],y[2],y[3],y[4],y[5]),f.globalCompositeOperation="destination-in",x.transform(f),f.scale(1/x.zoomX,1/x.zoomY),f.drawImage(x._cacheCanvas,-x.cacheTranslationX,-x.cacheTranslationY),f.restore()},_renderObjects:function(f,y){var x,_;for(x=0,_=y.length;x<_;++x)y[x]&&y[x].render(f)},_renderBackgroundOrOverlay:function(f,y){var x=this[y+"Color"],_=this[y+"Image"],T=this.viewportTransform,E=this[y+"Vpt"];if(!(!x&&!_)){if(x){f.save(),f.beginPath(),f.moveTo(0,0),f.lineTo(this.width,0),f.lineTo(this.width,this.height),f.lineTo(0,this.height),f.closePath(),f.fillStyle=x.toLive?x.toLive(f,this):x,E&&f.transform(T[0],T[1],T[2],T[3],T[4],T[5]),f.transform(1,0,0,1,x.offsetX||0,x.offsetY||0);var A=x.gradientTransform||x.patternTransform;A&&f.transform(A[0],A[1],A[2],A[3],A[4],A[5]),f.fill(),f.restore()}_&&(f.save(),E&&f.transform(T[0],T[1],T[2],T[3],T[4],T[5]),_.render(f),f.restore())}},_renderBackground:function(f){this._renderBackgroundOrOverlay(f,"background")},_renderOverlay:function(f){this._renderBackgroundOrOverlay(f,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(f){return this._centerObject(f,new i.Point(this.getCenter().left,f.getCenterPoint().y))},centerObjectV:function(f){return this._centerObject(f,new i.Point(f.getCenterPoint().x,this.getCenter().top))},centerObject:function(f){var y=this.getCenter();return this._centerObject(f,new i.Point(y.left,y.top))},viewportCenterObject:function(f){var y=this.getVpCenter();return this._centerObject(f,y)},viewportCenterObjectH:function(f){var y=this.getVpCenter();return this._centerObject(f,new i.Point(y.x,f.getCenterPoint().y)),this},viewportCenterObjectV:function(f){var y=this.getVpCenter();return this._centerObject(f,new i.Point(f.getCenterPoint().x,y.y))},getVpCenter:function(){var f=this.getCenter(),y=l(this.viewportTransform);return s({x:f.left,y:f.top},y)},_centerObject:function(f,y){return f.setPositionByOrigin(y,"center","center"),f.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(f){return this.toDatalessObject(f)},toObject:function(f){return this._toObjectMethod("toObject",f)},toDatalessObject:function(f){return this._toObjectMethod("toDatalessObject",f)},_toObjectMethod:function(f,y){var x=this.clipPath,_={version:i.version,objects:this._toObjects(f,y)};return x&&!x.excludeFromExport&&(_.clipPath=this._toObject(this.clipPath,f,y)),d(_,this.__serializeBgOverlay(f,y)),i.util.populateWithProperties(this,_,y),_},_toObjects:function(f,y){return this._objects.filter(function(x){return!x.excludeFromExport}).map(function(x){return this._toObject(x,f,y)},this)},_toObject:function(f,y,x){var _;this.includeDefaultValues||(_=f.includeDefaultValues,f.includeDefaultValues=!1);var T=f[y](x);return this.includeDefaultValues||(f.includeDefaultValues=_),T},__serializeBgOverlay:function(f,y){var x={},_=this.backgroundImage,T=this.overlayImage,E=this.backgroundColor,A=this.overlayColor;return E&&E.toObject?E.excludeFromExport||(x.background=E.toObject(y)):E&&(x.background=E),A&&A.toObject?A.excludeFromExport||(x.overlay=A.toObject(y)):A&&(x.overlay=A),_&&!_.excludeFromExport&&(x.backgroundImage=this._toObject(_,f,y)),T&&!T.excludeFromExport&&(x.overlayImage=this._toObject(T,f,y)),x},svgViewportTransformation:!0,toSVG:function(f,y){f||(f={}),f.reviver=y;var x=[];return this._setSVGPreamble(x,f),this._setSVGHeader(x,f),this.clipPath&&x.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(x,"background"),this._setSVGBgOverlayImage(x,"backgroundImage",y),this._setSVGObjects(x,y),this.clipPath&&x.push(`</g>
`),this._setSVGBgOverlayColor(x,"overlay"),this._setSVGBgOverlayImage(x,"overlayImage",y),x.push("</svg>"),x.join("")},_setSVGPreamble:function(f,y){y.suppressPreamble||f.push('<?xml version="1.0" encoding="',y.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(f,y){var x=y.width||this.width,_=y.height||this.height,T,E='viewBox="0 0 '+this.width+" "+this.height+'" ',A=i.Object.NUM_FRACTION_DIGITS;y.viewBox?E='viewBox="'+y.viewBox.x+" "+y.viewBox.y+" "+y.viewBox.width+" "+y.viewBox.height+'" ':this.svgViewportTransformation&&(T=this.viewportTransform,E='viewBox="'+g(-T[4]/T[0],A)+" "+g(-T[5]/T[3],A)+" "+g(this.width/T[0],A)+" "+g(this.height/T[3],A)+'" '),f.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',x,'" ','height="',_,'" ',E,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",i.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(y),`</defs>
`)},createSVGClipPathMarkup:function(f){var y=this.clipPath;return y?(y.clipPathId="CLIPPATH_"+i.Object.__uid++,'<clipPath id="'+y.clipPathId+`" >
`+this.clipPath.toClipPathSVG(f.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var f=this,y=["background","overlay"].map(function(x){var _=f[x+"Color"];if(_&&_.toLive){var T=f[x+"Vpt"],E=f.viewportTransform,A={width:f.width/(T?E[0]:1),height:f.height/(T?E[3]:1)};return _.toSVG(A,{additionalTransform:T?i.util.matrixToSVG(E):""})}});return y.join("")},createSVGFontFacesMarkup:function(){var f="",y={},x,_,T,E,A,k,z,I,D,q=i.fontPaths,st=[];for(this._objects.forEach(function $(ut){st.push(ut),ut._objects&&ut._objects.forEach($)}),I=0,D=st.length;I<D;I++)if(x=st[I],_=x.fontFamily,!(x.type.indexOf("text")===-1||y[_]||!q[_])&&(y[_]=!0,!!x.styles)){T=x.styles;for(A in T){E=T[A];for(z in E)k=E[z],_=k.fontFamily,!y[_]&&q[_]&&(y[_]=!0)}}for(var Z in y)f+=[`		@font-face {
`,"			font-family: '",Z,`';
`,"			src: url('",q[Z],`');
`,`		}
`].join("");return f&&(f=['	<style type="text/css">',`<![CDATA[
`,f,"]]>",`</style>
`].join("")),f},_setSVGObjects:function(f,y){var x,_,T,E=this._objects;for(_=0,T=E.length;_<T;_++)x=E[_],!x.excludeFromExport&&this._setSVGObject(f,x,y)},_setSVGObject:function(f,y,x){f.push(y.toSVG(x))},_setSVGBgOverlayImage:function(f,y,x){this[y]&&!this[y].excludeFromExport&&this[y].toSVG&&f.push(this[y].toSVG(x))},_setSVGBgOverlayColor:function(f,y){var x=this[y+"Color"],_=this.viewportTransform,T=this.width,E=this.height;if(x)if(x.toLive){var A=x.repeat,k=i.util.invertTransform(_),z=this[y+"Vpt"],I=z?i.util.matrixToSVG(k):"";f.push('<rect transform="'+I+" translate(",T/2,",",E/2,')"',' x="',x.offsetX-T/2,'" y="',x.offsetY-E/2,'" ','width="',A==="repeat-y"||A==="no-repeat"?x.source.width:T,'" height="',A==="repeat-x"||A==="no-repeat"?x.source.height:E,'" fill="url(#SVGID_'+x.id+')"',`></rect>
`)}else f.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',x,'"',`></rect>
`)},sendToBack:function(f){if(!f)return this;var y=this._activeObject,x,_,T;if(f===y&&f.type==="activeSelection")for(T=y._objects,x=T.length;x--;)_=T[x],h(this._objects,_),this._objects.unshift(_);else h(this._objects,f),this._objects.unshift(f);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(f){if(!f)return this;var y=this._activeObject,x,_,T;if(f===y&&f.type==="activeSelection")for(T=y._objects,x=0;x<T.length;x++)_=T[x],h(this._objects,_),this._objects.push(_);else h(this._objects,f),this._objects.push(f);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(f,y){if(!f)return this;var x=this._activeObject,_,T,E,A,k,z=0;if(f===x&&f.type==="activeSelection")for(k=x._objects,_=0;_<k.length;_++)T=k[_],E=this._objects.indexOf(T),E>0+z&&(A=E-1,h(this._objects,T),this._objects.splice(A,0,T)),z++;else E=this._objects.indexOf(f),E!==0&&(A=this._findNewLowerIndex(f,E,y),h(this._objects,f),this._objects.splice(A,0,f));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(f,y,x){var _,T;if(x)for(_=y,T=y-1;T>=0;--T){var E=f.intersectsWithObject(this._objects[T])||f.isContainedWithinObject(this._objects[T])||this._objects[T].isContainedWithinObject(f);if(E){_=T;break}}else _=y-1;return _},bringForward:function(f,y){if(!f)return this;var x=this._activeObject,_,T,E,A,k,z=0;if(f===x&&f.type==="activeSelection")for(k=x._objects,_=k.length;_--;)T=k[_],E=this._objects.indexOf(T),E<this._objects.length-1-z&&(A=E+1,h(this._objects,T),this._objects.splice(A,0,T)),z++;else E=this._objects.indexOf(f),E!==this._objects.length-1&&(A=this._findNewUpperIndex(f,E,y),h(this._objects,f),this._objects.splice(A,0,f));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(f,y,x){var _,T,E;if(x)for(_=y,T=y+1,E=this._objects.length;T<E;++T){var A=f.intersectsWithObject(this._objects[T])||f.isContainedWithinObject(this._objects[T])||this._objects[T].isContainedWithinObject(f);if(A){_=T;break}}else _=y+1;return _},moveTo:function(f,y){return h(this._objects,f),this._objects.splice(y,0,f),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(i.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(f){f.dispose&&f.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),this.lowerCanvasEl.style=this._originalCanvasStyle,delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),i.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),d(i.StaticCanvas.prototype,i.Observable),d(i.StaticCanvas.prototype,i.Collection),d(i.StaticCanvas.prototype,i.DataURLExporter),d(i.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(f){var y=c();if(!y||!y.getContext)return null;var x=y.getContext("2d");if(!x)return null;switch(f){case"setLineDash":return typeof x.setLineDash<"u";default:return null}}}),i.StaticCanvas.prototype.toJSON=i.StaticCanvas.prototype.toObject,i.isLikelyNode&&(i.StaticCanvas.prototype.createPNGStream=function(){var f=o(this.lowerCanvasEl);return f&&f.createPNGStream()},i.StaticCanvas.prototype.createJPEGStream=function(f){var y=o(this.lowerCanvasEl);return y&&y.createJPEGStream(f)})}(),i.BaseBrush=i.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var d=this.canvas.contextTop;d.strokeStyle=this.color,d.lineWidth=this.width,d.lineCap=this.strokeLineCap,d.miterLimit=this.strokeMiterLimit,d.lineJoin=this.strokeLineJoin,d.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(d){var a=this.canvas.viewportTransform;d.save(),d.transform(a[0],a[1],a[2],a[3],a[4],a[5])},_setShadow:function(){if(this.shadow){var d=this.canvas,a=this.shadow,h=d.contextTop,g=d.getZoom();d&&d._isRetinaScaling()&&(g*=i.devicePixelRatio),h.shadowColor=a.color,h.shadowBlur=a.blur*g,h.shadowOffsetX=a.offsetX*g,h.shadowOffsetY=a.offsetY*g}},needsFullRender:function(){var d=new i.Color(this.color);return d.getAlpha()<1||!!this.shadow},_resetShadow:function(){var d=this.canvas.contextTop;d.shadowColor="",d.shadowBlur=d.shadowOffsetX=d.shadowOffsetY=0},_isOutSideCanvas:function(d){return d.x<0||d.x>this.canvas.getWidth()||d.y<0||d.y>this.canvas.getHeight()}}),function(){i.PencilBrush=i.util.createClass(i.BaseBrush,{decimate:.4,initialize:function(d){this.canvas=d,this._points=[]},_drawSegment:function(d,a,h){var g=a.midPointFrom(h);return d.quadraticCurveTo(a.x,a.y,g.x,g.y),g},onMouseDown:function(d,a){this.canvas._isMainEvent(a.e)&&(this._prepareForDrawing(d),this._captureDrawingPath(d),this._render())},onMouseMove:function(d,a){if(this.canvas._isMainEvent(a.e)&&!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(d))&&this._captureDrawingPath(d)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var h=this._points,g=h.length,s=this.canvas.contextTop;this._saveAndTransform(s),this.oldEnd&&(s.beginPath(),s.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(s,h[g-2],h[g-1],!0),s.stroke(),s.restore()}},onMouseUp:function(d){return this.canvas._isMainEvent(d.e)?(this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(d){var a=new i.Point(d.x,d.y);this._reset(),this._addPoint(a),this.canvas.contextTop.moveTo(a.x,a.y)},_addPoint:function(d){return this._points.length>1&&d.eq(this._points[this._points.length-1])?!1:(this._points.push(d),!0)},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(d){var a=new i.Point(d.x,d.y);return this._addPoint(a)},_render:function(){var d=this.canvas.contextTop,a,h,g=this._points[0],s=this._points[1];if(this._saveAndTransform(d),d.beginPath(),this._points.length===2&&g.x===s.x&&g.y===s.y){var l=this.width/1e3;g=new i.Point(g.x,g.y),s=new i.Point(s.x,s.y),g.x-=l,s.x+=l}for(d.moveTo(g.x,g.y),a=1,h=this._points.length;a<h;a++)this._drawSegment(d,g,s),g=this._points[a],s=this._points[a+1];d.lineTo(g.x,g.y),d.stroke(),d.restore()},convertPointsToSVGPath:function(d){var a=this.width/1e3;return i.util.getSmoothPathFromPoints(d,a)},_isEmptySVGPath:function(d){var a=i.util.joinPath(d);return a==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(d){var a=new i.Path(d,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,a.shadow=new i.Shadow(this.shadow)),a},decimatePoints:function(d,a){if(d.length<=2)return d;var h=this.canvas.getZoom(),g=Math.pow(a/h,2),s,l=d.length-1,o=d[0],c=[o],v;for(s=1;s<l-1;s++)v=Math.pow(o.x-d[s].x,2)+Math.pow(o.y-d[s].y,2),v>=g&&(o=d[s],c.push(o));return c.push(d[l]),c},_finalizeAndAddPath:function(){var d=this.canvas.contextTop;d.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var a=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(a)){this.canvas.requestRenderAll();return}var h=this.createPath(a);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.requestRenderAll(),h.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:h})}})}(),i.CircleBrush=i.util.createClass(i.BaseBrush,{width:10,initialize:function(d){this.canvas=d,this.points=[]},drawDot:function(d){var a=this.addPoint(d),h=this.canvas.contextTop;this._saveAndTransform(h),this.dot(h,a),h.restore()},dot:function(d,a){d.fillStyle=a.fill,d.beginPath(),d.arc(a.x,a.y,a.radius,0,Math.PI*2,!1),d.closePath(),d.fill()},onMouseDown:function(d){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(d)},_render:function(){var d=this.canvas.contextTop,a,h,g=this.points;for(this._saveAndTransform(d),a=0,h=g.length;a<h;a++)this.dot(d,g[a]);d.restore()},onMouseMove:function(d){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(d)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(d),this._render()):this.drawDot(d))},onMouseUp:function(){var d=this.canvas.renderOnAddRemove,a,h;this.canvas.renderOnAddRemove=!1;var g=[];for(a=0,h=this.points.length;a<h;a++){var s=this.points[a],l=new i.Circle({radius:s.radius,left:s.x,top:s.y,originX:"center",originY:"center",fill:s.fill});this.shadow&&(l.shadow=new i.Shadow(this.shadow)),g.push(l)}var o=new i.Group(g);o.canvas=this.canvas,this.canvas.fire("before:path:created",{path:o}),this.canvas.add(o),this.canvas.fire("path:created",{path:o}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=d,this.canvas.requestRenderAll()},addPoint:function(d){var a=new i.Point(d.x,d.y),h=i.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,g=new i.Color(this.color).setAlpha(i.util.getRandomInt(0,100)/100).toRgba();return a.radius=h,a.fill=g,this.points.push(a),a}}),i.SprayBrush=i.util.createClass(i.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(d){this.canvas=d,this.sprayChunks=[]},onMouseDown:function(d){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(d),this.render(this.sprayChunkPoints)},onMouseMove:function(d){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(d)||(this.addSprayChunk(d),this.render(this.sprayChunkPoints))},onMouseUp:function(){var d=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var a=[],h=0,g=this.sprayChunks.length;h<g;h++)for(var s=this.sprayChunks[h],l=0,o=s.length;l<o;l++){var c=new i.Rect({width:s[l].width,height:s[l].width,left:s[l].x+1,top:s[l].y+1,originX:"center",originY:"center",fill:this.color});a.push(c)}this.optimizeOverlapping&&(a=this._getOptimizedRects(a));var v=new i.Group(a);this.shadow&&v.set("shadow",new i.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:v}),this.canvas.add(v),this.canvas.fire("path:created",{path:v}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=d,this.canvas.requestRenderAll()},_getOptimizedRects:function(d){var a={},h,g,s;for(g=0,s=d.length;g<s;g++)h=d[g].left+""+d[g].top,a[h]||(a[h]=d[g]);var l=[];for(h in a)l.push(a[h]);return l},render:function(d){var a=this.canvas.contextTop,h,g;for(a.fillStyle=this.color,this._saveAndTransform(a),h=0,g=d.length;h<g;h++){var s=d[h];typeof s.opacity<"u"&&(a.globalAlpha=s.opacity),a.fillRect(s.x,s.y,s.width,s.width)}a.restore()},_render:function(){var d=this.canvas.contextTop,a,h;for(d.fillStyle=this.color,this._saveAndTransform(d),a=0,h=this.sprayChunks.length;a<h;a++)this.render(this.sprayChunks[a]);d.restore()},addSprayChunk:function(d){this.sprayChunkPoints=[];var a,h,g,s=this.width/2,l;for(l=0;l<this.density;l++){a=i.util.getRandomInt(d.x-s,d.x+s),h=i.util.getRandomInt(d.y-s,d.y+s),this.dotWidthVariance?g=i.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):g=this.dotWidth;var o=new i.Point(a,h);o.width=g,this.randomOpacity&&(o.opacity=i.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(o)}this.sprayChunks.push(this.sprayChunkPoints)}}),i.PatternBrush=i.util.createClass(i.PencilBrush,{getPatternSrc:function(){var d=20,a=5,h=i.util.createCanvasElement(),g=h.getContext("2d");return h.width=h.height=d+a,g.fillStyle=this.color,g.beginPath(),g.arc(d/2,d/2,d/2,0,Math.PI*2,!1),g.closePath(),g.fill(),h},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(d){var a=this.callSuper("createPath",d),h=a._getLeftTopCoords().scalarAdd(a.strokeWidth/2);return a.stroke=new i.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-h.x,offsetY:-h.y}),a}}),function(){var d=i.util.getPointer,a=i.util.degreesToRadians,h=i.util.isTouchEvent;i.Canvas=i.util.createClass(i.StaticCanvas,{initialize:function(s,l){l||(l={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(s,l),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=i.PencilBrush&&new i.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var s=this.getActiveObjects(),l,o,c;if(s.length>0&&!this.preserveObjectStacking){o=[],c=[];for(var v=0,f=this._objects.length;v<f;v++)l=this._objects[v],s.indexOf(l)===-1?o.push(l):c.push(l);s.length>1&&(this._activeObject._objects=c),o.push.apply(o,c)}else o=this._objects;return o},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var s=this.contextContainer;return this.renderCanvas(s,this._chooseObjectsToRender()),this},renderTopLayer:function(s){s.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(s),this.contextTopDirty=!0),s.restore()},renderTop:function(){var s=this.contextTop;return this.clearContext(s),this.renderTopLayer(s),this.fire("after:render"),this},_normalizePointer:function(s,l){var o=s.calcTransformMatrix(),c=i.util.invertTransform(o),v=this.restorePointerVpt(l);return i.util.transformPoint(v,c)},isTargetTransparent:function(s,l,o){if(s.shouldCache()&&s._cacheCanvas&&s!==this._activeObject){var c=this._normalizePointer(s,{x:l,y:o}),v=Math.max(s.cacheTranslationX+c.x*s.zoomX,0),f=Math.max(s.cacheTranslationY+c.y*s.zoomY,0),T=i.util.isTransparent(s._cacheContext,Math.round(v),Math.round(f),this.targetFindTolerance);return T}var y=this.contextCache,x=s.selectionBackgroundColor,_=this.viewportTransform;s.selectionBackgroundColor="",this.clearContext(y),y.save(),y.transform(_[0],_[1],_[2],_[3],_[4],_[5]),s.render(y),y.restore(),s.selectionBackgroundColor=x;var T=i.util.isTransparent(y,l,o,this.targetFindTolerance);return T},_isSelectionKeyPressed:function(s){var l=!1;return Object.prototype.toString.call(this.selectionKey)==="[object Array]"?l=!!this.selectionKey.find(function(o){return s[o]===!0}):l=s[this.selectionKey],l},_shouldClearSelection:function(s,l){var o=this.getActiveObjects(),c=this._activeObject;return!l||l&&c&&o.length>1&&o.indexOf(l)===-1&&c!==l&&!this._isSelectionKeyPressed(s)||l&&!l.evented||l&&!l.selectable&&c&&c!==l},_shouldCenterTransform:function(s,l,o){if(s){var c;return l==="scale"||l==="scaleX"||l==="scaleY"||l==="resizing"?c=this.centeredScaling||s.centeredScaling:l==="rotate"&&(c=this.centeredRotation||s.centeredRotation),c?!o:o}},_getOriginFromCorner:function(s,l){var o={x:s.originX,y:s.originY};return l==="ml"||l==="tl"||l==="bl"?o.x="right":(l==="mr"||l==="tr"||l==="br")&&(o.x="left"),l==="tl"||l==="mt"||l==="tr"?o.y="bottom":(l==="bl"||l==="mb"||l==="br")&&(o.y="top"),o},_getActionFromCorner:function(s,l,o,c){if(!l||!s)return"drag";var v=c.controls[l];return v.getActionName(o,v,c)},_setupCurrentTransform:function(s,l,o){if(l){var c=this.getPointer(s),v=l.__corner,f=l.controls[v],y=o&&v?f.getActionHandler(s,l,f):i.controlsUtils.dragHandler,x=this._getActionFromCorner(o,v,s,l),_=this._getOriginFromCorner(l,v),T=s[this.centeredKey],E={target:l,action:x,actionHandler:y,corner:v,scaleX:l.scaleX,scaleY:l.scaleY,skewX:l.skewX,skewY:l.skewY,offsetX:c.x-l.left,offsetY:c.y-l.top,originX:_.x,originY:_.y,ex:c.x,ey:c.y,lastX:c.x,lastY:c.y,theta:a(l.angle),width:l.width*l.scaleX,shiftKey:s.shiftKey,altKey:T,original:i.util.saveObjectTransform(l)};this._shouldCenterTransform(l,x,T)&&(E.originX="center",E.originY="center"),E.original.originX=_.x,E.original.originY=_.y,this._currentTransform=E,this._beforeTransform(s)}},setCursor:function(s){this.upperCanvasEl.style.cursor=s},_drawSelection:function(s){var l=this._groupSelector,o=new i.Point(l.ex,l.ey),c=i.util.transformPoint(o,this.viewportTransform),v=new i.Point(l.ex+l.left,l.ey+l.top),f=i.util.transformPoint(v,this.viewportTransform),y=Math.min(c.x,f.x),x=Math.min(c.y,f.y),_=Math.max(c.x,f.x),T=Math.max(c.y,f.y),E=this.selectionLineWidth/2;this.selectionColor&&(s.fillStyle=this.selectionColor,s.fillRect(y,x,_-y,T-x)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(s.lineWidth=this.selectionLineWidth,s.strokeStyle=this.selectionBorderColor,y+=E,x+=E,_-=E,T-=E,i.Object.prototype._setLineDash.call(this,s,this.selectionDashArray),s.strokeRect(y,x,_-y,T-x))},findTarget:function(s,l){if(!this.skipTargetFind){var o=!0,c=this.getPointer(s,o),v=this._activeObject,f=this.getActiveObjects(),y,x,_=h(s),T=f.length>1&&!l||f.length===1;if(this.targets=[],T&&v._findTargetCorner(c,_)||f.length>1&&!l&&v===this._searchPossibleTargets([v],c))return v;if(f.length===1&&v===this._searchPossibleTargets([v],c))if(this.preserveObjectStacking)y=v,x=this.targets,this.targets=[];else return v;var E=this._searchPossibleTargets(this._objects,c);return s[this.altSelectionKey]&&E&&y&&E!==y&&(E=y,this.targets=x),E}},_checkTarget:function(s,l,o){if(l&&l.visible&&l.evented&&l.containsPoint(s))if((this.perPixelTargetFind||l.perPixelTargetFind)&&!l.isEditing){var c=this.isTargetTransparent(l,o.x,o.y);if(!c)return!0}else return!0},_searchPossibleTargets:function(s,l){for(var o,c=s.length,v;c--;){var f=s[c],y=f.group?this._normalizePointer(f.group,l):l;if(this._checkTarget(y,f,l)){o=s[c],o.subTargetCheck&&o instanceof i.Group&&(v=this._searchPossibleTargets(o._objects,l),v&&this.targets.push(v));break}}return o},restorePointerVpt:function(s){return i.util.transformPoint(s,i.util.invertTransform(this.viewportTransform))},getPointer:function(s,l){if(this._absolutePointer&&!l)return this._absolutePointer;if(this._pointer&&l)return this._pointer;var o=d(s),c=this.upperCanvasEl,v=c.getBoundingClientRect(),f=v.width||0,y=v.height||0,x;(!f||!y)&&("top"in v&&"bottom"in v&&(y=Math.abs(v.top-v.bottom)),"right"in v&&"left"in v&&(f=Math.abs(v.right-v.left))),this.calcOffset(),o.x=o.x-this._offset.left,o.y=o.y-this._offset.top,l||(o=this.restorePointerVpt(o));var _=this.getRetinaScaling();return _!==1&&(o.x/=_,o.y/=_),f===0||y===0?x={width:1,height:1}:x={width:c.width/f,height:c.height/y},{x:o.x*x.width,y:o.y*x.height}},_createUpperCanvas:function(){var s=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),l=this.lowerCanvasEl,o=this.upperCanvasEl;o?o.className="":(o=this._createCanvasElement(),this.upperCanvasEl=o),i.util.addClass(o,"upper-canvas "+s),this.wrapperEl.appendChild(o),this._copyCanvasStyle(l,o),this._applyCanvasStyle(o),this.contextTop=o.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=i.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),i.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),i.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(s){var l=this.width||s.width,o=this.height||s.height;i.util.setStyle(s,{position:"absolute",width:l+"px",height:o+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),s.width=l,s.height=o,i.util.makeElementUnselectable(s)},_copyCanvasStyle:function(s,l){l.style.cssText=s.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var s=this._activeObject;return s?s.type==="activeSelection"&&s._objects?s._objects.slice(0):[s]:[]},_onObjectRemoved:function(s){s===this._activeObject&&(this.fire("before:selection:cleared",{target:s}),this._discardActiveObject(),this.fire("selection:cleared",{target:s}),s.fire("deselected")),s===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",s)},_fireSelectionEvents:function(s,l){var o=!1,c=this.getActiveObjects(),v=[],f=[];s.forEach(function(y){c.indexOf(y)===-1&&(o=!0,y.fire("deselected",{e:l,target:y}),f.push(y))}),c.forEach(function(y){s.indexOf(y)===-1&&(o=!0,y.fire("selected",{e:l,target:y}),v.push(y))}),s.length>0&&c.length>0?o&&this.fire("selection:updated",{e:l,selected:v,deselected:f,updated:v[0]||f[0],target:this._activeObject}):c.length>0?this.fire("selection:created",{e:l,selected:v,target:this._activeObject}):s.length>0&&this.fire("selection:cleared",{e:l,deselected:f})},setActiveObject:function(s,l){var o=this.getActiveObjects();return this._setActiveObject(s,l),this._fireSelectionEvents(o,l),this},_setActiveObject:function(s,l){return this._activeObject===s||!this._discardActiveObject(l,s)||s.onSelect({e:l})?!1:(this._activeObject=s,!0)},_discardActiveObject:function(s,l){var o=this._activeObject;if(o){if(o.onDeselect({e:s,object:l}))return!1;this._activeObject=null}return!0},discardActiveObject:function(s){var l=this.getActiveObjects(),o=this.getActiveObject();return l.length&&this.fire("before:selection:cleared",{target:o,e:s}),this._discardActiveObject(s),this._fireSelectionEvents(l,s),this},dispose:function(){var s=this.wrapperEl;return this.removeListeners(),s.removeChild(this.upperCanvasEl),s.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(l){i.util.cleanUpJsdomNode(this[l]),this[l]=void 0}).bind(this)),s.parentNode&&s.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,i.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(s){var l=this._activeObject;l&&l._renderControls(s)},_toObject:function(s,l,o){var c=this._realizeGroupTransformOnObject(s),v=this.callSuper("_toObject",s,l,o);return this._unwindGroupTransformOnObject(s,c),v},_realizeGroupTransformOnObject:function(s){if(s.group&&s.group.type==="activeSelection"&&this._activeObject===s.group){var l=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],o={};return l.forEach(function(c){o[c]=s[c]}),i.util.addTransformToObject(s,this._activeObject.calcOwnMatrix()),o}else return null},_unwindGroupTransformOnObject:function(s,l){l&&s.set(l)},_setSVGObject:function(s,l,o){var c=this._realizeGroupTransformOnObject(l);this.callSuper("_setSVGObject",s,l,o),this._unwindGroupTransformOnObject(l,c)},setViewportTransform:function(s){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),i.StaticCanvas.prototype.setViewportTransform.call(this,s)}});for(var g in i.StaticCanvas)g!=="prototype"&&(i.Canvas[g]=i.StaticCanvas[g])}(),function(){var d=i.util.addListener,a=i.util.removeListener,h=3,g=2,s=1,l={passive:!1};function o(c,v){return c.button&&c.button===v-1}i.util.object.extend(i.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(d,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(c,v){var f=this.upperCanvasEl,y=this._getEventPrefix();c(i.window,"resize",this._onResize),c(f,y+"down",this._onMouseDown),c(f,y+"move",this._onMouseMove,l),c(f,y+"out",this._onMouseOut),c(f,y+"enter",this._onMouseEnter),c(f,"wheel",this._onMouseWheel),c(f,"contextmenu",this._onContextMenu),c(f,"dblclick",this._onDoubleClick),c(f,"dragover",this._onDragOver),c(f,"dragenter",this._onDragEnter),c(f,"dragleave",this._onDragLeave),c(f,"drop",this._onDrop),this.enablePointerEvents||c(f,"touchstart",this._onTouchStart,l),typeof eventjs<"u"&&v in eventjs&&(eventjs[v](f,"gesture",this._onGesture),eventjs[v](f,"drag",this._onDrag),eventjs[v](f,"orientation",this._onOrientationChange),eventjs[v](f,"shake",this._onShake),eventjs[v](f,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(a,"remove");var c=this._getEventPrefix();a(i.document,c+"up",this._onMouseUp),a(i.document,"touchend",this._onTouchEnd,l),a(i.document,c+"move",this._onMouseMove,l),a(i.document,"touchmove",this._onMouseMove,l)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(c,v){this.__onTransformGesture&&this.__onTransformGesture(c,v)},_onDrag:function(c,v){this.__onDrag&&this.__onDrag(c,v)},_onMouseWheel:function(c){this.__onMouseWheel(c)},_onMouseOut:function(c){var v=this._hoveredTarget;this.fire("mouse:out",{target:v,e:c}),this._hoveredTarget=null,v&&v.fire("mouseout",{e:c});var f=this;this._hoveredTargets.forEach(function(y){f.fire("mouse:out",{target:v,e:c}),y&&v.fire("mouseout",{e:c})}),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach(function(y){y.isEditing&&y.hiddenTextarea.focus()})},_onMouseEnter:function(c){!this._currentTransform&&!this.findTarget(c)&&(this.fire("mouse:over",{target:null,e:c}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(c,v){this.__onOrientationChange&&this.__onOrientationChange(c,v)},_onShake:function(c,v){this.__onShake&&this.__onShake(c,v)},_onLongPress:function(c,v){this.__onLongPress&&this.__onLongPress(c,v)},_onDragOver:function(c){c.preventDefault();var v=this._simpleEventHandler("dragover",c);this._fireEnterLeaveEvents(v,c)},_onContextMenu:function(c){return this.stopContextMenu&&(c.stopPropagation(),c.preventDefault()),!1},_onDoubleClick:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"dblclick"),this._resetTransformEventData(c)},getPointerId:function(c){var v=c.changedTouches;return v?v[0]&&v[0].identifier:this.enablePointerEvents?c.pointerId:-1},_isMainEvent:function(c){return c.isPrimary===!0?!0:c.isPrimary===!1?!1:c.type==="touchend"&&c.touches.length===0?!0:c.changedTouches?c.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(c){c.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(c)),this.__onMouseDown(c),this._resetTransformEventData();var v=this.upperCanvasEl,f=this._getEventPrefix();d(i.document,"touchend",this._onTouchEnd,l),d(i.document,"touchmove",this._onMouseMove,l),a(v,f+"down",this._onMouseDown)},_onMouseDown:function(c){this.__onMouseDown(c),this._resetTransformEventData();var v=this.upperCanvasEl,f=this._getEventPrefix();a(v,f+"move",this._onMouseMove,l),d(i.document,f+"up",this._onMouseUp),d(i.document,f+"move",this._onMouseMove,l)},_onTouchEnd:function(c){if(!(c.touches.length>0)){this.__onMouseUp(c),this._resetTransformEventData(),this.mainTouchId=null;var v=this._getEventPrefix();a(i.document,"touchend",this._onTouchEnd,l),a(i.document,"touchmove",this._onMouseMove,l);var f=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){d(f.upperCanvasEl,v+"down",f._onMouseDown),f._willAddMouseDown=0},400)}},_onMouseUp:function(c){this.__onMouseUp(c),this._resetTransformEventData();var v=this.upperCanvasEl,f=this._getEventPrefix();this._isMainEvent(c)&&(a(i.document,f+"up",this._onMouseUp),a(i.document,f+"move",this._onMouseMove,l),d(v,f+"move",this._onMouseMove,l))},_onMouseMove:function(c){!this.allowTouchScrolling&&c.preventDefault&&c.preventDefault(),this.__onMouseMove(c)},_onResize:function(){this.calcOffset()},_shouldRender:function(c){var v=this._activeObject;return!!v!=!!c||v&&c&&v!==c?!0:(v&&v.isEditing,!1)},__onMouseUp:function(c){var v,f=this._currentTransform,y=this._groupSelector,x=!1,_=!y||y.left===0&&y.top===0;if(this._cacheTransformEventData(c),v=this._target,this._handleEvent(c,"up:before"),o(c,h)){this.fireRightClick&&this._handleEvent(c,"up",h,_);return}if(o(c,g)){this.fireMiddleClick&&this._handleEvent(c,"up",g,_),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(c);return}if(this._isMainEvent(c)){if(f&&(this._finalizeCurrentTransform(c),x=f.actionPerformed),!_){var T=v===this._activeObject;this._maybeGroupObjects(c),x||(x=this._shouldRender(v)||!T&&v===this._activeObject)}if(v){if(v.selectable&&v!==this._activeObject&&v.activeOn==="up")this.setActiveObject(v,c),x=!0;else{var E=v._findTargetCorner(this.getPointer(c,!0),i.util.isTouchEvent(c)),A=v.controls[E],k=A&&A.getMouseUpHandler(c,v,A);if(k){var z=this.getPointer(c);k(c,f,z.x,z.y)}}v.isMoving=!1}this._setCursorFromEvent(c,v),this._handleEvent(c,"up",s,_),this._groupSelector=null,this._currentTransform=null,v&&(v.__corner=0),x?this.requestRenderAll():_||this.renderTop()}},_simpleEventHandler:function(c,v){var f=this.findTarget(v),y=this.targets,x={e:v,target:f,subTargets:y};if(this.fire(c,x),f&&f.fire(c,x),!y)return f;for(var _=0;_<y.length;_++)y[_].fire(c,x);return f},_handleEvent:function(c,v,f,y){var x=this._target,_=this.targets||[],T={e:c,target:x,subTargets:_,button:f||s,isClick:y||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};v==="up"&&(T.currentTarget=this.findTarget(c),T.currentSubTargets=this.targets),this.fire("mouse:"+v,T),x&&x.fire("mouse"+v,T);for(var E=0;E<_.length;E++)_[E].fire("mouse"+v,T)},_finalizeCurrentTransform:function(c){var v=this._currentTransform,f=v.target,y,x={e:c,target:f,transform:v,action:v.action};f._scaling&&(f._scaling=!1),f.setCoords(),(v.actionPerformed||this.stateful&&f.hasStateChanged())&&(v.actionPerformed&&(y=this._addEventOptions(x,v),this._fire(y,x)),this._fire("modified",x))},_addEventOptions:function(c,v){var f,y;switch(v.action){case"scaleX":f="scaled",y="x";break;case"scaleY":f="scaled",y="y";break;case"skewX":f="skewed",y="x";break;case"skewY":f="skewed",y="y";break;case"scale":f="scaled",y="equally";break;case"rotate":f="rotated";break;case"drag":f="moved";break}return c.by=y,f},_onMouseDownInDrawingMode:function(c){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(c).requestRenderAll();var v=this.getPointer(c);this.freeDrawingBrush.onMouseDown(v,{e:c,pointer:v}),this._handleEvent(c,"down")},_onMouseMoveInDrawingMode:function(c){if(this._isCurrentlyDrawing){var v=this.getPointer(c);this.freeDrawingBrush.onMouseMove(v,{e:c,pointer:v})}this.setCursor(this.freeDrawingCursor),this._handleEvent(c,"move")},_onMouseUpInDrawingMode:function(c){var v=this.getPointer(c);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:c,pointer:v}),this._handleEvent(c,"up")},__onMouseDown:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"down:before");var v=this._target;if(o(c,h)){this.fireRightClick&&this._handleEvent(c,"down",h);return}if(o(c,g)){this.fireMiddleClick&&this._handleEvent(c,"down",g);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(c);return}if(this._isMainEvent(c)&&!this._currentTransform){var f=this._pointer;this._previousPointer=f;var y=this._shouldRender(v),x=this._shouldGroup(c,v);if(this._shouldClearSelection(c,v)?this.discardActiveObject(c):x&&(this._handleGrouping(c,v),v=this._activeObject),this.selection&&(!v||!v.selectable&&!v.isEditing&&v!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),v){var _=v===this._activeObject;v.selectable&&v.activeOn==="down"&&this.setActiveObject(v,c);var T=v._findTargetCorner(this.getPointer(c,!0),i.util.isTouchEvent(c));if(v.__corner=T,v===this._activeObject&&(T||!x)){this._setupCurrentTransform(c,v,_);var E=v.controls[T],f=this.getPointer(c),A=E&&E.getMouseDownHandler(c,v,E);A&&A(c,this._currentTransform,f.x,f.y)}}this._handleEvent(c,"down"),(y||x)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(c){this._resetTransformEventData(),this._pointer=this.getPointer(c,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(c)||null},_beforeTransform:function(c){var v=this._currentTransform;this.stateful&&v.target.saveState(),this.fire("before:transform",{e:c,transform:v})},__onMouseMove:function(c){this._handleEvent(c,"move:before"),this._cacheTransformEventData(c);var v,f;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(c);return}if(this._isMainEvent(c)){var y=this._groupSelector;y?(f=this._absolutePointer,y.left=f.x-y.ex,y.top=f.y-y.ey,this.renderTop()):this._currentTransform?this._transformObject(c):(v=this.findTarget(c)||null,this._setCursorFromEvent(c,v),this._fireOverOutEvents(v,c)),this._handleEvent(c,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(c,v){var f=this._hoveredTarget,y=this._hoveredTargets,x=this.targets,_=Math.max(y.length,x.length);this.fireSyntheticInOutEvents(c,v,{oldTarget:f,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var T=0;T<_;T++)this.fireSyntheticInOutEvents(x[T],v,{oldTarget:y[T],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=c,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(c,v){var f=this._draggedoverTarget,y=this._hoveredTargets,x=this.targets,_=Math.max(y.length,x.length);this.fireSyntheticInOutEvents(c,v,{oldTarget:f,evtOut:"dragleave",evtIn:"dragenter"});for(var T=0;T<_;T++)this.fireSyntheticInOutEvents(x[T],v,{oldTarget:y[T],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=c},fireSyntheticInOutEvents:function(c,v,f){var y,x,_=f.oldTarget,T,E,A=_!==c,k=f.canvasEvtIn,z=f.canvasEvtOut;A&&(y={e:v,target:c,previousTarget:_},x={e:v,target:_,nextTarget:c}),E=c&&A,T=_&&A,T&&(z&&this.fire(z,x),_.fire(f.evtOut,x)),E&&(k&&this.fire(k,y),c.fire(f.evtIn,y))},__onMouseWheel:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"wheel"),this._resetTransformEventData()},_transformObject:function(c){var v=this.getPointer(c),f=this._currentTransform;f.reset=!1,f.shiftKey=c.shiftKey,f.altKey=c[this.centeredKey],this._performTransformAction(c,f,v),f.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(c,v,f){var y=f.x,x=f.y,_=v.action,T=!1,E=v.actionHandler;E&&(T=E(c,v,y,x)),_==="drag"&&T&&(v.target.isMoving=!0,this.setCursor(v.target.moveCursor||this.moveCursor)),v.actionPerformed=v.actionPerformed||T},_fire:i.controlsUtils.fireEvent,_setCursorFromEvent:function(c,v){if(!v)return this.setCursor(this.defaultCursor),!1;var f=v.hoverCursor||this.hoverCursor,y=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,x=(!y||!y.contains(v))&&v._findTargetCorner(this.getPointer(c,!0));x?this.setCursor(this.getCornerCursor(x,v,c)):(v.subTargetCheck&&this.targets.concat().reverse().map(function(_){f=_.hoverCursor||f}),this.setCursor(f))},getCornerCursor:function(c,v,f){var y=v.controls[c];return y.cursorStyleHandler(f,y,v)}})}(),function(){var d=Math.min,a=Math.max;i.util.object.extend(i.Canvas.prototype,{_shouldGroup:function(h,g){var s=this._activeObject;return s&&this._isSelectionKeyPressed(h)&&g&&g.selectable&&this.selection&&(s!==g||s.type==="activeSelection")&&!g.onSelect({e:h})},_handleGrouping:function(h,g){var s=this._activeObject;s.__corner||g===s&&(g=this.findTarget(h,!0),!g||!g.selectable)||(s&&s.type==="activeSelection"?this._updateActiveSelection(g,h):this._createActiveSelection(g,h))},_updateActiveSelection:function(h,g){var s=this._activeObject,l=s._objects.slice(0);s.contains(h)?(s.removeWithUpdate(h),this._hoveredTarget=h,this._hoveredTargets=this.targets.concat(),s.size()===1&&this._setActiveObject(s.item(0),g)):(s.addWithUpdate(h),this._hoveredTarget=s,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(l,g)},_createActiveSelection:function(h,g){var s=this.getActiveObjects(),l=this._createGroup(h);this._hoveredTarget=l,this._setActiveObject(l,g),this._fireSelectionEvents(s,g)},_createGroup:function(h){var g=this._objects,s=g.indexOf(this._activeObject)<g.indexOf(h),l=s?[this._activeObject,h]:[h,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new i.ActiveSelection(l,{canvas:this})},_groupSelectedObjects:function(h){var g=this._collectObjects(h),s;g.length===1?this.setActiveObject(g[0],h):g.length>1&&(s=new i.ActiveSelection(g.reverse(),{canvas:this}),this.setActiveObject(s,h))},_collectObjects:function(h){for(var g=[],s,l=this._groupSelector.ex,o=this._groupSelector.ey,c=l+this._groupSelector.left,v=o+this._groupSelector.top,f=new i.Point(d(l,c),d(o,v)),y=new i.Point(a(l,c),a(o,v)),x=!this.selectionFullyContained,_=l===c&&o===v,T=this._objects.length;T--&&(s=this._objects[T],!(!(!s||!s.selectable||!s.visible)&&(x&&s.intersectsWithRect(f,y,!0)||s.isContainedWithinRect(f,y,!0)||x&&s.containsPoint(f,null,!0)||x&&s.containsPoint(y,null,!0))&&(g.push(s),_))););return g.length>1&&(g=g.filter(function(E){return!E.onSelect({e:h})})),g},_maybeGroupObjects:function(h){this.selection&&this._groupSelector&&this._groupSelectedObjects(h),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){i.util.object.extend(i.StaticCanvas.prototype,{toDataURL:function(d){d||(d={});var a=d.format||"png",h=d.quality||1,g=(d.multiplier||1)*(d.enableRetinaScaling?this.getRetinaScaling():1),s=this.toCanvasElement(g,d);return i.util.toDataURL(s,a,h)},toCanvasElement:function(d,a){d=d||1,a=a||{};var h=(a.width||this.width)*d,g=(a.height||this.height)*d,s=this.getZoom(),l=this.width,o=this.height,c=s*d,v=this.viewportTransform,f=(v[4]-(a.left||0))*d,y=(v[5]-(a.top||0))*d,x=this.interactive,_=[c,0,0,c,f,y],T=this.enableRetinaScaling,E=i.util.createCanvasElement(),A=this.contextTop;return E.width=h,E.height=g,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=_,this.width=h,this.height=g,this.calcViewportBoundaries(),this.renderCanvas(E.getContext("2d"),this._objects),this.viewportTransform=v,this.width=l,this.height=o,this.calcViewportBoundaries(),this.interactive=x,this.enableRetinaScaling=T,this.contextTop=A,E}})}(),i.util.object.extend(i.StaticCanvas.prototype,{loadFromJSON:function(d,a,h){if(d){var g=typeof d=="string"?JSON.parse(d):i.util.object.clone(d),s=this,l=g.clipPath,o=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete g.clipPath,this._enlivenObjects(g.objects,function(c){s.clear(),s._setBgOverlay(g,function(){l?s._enlivenObjects([l],function(v){s.clipPath=v[0],s.__setupCanvas.call(s,g,c,o,a)}):s.__setupCanvas.call(s,g,c,o,a)})},h),this}},__setupCanvas:function(d,a,h,g){var s=this;a.forEach(function(l,o){s.insertAt(l,o)}),this.renderOnAddRemove=h,delete d.objects,delete d.backgroundImage,delete d.overlayImage,delete d.background,delete d.overlay,this._setOptions(d),this.renderAll(),g&&g()},_setBgOverlay:function(d,a){var h={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!d.backgroundImage&&!d.overlayImage&&!d.background&&!d.overlay){a&&a();return}var g=function(){h.backgroundImage&&h.overlayImage&&h.backgroundColor&&h.overlayColor&&a&&a()};this.__setBgOverlay("backgroundImage",d.backgroundImage,h,g),this.__setBgOverlay("overlayImage",d.overlayImage,h,g),this.__setBgOverlay("backgroundColor",d.background,h,g),this.__setBgOverlay("overlayColor",d.overlay,h,g)},__setBgOverlay:function(d,a,h,g){var s=this;if(!a){h[d]=!0,g&&g();return}d==="backgroundImage"||d==="overlayImage"?i.util.enlivenObjects([a],function(l){s[d]=l[0],h[d]=!0,g&&g()}):this["set"+i.util.string.capitalize(d,!0)](a,function(){h[d]=!0,g&&g()})},_enlivenObjects:function(d,a,h){if(!d||d.length===0){a&&a([]);return}i.util.enlivenObjects(d,function(g){a&&a(g)},null,h)},_toDataURL:function(d,a){this.clone(function(h){a(h.toDataURL(d))})},_toDataURLWithMultiplier:function(d,a,h){this.clone(function(g){h(g.toDataURLWithMultiplier(d,a))})},clone:function(d,a){var h=JSON.stringify(this.toJSON(a));this.cloneWithoutData(function(g){g.loadFromJSON(h,function(){d&&d(g)})})},cloneWithoutData:function(d){var a=i.util.createCanvasElement();a.width=this.width,a.height=this.height;var h=new i.Canvas(a);this.backgroundImage?(h.setBackgroundImage(this.backgroundImage.src,function(){h.renderAll(),d&&d(h)}),h.backgroundImageOpacity=this.backgroundImageOpacity,h.backgroundImageStretch=this.backgroundImageStretch):d&&d(h)}}),function(d){var a=d.fabric||(d.fabric={}),h=a.util.object.extend,g=a.util.object.clone,s=a.util.toFixed,l=a.util.string.capitalize,o=a.util.degreesToRadians,c=!a.isLikelyNode,v=2;a.Object||(a.Object=a.util.createClass(a.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:c,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(f){f&&this.setOptions(f)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=a.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(f){var y=a.perfLimitSizeTotal,x=f.width,_=f.height,T=a.maxCacheSideLimit,E=a.minCacheSideLimit;if(x<=T&&_<=T&&x*_<=y)return x<E&&(f.width=E),_<E&&(f.height=E),f;var A=x/_,k=a.util.limitDimsByArea(A,y),z=a.util.capValue,I=z(E,k.x,T),D=z(E,k.y,T);return x>I&&(f.zoomX/=x/I,f.width=I,f.capped=!0),_>D&&(f.zoomY/=_/D,f.height=D,f.capped=!0),f},_getCacheCanvasDimensions:function(){var f=this.getTotalObjectScaling(),y=this._getTransformedDimensions(0,0),x=y.x*f.scaleX/this.scaleX,_=y.y*f.scaleY/this.scaleY;return{width:x+v,height:_+v,zoomX:f.scaleX,zoomY:f.scaleY,x,y:_}},_updateCacheCanvas:function(){var f=this.canvas;if(this.noScaleCache&&f&&f._currentTransform){var y=f._currentTransform.target,x=f._currentTransform.action;if(this===y&&x.slice&&x.slice(0,5)==="scale")return!1}var _=this._cacheCanvas,T=this._limitCacheSize(this._getCacheCanvasDimensions()),E=a.minCacheSideLimit,A=T.width,k=T.height,z,I,D=T.zoomX,q=T.zoomY,st=A!==this.cacheWidth||k!==this.cacheHeight,Z=this.zoomX!==D||this.zoomY!==q,$=st||Z,ut=0,U=0,tt=!1;if(st){var nt=this._cacheCanvas.width,F=this._cacheCanvas.height,P=A>nt||k>F,M=(A<nt*.9||k<F*.9)&&nt>E&&F>E;tt=P||M,P&&!T.capped&&(A>E||k>E)&&(ut=A*.1,U=k*.1)}return this instanceof a.Text&&this.path&&($=!0,tt=!0,ut+=this.getHeightOfLine(0)*this.zoomX,U+=this.getHeightOfLine(0)*this.zoomY),$?(tt?(_.width=Math.ceil(A+ut),_.height=Math.ceil(k+U)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,_.width,_.height)),z=T.x/2,I=T.y/2,this.cacheTranslationX=Math.round(_.width/2-z)+z,this.cacheTranslationY=Math.round(_.height/2-I)+I,this.cacheWidth=A,this.cacheHeight=k,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(D,q),this.zoomX=D,this.zoomY=q,!0):!1},setOptions:function(f){this._setOptions(f),this._initGradient(f.fill,"fill"),this._initGradient(f.stroke,"stroke"),this._initPattern(f.fill,"fill"),this._initPattern(f.stroke,"stroke")},transform:function(f){var y=this.group&&!this.group._transformDone||this.group&&this.canvas&&f===this.canvas.contextTop,x=this.calcTransformMatrix(!y);f.transform(x[0],x[1],x[2],x[3],x[4],x[5])},toObject:function(f){var y=a.Object.NUM_FRACTION_DIGITS,x={type:this.type,version:a.version,originX:this.originX,originY:this.originY,left:s(this.left,y),top:s(this.top,y),width:s(this.width,y),height:s(this.height,y),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:s(this.strokeWidth,y),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:s(this.strokeMiterLimit,y),scaleX:s(this.scaleX,y),scaleY:s(this.scaleY,y),angle:s(this.angle,y),flipX:this.flipX,flipY:this.flipY,opacity:s(this.opacity,y),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:s(this.skewX,y),skewY:s(this.skewY,y)};return this.clipPath&&!this.clipPath.excludeFromExport&&(x.clipPath=this.clipPath.toObject(f),x.clipPath.inverted=this.clipPath.inverted,x.clipPath.absolutePositioned=this.clipPath.absolutePositioned),a.util.populateWithProperties(this,x,f),this.includeDefaultValues||(x=this._removeDefaultValues(x)),x},toDatalessObject:function(f){return this.toObject(f)},_removeDefaultValues:function(f){var y=a.util.getKlass(f.type).prototype,x=y.stateProperties;return x.forEach(function(_){if(!(_==="left"||_==="top")){f[_]===y[_]&&delete f[_];var T=Object.prototype.toString.call(f[_])==="[object Array]"&&Object.prototype.toString.call(y[_])==="[object Array]";T&&f[_].length===0&&y[_].length===0&&delete f[_]}}),f},toString:function(){return"#<fabric."+l(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var f=a.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(f.scaleX),scaleY:Math.abs(f.scaleY)}},getTotalObjectScaling:function(){var f=this.getObjectScaling(),y=f.scaleX,x=f.scaleY;if(this.canvas){var _=this.canvas.getZoom(),T=this.canvas.getRetinaScaling();y*=_*T,x*=_*T}return{scaleX:y,scaleY:x}},getObjectOpacity:function(){var f=this.opacity;return this.group&&(f*=this.group.getObjectOpacity()),f},_set:function(f,y){var x=f==="scaleX"||f==="scaleY",_=this[f]!==y,T=!1;return x&&(y=this._constrainScale(y)),f==="scaleX"&&y<0?(this.flipX=!this.flipX,y*=-1):f==="scaleY"&&y<0?(this.flipY=!this.flipY,y*=-1):f==="shadow"&&y&&!(y instanceof a.Shadow)?y=new a.Shadow(y):f==="dirty"&&this.group&&this.group.set("dirty",y),this[f]=y,_&&(T=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(f)>-1?(this.dirty=!0,T&&this.group.set("dirty",!0)):T&&this.stateProperties.indexOf(f)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:a.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(f){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(f.save(),this._setupCompositeOperation(f),this.drawSelectionBackground(f),this.transform(f),this._setOpacity(f),this._setShadow(f,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(f)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(f),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),f.restore())},renderCache:function(f){f=f||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,f.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(f){var y=this.clipPath;if(f.save(),y.inverted?f.globalCompositeOperation="destination-out":f.globalCompositeOperation="destination-in",y.absolutePositioned){var x=a.util.invertTransform(this.calcTransformMatrix());f.transform(x[0],x[1],x[2],x[3],x[4],x[5])}y.transform(f),f.scale(1/y.zoomX,1/y.zoomY),f.drawImage(y._cacheCanvas,-y.cacheTranslationX,-y.cacheTranslationY),f.restore()},drawObject:function(f,y){var x=this.fill,_=this.stroke;y?(this.fill="black",this.stroke="",this._setClippingProperties(f)):this._renderBackground(f),this._render(f),this._drawClipPath(f),this.fill=x,this.stroke=_},_drawClipPath:function(f){var y=this.clipPath;y&&(y.canvas=this.canvas,y.shouldCache(),y._transformDone=!0,y.renderCache({forClipping:!0}),this.drawClipPathOnCache(f))},drawCacheOnCanvas:function(f){f.scale(1/this.zoomX,1/this.zoomY),f.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(f){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!f&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!f){var y=this.cacheWidth/this.zoomX,x=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-y/2,-x/2,y,x)}return!0}return!1},_renderBackground:function(f){if(this.backgroundColor){var y=this._getNonTransformedDimensions();f.fillStyle=this.backgroundColor,f.fillRect(-y.x/2,-y.y/2,y.x,y.y),this._removeShadow(f)}},_setOpacity:function(f){this.group&&!this.group._transformDone?f.globalAlpha=this.getObjectOpacity():f.globalAlpha*=this.opacity},_setStrokeStyles:function(f,y){var x=y.stroke;x&&(f.lineWidth=y.strokeWidth,f.lineCap=y.strokeLineCap,f.lineDashOffset=y.strokeDashOffset,f.lineJoin=y.strokeLineJoin,f.miterLimit=y.strokeMiterLimit,x.toLive?x.gradientUnits==="percentage"||x.gradientTransform||x.patternTransform?this._applyPatternForTransformedGradient(f,x):(f.strokeStyle=x.toLive(f,this),this._applyPatternGradientTransform(f,x)):f.strokeStyle=y.stroke)},_setFillStyles:function(f,y){var x=y.fill;x&&(x.toLive?(f.fillStyle=x.toLive(f,this),this._applyPatternGradientTransform(f,y.fill)):f.fillStyle=x)},_setClippingProperties:function(f){f.globalAlpha=1,f.strokeStyle="transparent",f.fillStyle="#000000"},_setLineDash:function(f,y){!y||y.length===0||(1&y.length&&y.push.apply(y,y),f.setLineDash(y))},_renderControls:function(f,y){var x=this.getViewportTransform(),_=this.calcTransformMatrix(),T,E,A;y=y||{},E=typeof y.hasBorders<"u"?y.hasBorders:this.hasBorders,A=typeof y.hasControls<"u"?y.hasControls:this.hasControls,_=a.util.multiplyTransformMatrices(x,_),T=a.util.qrDecompose(_),f.save(),f.translate(T.translateX,T.translateY),f.lineWidth=1*this.borderScaleFactor,this.group||(f.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),f.rotate(o(T.angle)),y.forActiveSelection||this.group?E&&this.drawBordersInGroup(f,T,y):E&&this.drawBorders(f,y),A&&this.drawControls(f,y),f.restore()},_setShadow:function(f){if(this.shadow){var y=this.shadow,x=this.canvas,_,T=x&&x.viewportTransform[0]||1,E=x&&x.viewportTransform[3]||1;y.nonScaling?_={scaleX:1,scaleY:1}:_=this.getObjectScaling(),x&&x._isRetinaScaling()&&(T*=a.devicePixelRatio,E*=a.devicePixelRatio),f.shadowColor=y.color,f.shadowBlur=y.blur*a.browserShadowBlurConstant*(T+E)*(_.scaleX+_.scaleY)/4,f.shadowOffsetX=y.offsetX*T*_.scaleX,f.shadowOffsetY=y.offsetY*E*_.scaleY}},_removeShadow:function(f){this.shadow&&(f.shadowColor="",f.shadowBlur=f.shadowOffsetX=f.shadowOffsetY=0)},_applyPatternGradientTransform:function(f,y){if(!y||!y.toLive)return{offsetX:0,offsetY:0};var x=y.gradientTransform||y.patternTransform,_=-this.width/2+y.offsetX||0,T=-this.height/2+y.offsetY||0;return y.gradientUnits==="percentage"?f.transform(this.width,0,0,this.height,_,T):f.transform(1,0,0,1,_,T),x&&f.transform(x[0],x[1],x[2],x[3],x[4],x[5]),{offsetX:_,offsetY:T}},_renderPaintInOrder:function(f){this.paintFirst==="stroke"?(this._renderStroke(f),this._renderFill(f)):(this._renderFill(f),this._renderStroke(f))},_render:function(){},_renderFill:function(f){this.fill&&(f.save(),this._setFillStyles(f,this),this.fillRule==="evenodd"?f.fill("evenodd"):f.fill(),f.restore())},_renderStroke:function(f){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(f),f.save(),this.strokeUniform&&this.group){var y=this.getObjectScaling();f.scale(1/y.scaleX,1/y.scaleY)}else this.strokeUniform&&f.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(f,this.strokeDashArray),this._setStrokeStyles(f,this),f.stroke(),f.restore()}},_applyPatternForTransformedGradient:function(f,y){var x=this._limitCacheSize(this._getCacheCanvasDimensions()),_=a.util.createCanvasElement(),T,E=this.canvas.getRetinaScaling(),A=x.x/this.scaleX/E,k=x.y/this.scaleY/E;_.width=A,_.height=k,T=_.getContext("2d"),T.beginPath(),T.moveTo(0,0),T.lineTo(A,0),T.lineTo(A,k),T.lineTo(0,k),T.closePath(),T.translate(A/2,k/2),T.scale(x.zoomX/this.scaleX/E,x.zoomY/this.scaleY/E),this._applyPatternGradientTransform(T,y),T.fillStyle=y.toLive(f),T.fill(),f.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),f.scale(E*this.scaleX/x.zoomX,E*this.scaleY/x.zoomY),f.strokeStyle=T.createPattern(_,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var f=a.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",f.scaleX),this.set("scaleY",f.scaleY),this.angle=f.angle,this.skewX=f.skewX,this.skewY=0}},_removeTransformMatrix:function(f){var y=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),y=a.util.transformPoint(y,this.transformMatrix)),this.transformMatrix=null,f&&(this.scaleX*=f.scaleX,this.scaleY*=f.scaleY,this.cropX=f.cropX,this.cropY=f.cropY,y.x+=f.offsetLeft,y.y+=f.offsetTop,this.width=f.width,this.height=f.height),this.setPositionByOrigin(y,"center","center")},clone:function(f,y){var x=this.toObject(y);this.constructor.fromObject?this.constructor.fromObject(x,f):a.Object._fromObject("Object",x,f)},cloneAsImage:function(f,y){var x=this.toCanvasElement(y);return f&&f(new a.Image(x)),this},toCanvasElement:function(f){f||(f={});var y=a.util,x=y.saveObjectTransform(this),_=this.group,T=this.shadow,E=Math.abs,A=(f.multiplier||1)*(f.enableRetinaScaling?a.devicePixelRatio:1);delete this.group,f.withoutTransform&&y.resetObjectTransform(this),f.withoutShadow&&(this.shadow=null);var k=a.util.createCanvasElement(),z=this.getBoundingRect(!0,!0),I=this.shadow,D,q={x:0,y:0},st,Z,$;I&&(st=I.blur,I.nonScaling?D={scaleX:1,scaleY:1}:D=this.getObjectScaling(),q.x=2*Math.round(E(I.offsetX)+st)*E(D.scaleX),q.y=2*Math.round(E(I.offsetY)+st)*E(D.scaleY)),Z=z.width+q.x,$=z.height+q.y,k.width=Math.ceil(Z),k.height=Math.ceil($);var ut=new a.StaticCanvas(k,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});f.format==="jpeg"&&(ut.backgroundColor="#fff"),this.setPositionByOrigin(new a.Point(ut.width/2,ut.height/2),"center","center");var U=this.canvas;ut.add(this);var tt=ut.toCanvasElement(A||1,f);return this.shadow=T,this.set("canvas",U),_&&(this.group=_),this.set(x).setCoords(),ut._objects=[],ut.dispose(),ut=null,tt},toDataURL:function(f){return f||(f={}),a.util.toDataURL(this.toCanvasElement(f),f.format||"png",f.quality||1)},isType:function(f){return this.type===f},complexity:function(){return 1},toJSON:function(f){return this.toObject(f)},rotate:function(f){var y=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return y&&this._setOriginToCenter(),this.set("angle",f),y&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(f,y){y=y||this.canvas.getPointer(f);var x=new a.Point(y.x,y.y),_=this._getLeftTopCoords();return this.angle&&(x=a.util.rotatePoint(x,_,o(-this.angle))),{x:x.x-_.x,y:x.y-_.y}},_setupCompositeOperation:function(f){this.globalCompositeOperation&&(f.globalCompositeOperation=this.globalCompositeOperation)}}),a.util.createAccessors&&a.util.createAccessors(a.Object),h(a.Object.prototype,a.Observable),a.Object.NUM_FRACTION_DIGITS=2,a.Object._fromObject=function(f,y,x,_){var T=a[f];y=g(y,!0),a.util.enlivenPatterns([y.fill,y.stroke],function(E){typeof E[0]<"u"&&(y.fill=E[0]),typeof E[1]<"u"&&(y.stroke=E[1]),a.util.enlivenObjects([y.clipPath],function(A){y.clipPath=A[0];var k=_?new T(y[_],y):new T(y);x&&x(k)})})},a.Object.__uid=0)}(r),function(){var d=i.util.degreesToRadians,a={left:-.5,center:0,right:.5},h={top:-.5,center:0,bottom:.5};i.util.object.extend(i.Object.prototype,{translateToGivenOrigin:function(g,s,l,o,c){var v=g.x,f=g.y,y,x,_;return typeof s=="string"?s=a[s]:s-=.5,typeof o=="string"?o=a[o]:o-=.5,y=o-s,typeof l=="string"?l=h[l]:l-=.5,typeof c=="string"?c=h[c]:c-=.5,x=c-l,(y||x)&&(_=this._getTransformedDimensions(),v=g.x+y*_.x,f=g.y+x*_.y),new i.Point(v,f)},translateToCenterPoint:function(g,s,l){var o=this.translateToGivenOrigin(g,s,l,"center","center");return this.angle?i.util.rotatePoint(o,g,d(this.angle)):o},translateToOriginPoint:function(g,s,l){var o=this.translateToGivenOrigin(g,"center","center",s,l);return this.angle?i.util.rotatePoint(o,g,d(this.angle)):o},getCenterPoint:function(){var g=new i.Point(this.left,this.top);return this.translateToCenterPoint(g,this.originX,this.originY)},getPointByOrigin:function(g,s){var l=this.getCenterPoint();return this.translateToOriginPoint(l,g,s)},toLocalPoint:function(g,s,l){var o=this.getCenterPoint(),c,v;return typeof s<"u"&&typeof l<"u"?c=this.translateToGivenOrigin(o,"center","center",s,l):c=new i.Point(this.left,this.top),v=new i.Point(g.x,g.y),this.angle&&(v=i.util.rotatePoint(v,o,-d(this.angle))),v.subtractEquals(c)},setPositionByOrigin:function(g,s,l){var o=this.translateToCenterPoint(g,s,l),c=this.translateToOriginPoint(o,this.originX,this.originY);this.set("left",c.x),this.set("top",c.y)},adjustPosition:function(g){var s=d(this.angle),l=this.getScaledWidth(),o=i.util.cos(s)*l,c=i.util.sin(s)*l,v,f;typeof this.originX=="string"?v=a[this.originX]:v=this.originX-.5,typeof g=="string"?f=a[g]:f=g-.5,this.left+=o*(f-v),this.top+=c*(f-v),this.setCoords(),this.originX=g},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var g=this.getCenterPoint();this.originX="center",this.originY="center",this.left=g.x,this.top=g.y},_resetOrigin:function(){var g=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=g.x,this.top=g.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function d(l){return[new i.Point(l.tl.x,l.tl.y),new i.Point(l.tr.x,l.tr.y),new i.Point(l.br.x,l.br.y),new i.Point(l.bl.x,l.bl.y)]}var a=i.util,h=a.degreesToRadians,g=a.multiplyTransformMatrices,s=a.transformPoint;a.object.extend(i.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(l,o){return o?l?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),l?this.aCoords:this.lineCoords)},getCoords:function(l,o){return d(this._getCoords(l,o))},intersectsWithRect:function(l,o,c,v){var f=this.getCoords(c,v),y=i.Intersection.intersectPolygonRectangle(f,l,o);return y.status==="Intersection"},intersectsWithObject:function(l,o,c){var v=i.Intersection.intersectPolygonPolygon(this.getCoords(o,c),l.getCoords(o,c));return v.status==="Intersection"||l.isContainedWithinObject(this,o,c)||this.isContainedWithinObject(l,o,c)},isContainedWithinObject:function(l,o,c){for(var v=this.getCoords(o,c),f=o?l.aCoords:l.lineCoords,y=0,x=l._getImageLines(f);y<4;y++)if(!l.containsPoint(v[y],x))return!1;return!0},isContainedWithinRect:function(l,o,c,v){var f=this.getBoundingRect(c,v);return f.left>=l.x&&f.left+f.width<=o.x&&f.top>=l.y&&f.top+f.height<=o.y},containsPoint:function(l,y,c,v){var f=this._getCoords(c,v),y=y||this._getImageLines(f),x=this._findCrossPoints(l,y);return x!==0&&x%2===1},isOnScreen:function(l){if(!this.canvas)return!1;var o=this.canvas.vptCoords.tl,c=this.canvas.vptCoords.br,v=this.getCoords(!0,l);return v.some(function(f){return f.x<=c.x&&f.x>=o.x&&f.y<=c.y&&f.y>=o.y})||this.intersectsWithRect(o,c,!0,l)?!0:this._containsCenterOfCanvas(o,c,l)},_containsCenterOfCanvas:function(l,o,c){var v={x:(l.x+o.x)/2,y:(l.y+o.y)/2};return!!this.containsPoint(v,null,!0,c)},isPartiallyOnScreen:function(l){if(!this.canvas)return!1;var o=this.canvas.vptCoords.tl,c=this.canvas.vptCoords.br;if(this.intersectsWithRect(o,c,!0,l))return!0;var v=this.getCoords(!0,l).every(function(f){return(f.x>=c.x||f.x<=o.x)&&(f.y>=c.y||f.y<=o.y)});return v&&this._containsCenterOfCanvas(o,c,l)},_getImageLines:function(l){var o={topline:{o:l.tl,d:l.tr},rightline:{o:l.tr,d:l.br},bottomline:{o:l.br,d:l.bl},leftline:{o:l.bl,d:l.tl}};return o},_findCrossPoints:function(l,o){var c,v,f,y,x,_=0,T;for(var E in o)if(T=o[E],!(T.o.y<l.y&&T.d.y<l.y)&&!(T.o.y>=l.y&&T.d.y>=l.y)&&(T.o.x===T.d.x&&T.o.x>=l.x?x=T.o.x:(c=0,v=(T.d.y-T.o.y)/(T.d.x-T.o.x),f=l.y-c*l.x,y=T.o.y-v*T.o.x,x=-(f-y)/(c-v)),x>=l.x&&(_+=1),_===2))break;return _},getBoundingRect:function(l,o){var c=this.getCoords(l,o);return a.makeBoundingBoxFromPoints(c)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(l){return Math.abs(l)<this.minScaleLimit?l<0?-this.minScaleLimit:this.minScaleLimit:l===0?1e-4:l},scale:function(l){return this._set("scaleX",l),this._set("scaleY",l),this.setCoords()},scaleToWidth:function(l,o){var c=this.getBoundingRect(o).width/this.getScaledWidth();return this.scale(l/this.width/c)},scaleToHeight:function(l,o){var c=this.getBoundingRect(o).height/this.getScaledHeight();return this.scale(l/this.height/c)},calcCoords:function(l){return l?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var l=this.getViewportTransform(),o=this.padding,c=h(this.angle),v=a.cos(c),f=a.sin(c),y=v*o,x=f*o,_=y+x,T=y-x,E=this.calcACoords(),A={tl:s(E.tl,l),tr:s(E.tr,l),bl:s(E.bl,l),br:s(E.br,l)};return o&&(A.tl.x-=T,A.tl.y-=_,A.tr.x+=_,A.tr.y-=T,A.bl.x-=_,A.bl.y+=T,A.br.x+=T,A.br.y+=_),A},calcOCoords:function(){var l=this._calcRotateMatrix(),o=this._calcTranslateMatrix(),c=this.getViewportTransform(),v=g(c,o),f=g(v,l),f=g(f,[1/c[0],0,0,1/c[3],0,0]),y=this._calculateCurrentDimensions(),x={};return this.forEachControl(function(_,T,E){x[T]=_.positionHandler(y,f,E)}),x},calcACoords:function(){var l=this._calcRotateMatrix(),o=this._calcTranslateMatrix(),c=g(o,l),v=this._getTransformedDimensions(),f=v.x/2,y=v.y/2;return{tl:s({x:-f,y:-y},c),tr:s({x:f,y:-y},c),bl:s({x:-f,y},c),br:s({x:f,y},c)}},setCoords:function(l){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),l?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return a.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var l=this.getCenterPoint();return[1,0,0,1,l.x,l.y]},transformMatrixKey:function(l){var o="_",c="";return!l&&this.group&&(c=this.group.transformMatrixKey(l)+o),c+this.top+o+this.left+o+this.scaleX+o+this.scaleY+o+this.skewX+o+this.skewY+o+this.angle+o+this.originX+o+this.originY+o+this.width+o+this.height+o+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(l){var o=this.calcOwnMatrix();if(l||!this.group)return o;var c=this.transformMatrixKey(l),v=this.matrixCache||(this.matrixCache={});return v.key===c?v.value:(this.group&&(o=g(this.group.calcTransformMatrix(!1),o)),v.key=c,v.value=o,o)},calcOwnMatrix:function(){var l=this.transformMatrixKey(!0),o=this.ownMatrixCache||(this.ownMatrixCache={});if(o.key===l)return o.value;var c=this._calcTranslateMatrix(),v={angle:this.angle,translateX:c[4],translateY:c[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return o.key=l,o.value=a.composeMatrix(v),o.value},_calcDimensionsTransformMatrix:function(l,o,c){return a.calcDimensionsMatrix({skewX:l,skewY:o,scaleX:this.scaleX*(c&&this.flipX?-1:1),scaleY:this.scaleY*(c&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var l=this.strokeWidth,o=this.width+l,c=this.height+l;return{x:o,y:c}},_getTransformedDimensions:function(l,o){typeof l>"u"&&(l=this.skewX),typeof o>"u"&&(o=this.skewY);var c,v,f,y=l===0&&o===0;if(this.strokeUniform?(v=this.width,f=this.height):(c=this._getNonTransformedDimensions(),v=c.x,f=c.y),y)return this._finalizeDimensions(v*this.scaleX,f*this.scaleY);var x=a.sizeAfterTransform(v,f,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:l,skewY:o});return this._finalizeDimensions(x.x,x.y)},_finalizeDimensions:function(l,o){return this.strokeUniform?{x:l+this.strokeWidth,y:o+this.strokeWidth}:{x:l,y:o}},_calculateCurrentDimensions:function(){var l=this.getViewportTransform(),o=this._getTransformedDimensions(),c=s(o,l,!0);return c.scalarAdd(2*this.padding)}})}(),i.util.object.extend(i.Object.prototype,{sendToBack:function(){return this.group?i.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?i.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(d){return this.group?i.StaticCanvas.prototype.sendBackwards.call(this.group,this,d):this.canvas&&this.canvas.sendBackwards(this,d),this},bringForward:function(d){return this.group?i.StaticCanvas.prototype.bringForward.call(this.group,this,d):this.canvas&&this.canvas.bringForward(this,d),this},moveTo:function(d){return this.group&&this.group.type!=="activeSelection"?i.StaticCanvas.prototype.moveTo.call(this.group,this,d):this.canvas&&this.canvas.moveTo(this,d),this}}),function(){function d(h,g){if(g){if(g.toLive)return h+": url(#SVGID_"+g.id+"); ";var s=new i.Color(g),l=h+": "+s.toRgb()+"; ",o=s.getAlpha();return o!==1&&(l+=h+"-opacity: "+o.toString()+"; "),l}else return h+": none; "}var a=i.util.toFixed;i.util.object.extend(i.Object.prototype,{getSvgStyles:function(h){var g=this.fillRule?this.fillRule:"nonzero",s=this.strokeWidth?this.strokeWidth:"0",l=this.strokeDashArray?this.strokeDashArray.join(" "):"none",o=this.strokeDashOffset?this.strokeDashOffset:"0",c=this.strokeLineCap?this.strokeLineCap:"butt",v=this.strokeLineJoin?this.strokeLineJoin:"miter",f=this.strokeMiterLimit?this.strokeMiterLimit:"4",y=typeof this.opacity<"u"?this.opacity:"1",x=this.visible?"":" visibility: hidden;",_=h?"":this.getSvgFilter(),T=d("fill",this.fill),E=d("stroke",this.stroke);return[E,"stroke-width: ",s,"; ","stroke-dasharray: ",l,"; ","stroke-linecap: ",c,"; ","stroke-dashoffset: ",o,"; ","stroke-linejoin: ",v,"; ","stroke-miterlimit: ",f,"; ",T,"fill-rule: ",g,"; ","opacity: ",y,";",_,x].join("")},getSvgSpanStyles:function(h,g){var s="; ",o=h.fontFamily?"font-family: "+(h.fontFamily.indexOf("'")===-1&&h.fontFamily.indexOf('"')===-1?"'"+h.fontFamily+"'":h.fontFamily)+s:"",l=h.strokeWidth?"stroke-width: "+h.strokeWidth+s:"",o=o,c=h.fontSize?"font-size: "+h.fontSize+"px"+s:"",v=h.fontStyle?"font-style: "+h.fontStyle+s:"",f=h.fontWeight?"font-weight: "+h.fontWeight+s:"",y=h.fill?d("fill",h.fill):"",x=h.stroke?d("stroke",h.stroke):"",_=this.getSvgTextDecoration(h),T=h.deltaY?"baseline-shift: "+-h.deltaY+"; ":"";return _&&(_="text-decoration: "+_+s),[x,l,o,c,v,f,_,y,T,g?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(h){return["overline","underline","line-through"].filter(function(g){return h[g.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(h,g){var s=h?this.calcTransformMatrix():this.calcOwnMatrix(),l='transform="'+i.util.matrixToSVG(s);return l+(g||"")+'" '},_setSVGBg:function(h){if(this.backgroundColor){var g=i.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',a(-this.width/2,g),'" y="',a(-this.height/2,g),'" width="',a(this.width,g),'" height="',a(this.height,g),`"></rect>
`)}},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(h),{reviver:h})},toClipPathSVG:function(h){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(h),{reviver:h})},_createBaseClipPathSVGMarkup:function(h,g){g=g||{};var s=g.reviver,l=g.additionalTransform||"",o=[this.getSvgTransform(!0,l),this.getSvgCommons()].join(""),c=h.indexOf("COMMON_PARTS");return h[c]=o,s?s(h.join("")):h.join("")},_createBaseSVGMarkup:function(h,g){g=g||{};var s=g.noStyle,l=g.reviver,o=s?"":'style="'+this.getSvgStyles()+'" ',c=g.withShadow?'style="'+this.getSvgFilter()+'" ':"",v=this.clipPath,f=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",y=v&&v.absolutePositioned,x=this.stroke,_=this.fill,T=this.shadow,E,A=[],k,z=h.indexOf("COMMON_PARTS"),I=g.additionalTransform;return v&&(v.clipPathId="CLIPPATH_"+i.Object.__uid++,k='<clipPath id="'+v.clipPathId+`" >
`+v.toClipPathSVG(l)+`</clipPath>
`),y&&A.push("<g ",c,this.getSvgCommons(),` >
`),A.push("<g ",this.getSvgTransform(!1),y?"":c+this.getSvgCommons(),` >
`),E=[o,f,s?"":this.addPaintOrder()," ",I?'transform="'+I+'" ':""].join(""),h[z]=E,_&&_.toLive&&A.push(_.toSVG(this)),x&&x.toLive&&A.push(x.toSVG(this)),T&&A.push(T.toSVG(this)),v&&A.push(k),A.push(h.join("")),A.push(`</g>
`),y&&A.push(`</g>
`),l?l(A.join("")):A.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var d=i.util.object.extend,a="stateProperties";function h(s,l,o){var c={},v=!0;o.forEach(function(f){c[f]=s[f]}),d(s[l],c,v)}function g(s,l,o){if(s===l)return!0;if(Array.isArray(s)){if(!Array.isArray(l)||s.length!==l.length)return!1;for(var c=0,v=s.length;c<v;c++)if(!g(s[c],l[c]))return!1;return!0}else if(s&&typeof s=="object"){var f=Object.keys(s),y;if(!l||typeof l!="object"||!o&&f.length!==Object.keys(l).length)return!1;for(var c=0,v=f.length;c<v;c++)if(y=f[c],!(y==="canvas"||y==="group")&&!g(s[y],l[y]))return!1;return!0}}i.util.object.extend(i.Object.prototype,{hasStateChanged:function(s){s=s||a;var l="_"+s;return Object.keys(this[l]).length<this[s].length?!0:!g(this[l],this,!0)},saveState:function(s){var l=s&&s.propertySet||a,o="_"+l;return this[o]?(h(this,o,this[l]),s&&s.stateProperties&&h(this,o,s.stateProperties),this):this.setupState(s)},setupState:function(s){s=s||{};var l=s.propertySet||a;return s.propertySet=l,this["_"+l]={},this.saveState(s),this}})}(),function(){var d=i.util.degreesToRadians;i.util.object.extend(i.Object.prototype,{_findTargetCorner:function(a,h){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var g=a.x,s=a.y,l,o,c=Object.keys(this.oCoords),v=c.length-1,f;for(this.__corner=0;v>=0;v--)if(f=c[v],!!this.isControlVisible(f)&&(o=this._getImageLines(h?this.oCoords[f].touchCorner:this.oCoords[f].corner),l=this._findCrossPoints({x:g,y:s},o),l!==0&&l%2===1))return this.__corner=f,f;return!1},forEachControl:function(a){for(var h in this.controls)a(this.controls[h],h,this)},_setCornerCoords:function(){var a=this.oCoords;for(var h in a){var g=this.controls[h];a[h].corner=g.calcCornerCoords(this.angle,this.cornerSize,a[h].x,a[h].y,!1),a[h].touchCorner=g.calcCornerCoords(this.angle,this.touchCornerSize,a[h].x,a[h].y,!0)}},drawSelectionBackground:function(a){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;a.save();var h=this.getCenterPoint(),g=this._calculateCurrentDimensions(),s=this.canvas.viewportTransform;return a.translate(h.x,h.y),a.scale(1/s[0],1/s[3]),a.rotate(d(this.angle)),a.fillStyle=this.selectionBackgroundColor,a.fillRect(-g.x/2,-g.y/2,g.x,g.y),a.restore(),this},drawBorders:function(a,h){h=h||{};var g=this._calculateCurrentDimensions(),s=this.borderScaleFactor,l=g.x+s,o=g.y+s,c=typeof h.hasControls<"u"?h.hasControls:this.hasControls,v=!1;return a.save(),a.strokeStyle=h.borderColor||this.borderColor,this._setLineDash(a,h.borderDashArray||this.borderDashArray),a.strokeRect(-l/2,-o/2,l,o),c&&(a.beginPath(),this.forEachControl(function(f,y,x){f.withConnection&&f.getVisibility(x,y)&&(v=!0,a.moveTo(f.x*l,f.y*o),a.lineTo(f.x*l+f.offsetX,f.y*o+f.offsetY))}),v&&a.stroke()),a.restore(),this},drawBordersInGroup:function(a,h,g){g=g||{};var s=i.util.sizeAfterTransform(this.width,this.height,h),l=this.strokeWidth,o=this.strokeUniform,c=this.borderScaleFactor,v=s.x+l*(o?this.canvas.getZoom():h.scaleX)+c,f=s.y+l*(o?this.canvas.getZoom():h.scaleY)+c;return a.save(),this._setLineDash(a,g.borderDashArray||this.borderDashArray),a.strokeStyle=g.borderColor||this.borderColor,a.strokeRect(-v/2,-f/2,v,f),a.restore(),this},drawControls:function(a,h){h=h||{},a.save();var g=this.canvas.getRetinaScaling(),s,l;return a.setTransform(g,0,0,g,0,0),a.strokeStyle=a.fillStyle=h.cornerColor||this.cornerColor,this.transparentCorners||(a.strokeStyle=h.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(a,h.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(s=this.group.calcTransformMatrix()),this.forEachControl(function(o,c,v){l=v.oCoords[c],o.getVisibility(v,c)&&(s&&(l=i.util.transformPoint(l,s)),o.render(a,l.x,l.y,h,v))}),a.restore(),this},isControlVisible:function(a){return this.controls[a]&&this.controls[a].getVisibility(this,a)},setControlVisible:function(a,h){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[a]=h,this},setControlsVisibility:function(a){a||(a={});for(var h in a)this.setControlVisible(h,a[h]);return this},onDeselect:function(){},onSelect:function(){}})}(),i.util.object.extend(i.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(d,a){a=a||{};var h=function(){},g=a.onComplete||h,s=a.onChange||h,l=this;return i.util.animate({startValue:d.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(o){d.set("left",o),l.requestRenderAll(),s()},onComplete:function(){d.setCoords(),g()}}),this},fxCenterObjectV:function(d,a){a=a||{};var h=function(){},g=a.onComplete||h,s=a.onChange||h,l=this;return i.util.animate({startValue:d.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(o){d.set("top",o),l.requestRenderAll(),s()},onComplete:function(){d.setCoords(),g()}}),this},fxRemove:function(d,a){a=a||{};var h=function(){},g=a.onComplete||h,s=a.onChange||h,l=this;return i.util.animate({startValue:d.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(o){d.set("opacity",o),l.requestRenderAll(),s()},onComplete:function(){l.remove(d),g()}}),this}}),i.util.object.extend(i.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var d=[],a,h;for(a in arguments[0])d.push(a);for(var g=0,s=d.length;g<s;g++)a=d[g],h=g!==s-1,this._animate(a,arguments[0][a],arguments[1],h)}else this._animate.apply(this,arguments);return this},_animate:function(d,a,h,g){var s=this,l;a=a.toString(),h?h=i.util.object.clone(h):h={},~d.indexOf(".")&&(l=d.split("."));var o=s.colorProperties.indexOf(d)>-1||l&&s.colorProperties.indexOf(l[1])>-1,c=l?this.get(l[0])[l[1]]:this.get(d);"from"in h||(h.from=c),o||(~a.indexOf("=")?a=c+parseFloat(a.replace("=","")):a=parseFloat(a));var v={startValue:h.from,endValue:a,byValue:h.by,easing:h.easing,duration:h.duration,abort:h.abort&&function(f,y,x){return h.abort.call(s,f,y,x)},onChange:function(f,y,x){l?s[l[0]][l[1]]=f:s.set(d,f),!g&&h.onChange&&h.onChange(f,y,x)},onComplete:function(f,y,x){g||(s.setCoords(),h.onComplete&&h.onComplete(f,y,x))}};return o?i.util.animateColor(v.startValue,v.endValue,v.duration,v):i.util.animate(v)}}),function(d){var a=d.fabric||(d.fabric={}),h=a.util.object.extend,g=a.util.object.clone,s={x1:1,x2:1,y1:1,y2:1};if(a.Line){a.warn("fabric.Line is already defined");return}a.Line=a.util.createClass(a.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:a.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(o,c){o||(o=[0,0,0,0]),this.callSuper("initialize",c),this.set("x1",o[0]),this.set("y1",o[1]),this.set("x2",o[2]),this.set("y2",o[3]),this._setWidthHeight(c)},_setWidthHeight:function(o){o||(o={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in o?o.left:this._getLeftToOriginX(),this.top="top"in o?o.top:this._getTopToOriginY()},_set:function(o,c){return this.callSuper("_set",o,c),typeof s[o]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:l({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:l({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(o){o.beginPath();var c=this.calcLinePoints();o.moveTo(c.x1,c.y1),o.lineTo(c.x2,c.y2),o.lineWidth=this.strokeWidth;var v=o.strokeStyle;o.strokeStyle=this.stroke||o.fillStyle,this.stroke&&this._renderStroke(o),o.strokeStyle=v},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(o){return h(this.callSuper("toObject",o),this.calcLinePoints())},_getNonTransformedDimensions:function(){var o=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(o.y-=this.strokeWidth),this.height===0&&(o.x-=this.strokeWidth)),o},calcLinePoints:function(){var o=this.x1<=this.x2?-1:1,c=this.y1<=this.y2?-1:1,v=o*this.width*.5,f=c*this.height*.5,y=o*this.width*-.5,x=c*this.height*-.5;return{x1:v,x2:y,y1:f,y2:x}},_toSVG:function(){var o=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',o.x1,'" y1="',o.y1,'" x2="',o.x2,'" y2="',o.y2,`" />
`]}}),a.Line.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),a.Line.fromElement=function(o,c,v){v=v||{};var f=a.parseAttributes(o,a.Line.ATTRIBUTE_NAMES),y=[f.x1||0,f.y1||0,f.x2||0,f.y2||0];c(new a.Line(y,h(f,v)))},a.Line.fromObject=function(o,c){function v(y){delete y.points,c&&c(y)}var f=g(o,!0);f.points=[o.x1,o.y1,o.x2,o.y2],a.Object._fromObject("Line",f,v,"points")};function l(o,c){var v=o.origin,f=o.axis1,y=o.axis2,x=o.dimension,_=c.nearest,T=c.center,E=c.farthest;return function(){switch(this.get(v)){case _:return Math.min(this.get(f),this.get(y));case T:return Math.min(this.get(f),this.get(y))+.5*this.get(x);case E:return Math.max(this.get(f),this.get(y))}}}}(r),function(d){var a=d.fabric||(d.fabric={}),h=Math.PI;if(a.Circle){a.warn("fabric.Circle is already defined.");return}a.Circle=a.util.createClass(a.Object,{type:"circle",radius:0,startAngle:0,endAngle:h*2,cacheProperties:a.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(s,l){return this.callSuper("_set",s,l),s==="radius"&&this.setRadius(l),this},toObject:function(s){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(s))},_toSVG:function(){var s,l=0,o=0,c=(this.endAngle-this.startAngle)%(2*h);if(c===0)s=["<circle ","COMMON_PARTS",'cx="'+l+'" cy="'+o+'" ','r="',this.radius,`" />
`];else{var v=a.util.cos(this.startAngle)*this.radius,f=a.util.sin(this.startAngle)*this.radius,y=a.util.cos(this.endAngle)*this.radius,x=a.util.sin(this.endAngle)*this.radius,_=c>h?"1":"0";s=['<path d="M '+v+" "+f," A "+this.radius+" "+this.radius," 0 ",+_+" 1"," "+y+" "+x,'" ',"COMMON_PARTS",` />
`]}return s},_render:function(s){s.beginPath(),s.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(s)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(s){return this.radius=s,this.set("width",s*2).set("height",s*2)}}),a.Circle.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),a.Circle.fromElement=function(s,l){var o=a.parseAttributes(s,a.Circle.ATTRIBUTE_NAMES);if(!g(o))throw new Error("value of `r` attribute is required and can not be negative");o.left=(o.left||0)-o.radius,o.top=(o.top||0)-o.radius,l(new a.Circle(o))};function g(s){return"radius"in s&&s.radius>=0}a.Circle.fromObject=function(s,l){a.Object._fromObject("Circle",s,l)}}(r),function(d){var a=d.fabric||(d.fabric={});if(a.Triangle){a.warn("fabric.Triangle is already defined");return}a.Triangle=a.util.createClass(a.Object,{type:"triangle",width:100,height:100,_render:function(h){var g=this.width/2,s=this.height/2;h.beginPath(),h.moveTo(-g,s),h.lineTo(0,-s),h.lineTo(g,s),h.closePath(),this._renderPaintInOrder(h)},_toSVG:function(){var h=this.width/2,g=this.height/2,s=[-h+" "+g,"0 "+-g,h+" "+g].join(",");return["<polygon ","COMMON_PARTS",'points="',s,'" />']}}),a.Triangle.fromObject=function(h,g){return a.Object._fromObject("Triangle",h,g)}}(r),function(d){var a=d.fabric||(d.fabric={}),h=Math.PI*2;if(a.Ellipse){a.warn("fabric.Ellipse is already defined.");return}a.Ellipse=a.util.createClass(a.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:a.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(g){this.callSuper("initialize",g),this.set("rx",g&&g.rx||0),this.set("ry",g&&g.ry||0)},_set:function(g,s){switch(this.callSuper("_set",g,s),g){case"rx":this.rx=s,this.set("width",s*2);break;case"ry":this.ry=s,this.set("height",s*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(g){return this.callSuper("toObject",["rx","ry"].concat(g))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(g){g.beginPath(),g.save(),g.transform(1,0,0,this.ry/this.rx,0,0),g.arc(0,0,this.rx,0,h,!1),g.restore(),this._renderPaintInOrder(g)}}),a.Ellipse.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),a.Ellipse.fromElement=function(g,s){var l=a.parseAttributes(g,a.Ellipse.ATTRIBUTE_NAMES);l.left=(l.left||0)-l.rx,l.top=(l.top||0)-l.ry,s(new a.Ellipse(l))},a.Ellipse.fromObject=function(g,s){a.Object._fromObject("Ellipse",g,s)}}(r),function(d){var a=d.fabric||(d.fabric={}),h=a.util.object.extend;if(a.Rect){a.warn("fabric.Rect is already defined");return}a.Rect=a.util.createClass(a.Object,{stateProperties:a.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:a.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(g){this.callSuper("initialize",g),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(g){var s=this.rx?Math.min(this.rx,this.width/2):0,l=this.ry?Math.min(this.ry,this.height/2):0,o=this.width,c=this.height,v=-this.width/2,f=-this.height/2,y=s!==0||l!==0,x=1-.5522847498;g.beginPath(),g.moveTo(v+s,f),g.lineTo(v+o-s,f),y&&g.bezierCurveTo(v+o-x*s,f,v+o,f+x*l,v+o,f+l),g.lineTo(v+o,f+c-l),y&&g.bezierCurveTo(v+o,f+c-x*l,v+o-x*s,f+c,v+o-s,f+c),g.lineTo(v+s,f+c),y&&g.bezierCurveTo(v+x*s,f+c,v,f+c-x*l,v,f+c-l),g.lineTo(v,f+l),y&&g.bezierCurveTo(v,f+x*l,v+x*s,f,v+s,f),g.closePath(),this._renderPaintInOrder(g)},toObject:function(g){return this.callSuper("toObject",["rx","ry"].concat(g))},_toSVG:function(){var g=-this.width/2,s=-this.height/2;return["<rect ","COMMON_PARTS",'x="',g,'" y="',s,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),a.Rect.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),a.Rect.fromElement=function(g,s,l){if(!g)return s(null);l=l||{};var o=a.parseAttributes(g,a.Rect.ATTRIBUTE_NAMES);o.left=o.left||0,o.top=o.top||0,o.height=o.height||0,o.width=o.width||0;var c=new a.Rect(h(l?a.util.object.clone(l):{},o));c.visible=c.visible&&c.width>0&&c.height>0,s(c)},a.Rect.fromObject=function(g,s){return a.Object._fromObject("Rect",g,s)}}(r),function(d){var a=d.fabric||(d.fabric={}),h=a.util.object.extend,g=a.util.array.min,s=a.util.array.max,l=a.util.toFixed;if(a.Polyline){a.warn("fabric.Polyline is already defined");return}a.Polyline=a.util.createClass(a.Object,{type:"polyline",points:null,cacheProperties:a.Object.prototype.cacheProperties.concat("points"),initialize:function(o,c){c=c||{},this.points=o||[],this.callSuper("initialize",c),this._setPositionDimensions(c)},_setPositionDimensions:function(o){var c=this._calcDimensions(o),v;this.width=c.width,this.height=c.height,o.fromSVG||(v=this.translateToGivenOrigin({x:c.left-this.strokeWidth/2,y:c.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),typeof o.left>"u"&&(this.left=o.fromSVG?c.left:v.x),typeof o.top>"u"&&(this.top=o.fromSVG?c.top:v.y),this.pathOffset={x:c.left+this.width/2,y:c.top+this.height/2}},_calcDimensions:function(){var o=this.points,c=g(o,"x")||0,v=g(o,"y")||0,f=s(o,"x")||0,y=s(o,"y")||0,x=f-c,_=y-v;return{left:c,top:v,width:x,height:_}},toObject:function(o){return h(this.callSuper("toObject",o),{points:this.points.concat()})},_toSVG:function(){for(var o=[],c=this.pathOffset.x,v=this.pathOffset.y,f=a.Object.NUM_FRACTION_DIGITS,y=0,x=this.points.length;y<x;y++)o.push(l(this.points[y].x-c,f),",",l(this.points[y].y-v,f)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',o.join(""),`" />
`]},commonRender:function(o){var c,v=this.points.length,f=this.pathOffset.x,y=this.pathOffset.y;if(!v||isNaN(this.points[v-1].y))return!1;o.beginPath(),o.moveTo(this.points[0].x-f,this.points[0].y-y);for(var x=0;x<v;x++)c=this.points[x],o.lineTo(c.x-f,c.y-y);return!0},_render:function(o){this.commonRender(o)&&this._renderPaintInOrder(o)},complexity:function(){return this.get("points").length}}),a.Polyline.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(),a.Polyline.fromElementGenerator=function(o){return function(c,v,f){if(!c)return v(null);f||(f={});var y=a.parsePointsAttribute(c.getAttribute("points")),x=a.parseAttributes(c,a[o].ATTRIBUTE_NAMES);x.fromSVG=!0,v(new a[o](y,h(x,f)))}},a.Polyline.fromElement=a.Polyline.fromElementGenerator("Polyline"),a.Polyline.fromObject=function(o,c){return a.Object._fromObject("Polyline",o,c,"points")}}(r),function(d){var a=d.fabric||(d.fabric={});if(a.Polygon){a.warn("fabric.Polygon is already defined");return}a.Polygon=a.util.createClass(a.Polyline,{type:"polygon",_render:function(h){this.commonRender(h)&&(h.closePath(),this._renderPaintInOrder(h))}}),a.Polygon.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(),a.Polygon.fromElement=a.Polyline.fromElementGenerator("Polygon"),a.Polygon.fromObject=function(h,g){a.Object._fromObject("Polygon",h,g,"points")}}(r),function(d){var a=d.fabric||(d.fabric={}),h=a.util.array.min,g=a.util.array.max,s=a.util.object.extend,l=Object.prototype.toString,o=a.util.toFixed;if(a.Path){a.warn("fabric.Path is already defined");return}a.Path=a.util.createClass(a.Object,{type:"path",path:null,cacheProperties:a.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:a.Object.prototype.stateProperties.concat("path"),initialize:function(c,v){v=v||{},this.callSuper("initialize",v),c||(c=[]);var f=l.call(c)==="[object Array]";this.path=a.util.makePathSimpler(f?c:a.util.parsePath(c)),this.path&&a.Polyline.prototype._setPositionDimensions.call(this,v)},_renderPathCommands:function(c){var v,f=0,y=0,x=0,_=0,T=0,E=0,A=-this.pathOffset.x,k=-this.pathOffset.y;c.beginPath();for(var z=0,I=this.path.length;z<I;++z)switch(v=this.path[z],v[0]){case"L":x=v[1],_=v[2],c.lineTo(x+A,_+k);break;case"M":x=v[1],_=v[2],f=x,y=_,c.moveTo(x+A,_+k);break;case"C":x=v[5],_=v[6],T=v[3],E=v[4],c.bezierCurveTo(v[1]+A,v[2]+k,T+A,E+k,x+A,_+k);break;case"Q":c.quadraticCurveTo(v[1]+A,v[2]+k,v[3]+A,v[4]+k),x=v[3],_=v[4],T=v[1],E=v[2];break;case"z":case"Z":x=f,_=y,c.closePath();break}},_render:function(c){this._renderPathCommands(c),this._renderPaintInOrder(c)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(c){return s(this.callSuper("toObject",c),{path:this.path.map(function(v){return v.slice()})})},toDatalessObject:function(c){var v=this.toObject(["sourcePath"].concat(c));return v.sourcePath&&delete v.path,v},_toSVG:function(){var c=a.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',c,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var c=a.Object.NUM_FRACTION_DIGITS;return" translate("+o(-this.pathOffset.x,c)+", "+o(-this.pathOffset.y,c)+")"},toClipPathSVG:function(c){var v=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:c,additionalTransform:v})},toSVG:function(c){var v=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:c,additionalTransform:v})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var c=[],v=[],f,y=0,x=0,_=0,T=0,E,A=0,k=this.path.length;A<k;++A){switch(f=this.path[A],f[0]){case"L":_=f[1],T=f[2],E=[];break;case"M":_=f[1],T=f[2],y=_,x=T,E=[];break;case"C":E=a.util.getBoundsOfCurve(_,T,f[1],f[2],f[3],f[4],f[5],f[6]),_=f[5],T=f[6];break;case"Q":E=a.util.getBoundsOfCurve(_,T,f[1],f[2],f[1],f[2],f[3],f[4]),_=f[3],T=f[4];break;case"z":case"Z":_=y,T=x;break}E.forEach(function($){c.push($.x),v.push($.y)}),c.push(_),v.push(T)}var z=h(c)||0,I=h(v)||0,D=g(c)||0,q=g(v)||0,st=D-z,Z=q-I;return{left:z,top:I,width:st,height:Z}}}),a.Path.fromObject=function(c,v){if(typeof c.sourcePath=="string"){var f=c.sourcePath;a.loadSVGFromURL(f,function(y){var x=y[0];x.setOptions(c),v&&v(x)})}else a.Object._fromObject("Path",c,v,"path")},a.Path.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(["d"]),a.Path.fromElement=function(c,v,f){var y=a.parseAttributes(c,a.Path.ATTRIBUTE_NAMES);y.fromSVG=!0,v(new a.Path(y.d,s(y,f)))}}(r),function(d){var a=d.fabric||(d.fabric={}),h=a.util.array.min,g=a.util.array.max;a.Group||(a.Group=a.util.createClass(a.Object,a.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(s,l,o){l=l||{},this._objects=[],o&&this.callSuper("initialize",l),this._objects=s||[];for(var c=this._objects.length;c--;)this._objects[c].group=this;if(o)this._updateObjectsACoords();else{var v=l&&l.centerPoint;l.originX!==void 0&&(this.originX=l.originX),l.originY!==void 0&&(this.originY=l.originY),v||this._calcBounds(),this._updateObjectsCoords(v),delete l.centerPoint,this.callSuper("initialize",l)}this.setCoords()},_updateObjectsACoords:function(){for(var s=!0,l=this._objects.length;l--;)this._objects[l].setCoords(s)},_updateObjectsCoords:function(l){for(var l=l||this.getCenterPoint(),o=this._objects.length;o--;)this._updateObjectCoords(this._objects[o],l)},_updateObjectCoords:function(s,l){var o=s.left,c=s.top,v=!0;s.set({left:o-l.x,top:c-l.y}),s.group=this,s.setCoords(v)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(s){var l=!!this.group;return this._restoreObjectsState(),a.util.resetObjectTransform(this),s&&(l&&a.util.removeTransformFromObject(s,this.group.calcTransformMatrix()),this._objects.push(s),s.group=this,s._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,l?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(s){return this._restoreObjectsState(),a.util.resetObjectTransform(this),this.remove(s),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(s){this.dirty=!0,s.group=this,s._set("canvas",this.canvas)},_onObjectRemoved:function(s){this.dirty=!0,delete s.group},_set:function(s,l){var o=this._objects.length;if(this.useSetOnGroup)for(;o--;)this._objects[o].setOnGroup(s,l);if(s==="canvas")for(;o--;)this._objects[o]._set(s,l);a.Object.prototype._set.call(this,s,l)},toObject:function(s){var l=this.includeDefaultValues,o=this._objects.filter(function(v){return!v.excludeFromExport}).map(function(v){var f=v.includeDefaultValues;v.includeDefaultValues=l;var y=v.toObject(s);return v.includeDefaultValues=f,y}),c=a.Object.prototype.toObject.call(this,s);return c.objects=o,c},toDatalessObject:function(s){var l,o=this.sourcePath;if(o)l=o;else{var c=this.includeDefaultValues;l=this._objects.map(function(f){var y=f.includeDefaultValues;f.includeDefaultValues=c;var x=f.toDatalessObject(s);return f.includeDefaultValues=y,x})}var v=a.Object.prototype.toDatalessObject.call(this,s);return v.objects=l,v},render:function(s){this._transformDone=!0,this.callSuper("render",s),this._transformDone=!1},shouldCache:function(){var s=a.Object.prototype.shouldCache.call(this);if(s){for(var l=0,o=this._objects.length;l<o;l++)if(this._objects[l].willDrawShadow())return this.ownCaching=!1,!1}return s},willDrawShadow:function(){if(a.Object.prototype.willDrawShadow.call(this))return!0;for(var s=0,l=this._objects.length;s<l;s++)if(this._objects[s].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(s){for(var l=0,o=this._objects.length;l<o;l++)this._objects[l].render(s);this._drawClipPath(s)},isCacheDirty:function(s){if(this.callSuper("isCacheDirty",s))return!0;if(!this.statefullCache)return!1;for(var l=0,o=this._objects.length;l<o;l++)if(this._objects[l].isCacheDirty(!0)){if(this._cacheCanvas){var c=this.cacheWidth/this.zoomX,v=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-c/2,-v/2,c,v)}return!0}return!1},_restoreObjectsState:function(){var s=this.calcOwnMatrix();return this._objects.forEach(function(l){a.util.addTransformToObject(l,s),delete l.group,l.setCoords()}),this},realizeTransform:function(s,l){return a.util.addTransformToObject(s,l),s},destroy:function(){return this._objects.forEach(function(s){s.set("dirty",!0)}),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var s=this._objects,l=this.canvas;this._objects=[];var o=this.toObject();delete o.objects;var c=new a.ActiveSelection([]);return c.set(o),c.type="activeSelection",l.remove(this),s.forEach(function(v){v.group=c,v.dirty=!0,l.add(v)}),c.canvas=l,c._objects=s,l._activeObject=c,c.setCoords(),c}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var s=!0;return this.forEachObject(function(l){l.setCoords(s)}),this},_calcBounds:function(s){for(var l=[],o=[],c,v,f,y=["tr","br","bl","tl"],x=0,_=this._objects.length,T,E=y.length;x<_;++x){for(c=this._objects[x],f=c.calcACoords(),T=0;T<E;T++)v=y[T],l.push(f[v].x),o.push(f[v].y);c.aCoords=f}this._getBounds(l,o,s)},_getBounds:function(s,l,o){var c=new a.Point(h(s),h(l)),v=new a.Point(g(s),g(l)),f=c.y||0,y=c.x||0,x=v.x-c.x||0,_=v.y-c.y||0;this.width=x,this.height=_,o||this.setPositionByOrigin({x:y,y:f},"left","top")},_toSVG:function(s){for(var l=["<g ","COMMON_PARTS",` >
`],o=0,c=this._objects.length;o<c;o++)l.push("		",this._objects[o].toSVG(s));return l.push(`</g>
`),l},getSvgStyles:function(){var s=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",l=this.visible?"":" visibility: hidden;";return[s,this.getSvgFilter(),l].join("")},toClipPathSVG:function(s){for(var l=[],o=0,c=this._objects.length;o<c;o++)l.push("	",this._objects[o].toClipPathSVG(s));return this._createBaseClipPathSVGMarkup(l,{reviver:s})}}),a.Group.fromObject=function(s,l){var o=s.objects,c=a.util.object.clone(s,!0);if(delete c.objects,typeof o=="string"){a.loadSVGFromURL(o,function(v){var f=a.util.groupSVGElements(v,s,o);f.set(c),l&&l(f)});return}a.util.enlivenObjects(o,function(v){a.util.enlivenObjects([s.clipPath],function(f){var y=a.util.object.clone(s,!0);y.clipPath=f[0],delete y.objects,l&&l(new a.Group(v,y,!0))})})})}(r),function(d){var a=d.fabric||(d.fabric={});a.ActiveSelection||(a.ActiveSelection=a.util.createClass(a.Group,{type:"activeSelection",initialize:function(h,g){g=g||{},this._objects=h||[];for(var s=this._objects.length;s--;)this._objects[s].group=this;g.originX&&(this.originX=g.originX),g.originY&&(this.originY=g.originY),this._calcBounds(),this._updateObjectsCoords(),a.Object.prototype.initialize.call(this,g),this.setCoords()},toGroup:function(){var h=this._objects.concat();this._objects=[];var g=a.Object.prototype.toObject.call(this),s=new a.Group([]);if(delete g.type,s.set(g),h.forEach(function(o){o.canvas.remove(o),o.group=s}),s._objects=h,!this.canvas)return s;var l=this.canvas;return l.add(s),l._activeObject=s,s.setCoords(),s},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(h,g,s){h.save(),h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",h,g),s=s||{},typeof s.hasControls>"u"&&(s.hasControls=!1),s.forActiveSelection=!0;for(var l=0,o=this._objects.length;l<o;l++)this._objects[l]._renderControls(h,s);h.restore()}}),a.ActiveSelection.fromObject=function(h,g){a.util.enlivenObjects(h.objects,function(s){delete h.objects,g&&g(new a.ActiveSelection(s,h,!0))})})}(r),function(d){var a=i.util.object.extend;if(d.fabric||(d.fabric={}),d.fabric.Image){i.warn("fabric.Image is already defined.");return}i.Image=i.util.createClass(i.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:i.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:i.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(h,g){g||(g={}),this.filters=[],this.cacheKey="texture"+i.Object.__uid++,this.callSuper("initialize",g),this._initElement(h,g)},getElement:function(){return this._element||{}},setElement:function(h,g){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=h,this._originalElement=h,this._initConfig(g),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(h){var g=i.filterBackend;g&&g.evictCachesForKey&&g.evictCachesForKey(h)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(h){i.util.cleanUpJsdomNode(this[h]),this[h]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var h=this.getElement();return{width:h.naturalWidth||h.width,height:h.naturalHeight||h.height}},_stroke:function(h){if(!(!this.stroke||this.strokeWidth===0)){var g=this.width/2,s=this.height/2;h.beginPath(),h.moveTo(-g,-s),h.lineTo(g,-s),h.lineTo(g,s),h.lineTo(-g,s),h.lineTo(-g,-s),h.closePath()}},toObject:function(h){var g=[];this.filters.forEach(function(l){l&&g.push(l.toObject())});var s=a(this.callSuper("toObject",["cropX","cropY"].concat(h)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:g});return this.resizeFilter&&(s.resizeFilter=this.resizeFilter.toObject()),s},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var h=[],g=[],s,l=this._element,o=-this.width/2,c=-this.height/2,v="",f="";if(!l)return[];if(this.hasCrop()){var y=i.Object.__uid++;h.push('<clipPath id="imageCrop_'+y+`">
`,'	<rect x="'+o+'" y="'+c+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),v=' clip-path="url(#imageCrop_'+y+')" '}if(this.imageSmoothing||(f='" image-rendering="optimizeSpeed'),g.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',o-this.cropX,'" y="',c-this.cropY,'" width="',l.width||l.naturalWidth,'" height="',l.height||l.height,f,'"',v,`></image>
`),this.stroke||this.strokeDashArray){var x=this.fill;this.fill=null,s=["	<rect ",'x="',o,'" y="',c,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=x}return this.paintFirst!=="fill"?h=h.concat(s,g):h=h.concat(g,s),h},getSrc:function(h){var g=h?this._element:this._originalElement;return g?g.toDataURL?g.toDataURL():this.srcFromAttribute?g.getAttribute("src"):g.src:this.src||""},setSrc:function(h,g,s){return i.util.loadImage(h,function(l,o){this.setElement(l,s),this._setWidthHeight(),g&&g(this,o)},this,s&&s.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var h=this.resizeFilter,g=this.minimumScaleTrigger,s=this.getTotalObjectScaling(),l=s.scaleX,o=s.scaleY,c=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!h||l>g&&o>g){this._element=c,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=l,this._lastScaleY=o;return}i.filterBackend||(i.filterBackend=i.initFilterBackend());var v=i.util.createCanvasElement(),f=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,y=c.width,x=c.height;v.width=y,v.height=x,this._element=v,this._lastScaleX=h.scaleX=l,this._lastScaleY=h.scaleY=o,i.filterBackend.applyFilters([h],c,y,x,this._element,f),this._filterScalingX=v.width/this._originalElement.width,this._filterScalingY=v.height/this._originalElement.height},applyFilters:function(h){if(h=h||this.filters||[],h=h.filter(function(c){return c&&!c.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),h.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var g=this._originalElement,s=g.naturalWidth||g.width,l=g.naturalHeight||g.height;if(this._element===this._originalElement){var o=i.util.createCanvasElement();o.width=s,o.height=l,this._element=o,this._filteredEl=o}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,s,l),this._lastScaleX=1,this._lastScaleY=1;return i.filterBackend||(i.filterBackend=i.initFilterBackend()),i.filterBackend.applyFilters(h,this._originalElement,s,l,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(h){i.util.setImageSmoothing(h,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(h),this._renderPaintInOrder(h)},drawCacheOnCanvas:function(h){i.util.setImageSmoothing(h,this.imageSmoothing),i.Object.prototype.drawCacheOnCanvas.call(this,h)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(h){var g=this._element;if(g){var s=this._filterScalingX,l=this._filterScalingY,o=this.width,c=this.height,v=Math.min,f=Math.max,y=f(this.cropX,0),x=f(this.cropY,0),_=g.naturalWidth||g.width,T=g.naturalHeight||g.height,E=y*s,A=x*l,k=v(o*s,_-E),z=v(c*l,T-A),I=-o/2,D=-c/2,q=v(o,_/s-y),st=v(c,T/l-x);g&&h.drawImage(g,E,A,k,z,I,D,q,st)}},_needsResize:function(){var h=this.getTotalObjectScaling();return h.scaleX!==this._lastScaleX||h.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(h,g){this.setElement(i.util.getById(h),g),i.util.addClass(this.getElement(),i.Image.CSS_CANVAS)},_initConfig:function(h){h||(h={}),this.setOptions(h),this._setWidthHeight(h)},_initFilters:function(h,g){h&&h.length?i.util.enlivenObjects(h,function(s){g&&g(s)},"fabric.Image.filters"):g&&g()},_setWidthHeight:function(h){h||(h={});var g=this.getElement();this.width=h.width||g.naturalWidth||g.width||0,this.height=h.height||g.naturalHeight||g.height||0},parsePreserveAspectRatioAttribute:function(){var h=i.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),g=this._element.width,s=this._element.height,l=1,o=1,c=0,v=0,f=0,y=0,x,_=this.width,T=this.height,E={width:_,height:T};return h&&(h.alignX!=="none"||h.alignY!=="none")?(h.meetOrSlice==="meet"&&(l=o=i.util.findScaleToFit(this._element,E),x=(_-g*l)/2,h.alignX==="Min"&&(c=-x),h.alignX==="Max"&&(c=x),x=(T-s*o)/2,h.alignY==="Min"&&(v=-x),h.alignY==="Max"&&(v=x)),h.meetOrSlice==="slice"&&(l=o=i.util.findScaleToCover(this._element,E),x=g-_/l,h.alignX==="Mid"&&(f=x/2),h.alignX==="Max"&&(f=x),x=s-T/o,h.alignY==="Mid"&&(y=x/2),h.alignY==="Max"&&(y=x),g=_/l,s=T/o)):(l=_/g,o=T/s),{width:g,height:s,scaleX:l,scaleY:o,offsetLeft:c,offsetTop:v,cropX:f,cropY:y}}}),i.Image.CSS_CANVAS="canvas-img",i.Image.prototype.getSvgSrc=i.Image.prototype.getSrc,i.Image.fromObject=function(h,g){var s=i.util.object.clone(h);i.util.loadImage(s.src,function(l,o){if(o){g&&g(null,!0);return}i.Image.prototype._initFilters.call(s,s.filters,function(c){s.filters=c||[],i.Image.prototype._initFilters.call(s,[s.resizeFilter],function(v){s.resizeFilter=v[0],i.util.enlivenObjects([s.clipPath],function(f){s.clipPath=f[0];var y=new i.Image(l,s);g(y,!1)})})})},null,s.crossOrigin)},i.Image.fromURL=function(h,g,s){i.util.loadImage(h,function(l,o){g&&g(new i.Image(l,s),o)},null,s&&s.crossOrigin)},i.Image.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),i.Image.fromElement=function(h,g,s){var l=i.parseAttributes(h,i.Image.ATTRIBUTE_NAMES);i.Image.fromURL(l["xlink:href"],g,a(s?i.util.object.clone(s):{},l))}}(r),i.util.object.extend(i.Object.prototype,{_getAngleValueForStraighten:function(){var d=this.angle%360;return d>0?Math.round((d-1)/90)*90:Math.round(d/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(d){d=d||{};var a=function(){},h=d.onComplete||a,g=d.onChange||a,s=this;return i.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(l){s.rotate(l),g()},onComplete:function(){s.setCoords(),h()}}),this}}),i.util.object.extend(i.StaticCanvas.prototype,{straightenObject:function(d){return d.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(d){return d.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){function d(h,g){var s="precision "+g+` float;
void main(){}`,l=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(l,s),h.compileShader(l),!!h.getShaderParameter(l,h.COMPILE_STATUS)}i.isWebglSupported=function(h){if(i.isLikelyNode)return!1;h=h||i.WebglFilterBackend.prototype.tileSize;var g=document.createElement("canvas"),s=g.getContext("webgl")||g.getContext("experimental-webgl"),l=!1;if(s){i.maxTextureSize=s.getParameter(s.MAX_TEXTURE_SIZE),l=i.maxTextureSize>=h;for(var o=["highp","mediump","lowp"],c=0;c<3;c++)if(d(s,o[c])){i.webGlPrecision=o[c];break}}return this.isSupported=l,l},i.WebglFilterBackend=a;function a(h){h&&h.tileSize&&(this.tileSize=h.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}a.prototype={tileSize:2048,resources:{},setupGLContext:function(h,g){this.dispose(),this.createWebGLCanvas(h,g),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(h,g)},chooseFastestCopyGLTo2DMethod:function(h,g){var s=typeof window.performance<"u",l;try{new ImageData(1,1),l=!0}catch{l=!1}var o=typeof ArrayBuffer<"u",c=typeof Uint8ClampedArray<"u";if(s&&l&&o&&c){var v=i.util.createCanvasElement(),f=new ArrayBuffer(h*g*4);if(i.forceGLPutImageData){this.imageBuffer=f,this.copyGLTo2D=O;return}var y={imageBuffer:f,destinationWidth:h,destinationHeight:g,targetCanvas:v},x,_,T;v.width=h,v.height=g,x=window.performance.now(),C.call(y,this.gl,y),_=window.performance.now()-x,x=window.performance.now(),O.call(y,this.gl,y),T=window.performance.now()-x,_>T?(this.imageBuffer=f,this.copyGLTo2D=O):this.copyGLTo2D=C}},createWebGLCanvas:function(h,g){var s=i.util.createCanvasElement();s.width=h,s.height=g;var l={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},o=s.getContext("webgl",l);o||(o=s.getContext("experimental-webgl",l)),o&&(o.clearColor(0,0,0,0),this.canvas=s,this.gl=o)},applyFilters:function(h,g,s,l,o,c){var v=this.gl,f;c&&(f=this.getCachedTexture(c,g));var y={originalWidth:g.width||g.originalWidth,originalHeight:g.height||g.originalHeight,sourceWidth:s,sourceHeight:l,destinationWidth:s,destinationHeight:l,context:v,sourceTexture:this.createTexture(v,s,l,!f&&g),targetTexture:this.createTexture(v,s,l),originalTexture:f||this.createTexture(v,s,l,!f&&g),passes:h.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:o},x=v.createFramebuffer();return v.bindFramebuffer(v.FRAMEBUFFER,x),h.forEach(function(_){_&&_.applyTo(y)}),b(y),this.copyGLTo2D(v,y),v.bindTexture(v.TEXTURE_2D,null),v.deleteTexture(y.sourceTexture),v.deleteTexture(y.targetTexture),v.deleteFramebuffer(x),o.getContext("2d").setTransform(1,0,0,1,0,0),y},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(h,g,s,l){var o=h.createTexture();return h.bindTexture(h.TEXTURE_2D,o),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),l?h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,l):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,g,s,0,h.RGBA,h.UNSIGNED_BYTE,null),o},getCachedTexture:function(h,g){if(this.textureCache[h])return this.textureCache[h];var s=this.createTexture(this.gl,g.width,g.height,g);return this.textureCache[h]=s,s},evictCachesForKey:function(h){this.textureCache[h]&&(this.gl.deleteTexture(this.textureCache[h]),delete this.textureCache[h])},copyGLTo2D:C,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var h=this.gl,g={renderer:"",vendor:""};if(!h)return g;var s=h.getExtension("WEBGL_debug_renderer_info");if(s){var l=h.getParameter(s.UNMASKED_RENDERER_WEBGL),o=h.getParameter(s.UNMASKED_VENDOR_WEBGL);l&&(g.renderer=l.toLowerCase()),o&&(g.vendor=o.toLowerCase())}return this.gpuInfo=g,g}}}();function b(d){var a=d.targetCanvas,h=a.width,g=a.height,s=d.destinationWidth,l=d.destinationHeight;(h!==s||g!==l)&&(a.width=s,a.height=l)}function C(d,a){var h=d.canvas,g=a.targetCanvas,s=g.getContext("2d");s.translate(0,g.height),s.scale(1,-1);var l=h.height-g.height;s.drawImage(h,0,l,g.width,g.height,0,0,g.width,g.height)}function O(d,a){var h=a.targetCanvas,g=h.getContext("2d"),s=a.destinationWidth,l=a.destinationHeight,o=s*l*4,c=new Uint8Array(this.imageBuffer,0,o),v=new Uint8ClampedArray(this.imageBuffer,0,o);d.readPixels(0,0,s,l,d.RGBA,d.UNSIGNED_BYTE,c);var f=new ImageData(v,s,l);g.putImageData(f,0,0)}(function(){var d=function(){};i.Canvas2dFilterBackend=a;function a(){}a.prototype={evictCachesForKey:d,dispose:d,clearWebGLCaches:d,resources:{},applyFilters:function(h,g,s,l,o){var c=o.getContext("2d");c.drawImage(g,0,0,s,l);var v=c.getImageData(0,0,s,l),f=c.getImageData(0,0,s,l),y={sourceWidth:s,sourceHeight:l,imageData:v,originalEl:g,originalImageData:f,canvasEl:o,ctx:c,filterBackend:this};return h.forEach(function(x){x.applyTo(y)}),(y.imageData.width!==s||y.imageData.height!==l)&&(o.width=y.imageData.width,o.height=y.imageData.height),c.putImageData(y.imageData,0,0),y}}})(),i.Image=i.Image||{},i.Image.filters=i.Image.filters||{},i.Image.filters.BaseFilter=i.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(d){d&&this.setOptions(d)},setOptions:function(d){for(var a in d)this[a]=d[a]},createProgram:function(d,a,h){a=a||this.fragmentSource,h=h||this.vertexSource,i.webGlPrecision!=="highp"&&(a=a.replace(/precision highp float/g,"precision "+i.webGlPrecision+" float"));var g=d.createShader(d.VERTEX_SHADER);if(d.shaderSource(g,h),d.compileShader(g),!d.getShaderParameter(g,d.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+d.getShaderInfoLog(g));var s=d.createShader(d.FRAGMENT_SHADER);if(d.shaderSource(s,a),d.compileShader(s),!d.getShaderParameter(s,d.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+d.getShaderInfoLog(s));var l=d.createProgram();if(d.attachShader(l,g),d.attachShader(l,s),d.linkProgram(l),!d.getProgramParameter(l,d.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+d.getProgramInfoLog(l));var o=this.getAttributeLocations(d,l),c=this.getUniformLocations(d,l)||{};return c.uStepW=d.getUniformLocation(l,"uStepW"),c.uStepH=d.getUniformLocation(l,"uStepH"),{program:l,attributeLocations:o,uniformLocations:c}},getAttributeLocations:function(d,a){return{aPosition:d.getAttribLocation(a,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(d,a,h){var g=a.aPosition,s=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,s),d.enableVertexAttribArray(g),d.vertexAttribPointer(g,2,d.FLOAT,!1,0,0),d.bufferData(d.ARRAY_BUFFER,h,d.STATIC_DRAW)},_setupFrameBuffer:function(d){var a=d.context,h,g;d.passes>1?(h=d.destinationWidth,g=d.destinationHeight,(d.sourceWidth!==h||d.sourceHeight!==g)&&(a.deleteTexture(d.targetTexture),d.targetTexture=d.filterBackend.createTexture(a,h,g)),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,d.targetTexture,0)):(a.bindFramebuffer(a.FRAMEBUFFER,null),a.finish())},_swapTextures:function(d){d.passes--,d.pass++;var a=d.targetTexture;d.targetTexture=d.sourceTexture,d.sourceTexture=a},isNeutralState:function(){var d=this.mainParameter,a=i.Image.filters[this.type].prototype;if(d)if(Array.isArray(a[d])){for(var h=a[d].length;h--;)if(this[d][h]!==a[d][h])return!1;return!0}else return a[d]===this[d];else return!1},applyTo:function(d){d.webgl?(this._setupFrameBuffer(d),this.applyToWebGL(d),this._swapTextures(d)):this.applyTo2d(d)},retrieveShader:function(d){return d.programCache.hasOwnProperty(this.type)||(d.programCache[this.type]=this.createProgram(d.context)),d.programCache[this.type]},applyToWebGL:function(d){var a=d.context,h=this.retrieveShader(d);d.pass===0&&d.originalTexture?a.bindTexture(a.TEXTURE_2D,d.originalTexture):a.bindTexture(a.TEXTURE_2D,d.sourceTexture),a.useProgram(h.program),this.sendAttributeData(a,h.attributeLocations,d.aPosition),a.uniform1f(h.uniformLocations.uStepW,1/d.sourceWidth),a.uniform1f(h.uniformLocations.uStepH,1/d.sourceHeight),this.sendUniformData(a,h.uniformLocations),a.viewport(0,0,d.destinationWidth,d.destinationHeight),a.drawArrays(a.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(d,a,h){d.activeTexture(h),d.bindTexture(d.TEXTURE_2D,a),d.activeTexture(d.TEXTURE0)},unbindAdditionalTexture:function(d,a){d.activeTexture(a),d.bindTexture(d.TEXTURE_2D,null),d.activeTexture(d.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(d){this[this.mainParameter]=d},sendUniformData:function(){},createHelpLayer:function(d){if(!d.helpLayer){var a=document.createElement("canvas");a.width=d.sourceWidth,a.height=d.sourceHeight,d.helpLayer=a}},toObject:function(){var d={type:this.type},a=this.mainParameter;return a&&(d[a]=this[a]),d},toJSON:function(){return this.toObject()}}),i.Image.filters.BaseFilter.fromObject=function(d,a){var h=new i.Image.filters[d.type](d);return a&&a(h),h},function(d){var a=d.fabric||(d.fabric={}),h=a.Image.filters,g=a.util.createClass;h.ColorMatrix=g(h.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(s){this.callSuper("initialize",s),this.matrix=this.matrix.slice(0)},applyTo2d:function(s){var l=s.imageData,o=l.data,c=o.length,v=this.matrix,f,y,x,_,T,E=this.colorsOnly;for(T=0;T<c;T+=4)f=o[T],y=o[T+1],x=o[T+2],E?(o[T]=f*v[0]+y*v[1]+x*v[2]+v[4]*255,o[T+1]=f*v[5]+y*v[6]+x*v[7]+v[9]*255,o[T+2]=f*v[10]+y*v[11]+x*v[12]+v[14]*255):(_=o[T+3],o[T]=f*v[0]+y*v[1]+x*v[2]+_*v[3]+v[4]*255,o[T+1]=f*v[5]+y*v[6]+x*v[7]+_*v[8]+v[9]*255,o[T+2]=f*v[10]+y*v[11]+x*v[12]+_*v[13]+v[14]*255,o[T+3]=f*v[15]+y*v[16]+x*v[17]+_*v[18]+v[19]*255)},getUniformLocations:function(s,l){return{uColorMatrix:s.getUniformLocation(l,"uColorMatrix"),uConstants:s.getUniformLocation(l,"uConstants")}},sendUniformData:function(s,l){var o=this.matrix,c=[o[0],o[1],o[2],o[3],o[5],o[6],o[7],o[8],o[10],o[11],o[12],o[13],o[15],o[16],o[17],o[18]],v=[o[4],o[9],o[14],o[19]];s.uniformMatrix4fv(l.uColorMatrix,!1,c),s.uniform4fv(l.uConstants,v)}}),a.Image.filters.ColorMatrix.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(d){var a=d.fabric||(d.fabric={}),h=a.Image.filters,g=a.util.createClass;h.Brightness=g(h.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(s){if(this.brightness!==0){var l=s.imageData,o=l.data,c,v=o.length,f=Math.round(this.brightness*255);for(c=0;c<v;c+=4)o[c]=o[c]+f,o[c+1]=o[c+1]+f,o[c+2]=o[c+2]+f}},getUniformLocations:function(s,l){return{uBrightness:s.getUniformLocation(l,"uBrightness")}},sendUniformData:function(s,l){s.uniform1f(l.uBrightness,this.brightness)}}),a.Image.filters.Brightness.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(d){var a=d.fabric||(d.fabric={}),h=a.util.object.extend,g=a.Image.filters,s=a.util.createClass;g.Convolute=s(g.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(l){var o=Math.sqrt(this.matrix.length),c=this.type+"_"+o+"_"+(this.opaque?1:0),v=this.fragmentSource[c];return l.programCache.hasOwnProperty(c)||(l.programCache[c]=this.createProgram(l.context,v)),l.programCache[c]},applyTo2d:function(l){var o=l.imageData,c=o.data,v=this.matrix,f=Math.round(Math.sqrt(v.length)),y=Math.floor(f/2),x=o.width,_=o.height,T=l.ctx.createImageData(x,_),E=T.data,A=this.opaque?1:0,k,z,I,D,q,st,Z,$,ut,U,tt,nt,F;for(tt=0;tt<_;tt++)for(U=0;U<x;U++){for(q=(tt*x+U)*4,k=0,z=0,I=0,D=0,F=0;F<f;F++)for(nt=0;nt<f;nt++)Z=tt+F-y,st=U+nt-y,!(Z<0||Z>=_||st<0||st>=x)&&($=(Z*x+st)*4,ut=v[F*f+nt],k+=c[$]*ut,z+=c[$+1]*ut,I+=c[$+2]*ut,A||(D+=c[$+3]*ut));E[q]=k,E[q+1]=z,E[q+2]=I,A?E[q+3]=c[q+3]:E[q+3]=D}l.imageData=T},getUniformLocations:function(l,o){return{uMatrix:l.getUniformLocation(o,"uMatrix"),uOpaque:l.getUniformLocation(o,"uOpaque"),uHalfSize:l.getUniformLocation(o,"uHalfSize"),uSize:l.getUniformLocation(o,"uSize")}},sendUniformData:function(l,o){l.uniform1fv(o.uMatrix,this.matrix)},toObject:function(){return h(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),a.Image.filters.Convolute.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(d){var a=d.fabric||(d.fabric={}),h=a.Image.filters,g=a.util.createClass;h.Grayscale=g(h.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(s){var l=s.imageData,o=l.data,c,v=o.length,f,y=this.mode;for(c=0;c<v;c+=4)y==="average"?f=(o[c]+o[c+1]+o[c+2])/3:y==="lightness"?f=(Math.min(o[c],o[c+1],o[c+2])+Math.max(o[c],o[c+1],o[c+2]))/2:y==="luminosity"&&(f=.21*o[c]+.72*o[c+1]+.07*o[c+2]),o[c]=f,o[c+1]=f,o[c+2]=f},retrieveShader:function(s){var l=this.type+"_"+this.mode;if(!s.programCache.hasOwnProperty(l)){var o=this.fragmentSource[this.mode];s.programCache[l]=this.createProgram(s.context,o)}return s.programCache[l]},getUniformLocations:function(s,l){return{uMode:s.getUniformLocation(l,"uMode")}},sendUniformData:function(s,l){var o=1;s.uniform1i(l.uMode,o)},isNeutralState:function(){return!1}}),a.Image.filters.Grayscale.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(d){var a=d.fabric||(d.fabric={}),h=a.Image.filters,g=a.util.createClass;h.Invert=g(h.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(s){var l=s.imageData,o=l.data,c,v=o.length;for(c=0;c<v;c+=4)o[c]=255-o[c],o[c+1]=255-o[c+1],o[c+2]=255-o[c+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(s,l){return{uInvert:s.getUniformLocation(l,"uInvert")}},sendUniformData:function(s,l){s.uniform1i(l.uInvert,this.invert)}}),a.Image.filters.Invert.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(d){var a=d.fabric||(d.fabric={}),h=a.util.object.extend,g=a.Image.filters,s=a.util.createClass;g.Noise=s(g.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(l){if(this.noise!==0){var o=l.imageData,c=o.data,v,f=c.length,y=this.noise,x;for(v=0,f=c.length;v<f;v+=4)x=(.5-Math.random())*y,c[v]+=x,c[v+1]+=x,c[v+2]+=x}},getUniformLocations:function(l,o){return{uNoise:l.getUniformLocation(o,"uNoise"),uSeed:l.getUniformLocation(o,"uSeed")}},sendUniformData:function(l,o){l.uniform1f(o.uNoise,this.noise/255),l.uniform1f(o.uSeed,Math.random())},toObject:function(){return h(this.callSuper("toObject"),{noise:this.noise})}}),a.Image.filters.Noise.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(d){var a=d.fabric||(d.fabric={}),h=a.Image.filters,g=a.util.createClass;h.Pixelate=g(h.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(s){var l=s.imageData,o=l.data,c=l.height,v=l.width,f,y,x,_,T,E,A,k,z,I,D;for(y=0;y<c;y+=this.blocksize)for(x=0;x<v;x+=this.blocksize)for(f=y*4*v+x*4,_=o[f],T=o[f+1],E=o[f+2],A=o[f+3],I=Math.min(y+this.blocksize,c),D=Math.min(x+this.blocksize,v),k=y;k<I;k++)for(z=x;z<D;z++)f=k*4*v+z*4,o[f]=_,o[f+1]=T,o[f+2]=E,o[f+3]=A},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(s,l){return{uBlocksize:s.getUniformLocation(l,"uBlocksize"),uStepW:s.getUniformLocation(l,"uStepW"),uStepH:s.getUniformLocation(l,"uStepH")}},sendUniformData:function(s,l){s.uniform1f(l.uBlocksize,this.blocksize)}}),a.Image.filters.Pixelate.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(d){var a=d.fabric||(d.fabric={}),h=a.util.object.extend,g=a.Image.filters,s=a.util.createClass;g.RemoveColor=s(g.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(l){var o=l.imageData,c=o.data,v,f=this.distance*255,y,x,_,T=new a.Color(this.color).getSource(),E=[T[0]-f,T[1]-f,T[2]-f],A=[T[0]+f,T[1]+f,T[2]+f];for(v=0;v<c.length;v+=4)y=c[v],x=c[v+1],_=c[v+2],y>E[0]&&x>E[1]&&_>E[2]&&y<A[0]&&x<A[1]&&_<A[2]&&(c[v+3]=0)},getUniformLocations:function(l,o){return{uLow:l.getUniformLocation(o,"uLow"),uHigh:l.getUniformLocation(o,"uHigh")}},sendUniformData:function(l,o){var c=new a.Color(this.color).getSource(),v=parseFloat(this.distance),f=[0+c[0]/255-v,0+c[1]/255-v,0+c[2]/255-v,1],y=[c[0]/255+v,c[1]/255+v,c[2]/255+v,1];l.uniform4fv(o.uLow,f),l.uniform4fv(o.uHigh,y)},toObject:function(){return h(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),a.Image.filters.RemoveColor.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(d){var a=d.fabric||(d.fabric={}),h=a.Image.filters,g=a.util.createClass,s={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var l in s)h[l]=g(h.ColorMatrix,{type:l,matrix:s[l],mainParameter:!1,colorsOnly:!0}),a.Image.filters[l].fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(d){var a=d.fabric,h=a.Image.filters,g=a.util.createClass;h.BlendColor=g(h.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(s){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[s]+`}
}`},retrieveShader:function(s){var l=this.type+"_"+this.mode,o;return s.programCache.hasOwnProperty(l)||(o=this.buildSource(this.mode),s.programCache[l]=this.createProgram(s.context,o)),s.programCache[l]},applyTo2d:function(s){var l=s.imageData,o=l.data,c=o.length,v,f,y,x,_,T,E,A=1-this.alpha;E=new a.Color(this.color).getSource(),v=E[0]*this.alpha,f=E[1]*this.alpha,y=E[2]*this.alpha;for(var k=0;k<c;k+=4)switch(x=o[k],_=o[k+1],T=o[k+2],this.mode){case"multiply":o[k]=x*v/255,o[k+1]=_*f/255,o[k+2]=T*y/255;break;case"screen":o[k]=255-(255-x)*(255-v)/255,o[k+1]=255-(255-_)*(255-f)/255,o[k+2]=255-(255-T)*(255-y)/255;break;case"add":o[k]=x+v,o[k+1]=_+f,o[k+2]=T+y;break;case"diff":case"difference":o[k]=Math.abs(x-v),o[k+1]=Math.abs(_-f),o[k+2]=Math.abs(T-y);break;case"subtract":o[k]=x-v,o[k+1]=_-f,o[k+2]=T-y;break;case"darken":o[k]=Math.min(x,v),o[k+1]=Math.min(_,f),o[k+2]=Math.min(T,y);break;case"lighten":o[k]=Math.max(x,v),o[k+1]=Math.max(_,f),o[k+2]=Math.max(T,y);break;case"overlay":o[k]=v<128?2*x*v/255:255-2*(255-x)*(255-v)/255,o[k+1]=f<128?2*_*f/255:255-2*(255-_)*(255-f)/255,o[k+2]=y<128?2*T*y/255:255-2*(255-T)*(255-y)/255;break;case"exclusion":o[k]=v+x-2*v*x/255,o[k+1]=f+_-2*f*_/255,o[k+2]=y+T-2*y*T/255;break;case"tint":o[k]=v+x*A,o[k+1]=f+_*A,o[k+2]=y+T*A}},getUniformLocations:function(s,l){return{uColor:s.getUniformLocation(l,"uColor")}},sendUniformData:function(s,l){var o=new a.Color(this.color).getSource();o[0]=this.alpha*o[0]/255,o[1]=this.alpha*o[1]/255,o[2]=this.alpha*o[2]/255,o[3]=this.alpha,s.uniform4fv(l.uColor,o)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),a.Image.filters.BlendColor.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(d){var a=d.fabric,h=a.Image.filters,g=a.util.createClass;h.BlendImage=g(h.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(s){var l=this.type+"_"+this.mode,o=this.fragmentSource[this.mode];return s.programCache.hasOwnProperty(l)||(s.programCache[l]=this.createProgram(s.context,o)),s.programCache[l]},applyToWebGL:function(s){var l=s.context,o=this.createTexture(s.filterBackend,this.image);this.bindAdditionalTexture(l,o,l.TEXTURE1),this.callSuper("applyToWebGL",s),this.unbindAdditionalTexture(l,l.TEXTURE1)},createTexture:function(s,l){return s.getCachedTexture(l.cacheKey,l._element)},calculateMatrix:function(){var s=this.image,l=s._element.width,o=s._element.height;return[1/s.scaleX,0,0,0,1/s.scaleY,0,-s.left/l,-s.top/o,1]},applyTo2d:function(s){var l=s.imageData,o=s.filterBackend.resources,c=l.data,v=c.length,f=l.width,y=l.height,x,_,T,E,A,k,z,I,D,q,st=this.image,Z;o.blendImage||(o.blendImage=a.util.createCanvasElement()),D=o.blendImage,q=D.getContext("2d"),D.width!==f||D.height!==y?(D.width=f,D.height=y):q.clearRect(0,0,f,y),q.setTransform(st.scaleX,0,0,st.scaleY,st.left,st.top),q.drawImage(st._element,0,0,f,y),Z=q.getImageData(0,0,f,y).data;for(var $=0;$<v;$+=4)switch(A=c[$],k=c[$+1],z=c[$+2],I=c[$+3],x=Z[$],_=Z[$+1],T=Z[$+2],E=Z[$+3],this.mode){case"multiply":c[$]=A*x/255,c[$+1]=k*_/255,c[$+2]=z*T/255,c[$+3]=I*E/255;break;case"mask":c[$+3]=E;break}},getUniformLocations:function(s,l){return{uTransformMatrix:s.getUniformLocation(l,"uTransformMatrix"),uImage:s.getUniformLocation(l,"uImage")}},sendUniformData:function(s,l){var o=this.calculateMatrix();s.uniform1i(l.uImage,1),s.uniformMatrix3fv(l.uTransformMatrix,!1,o)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),a.Image.filters.BlendImage.fromObject=function(s,l){a.Image.fromObject(s.image,function(o){var c=a.util.object.clone(s);c.image=o,l(new a.Image.filters.BlendImage(c))})}}(r),function(d){var a=d.fabric||(d.fabric={}),h=Math.pow,g=Math.floor,s=Math.sqrt,l=Math.abs,o=Math.round,c=Math.sin,v=Math.ceil,f=a.Image.filters,y=a.util.createClass;f.Resize=y(f.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(x,_){return{uDelta:x.getUniformLocation(_,"uDelta"),uTaps:x.getUniformLocation(_,"uTaps")}},sendUniformData:function(x,_){x.uniform2fv(_.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),x.uniform1fv(_.uTaps,this.taps)},retrieveShader:function(x){var _=this.getFilterWindow(),T=this.type+"_"+_;if(!x.programCache.hasOwnProperty(T)){var E=this.generateShader(_);x.programCache[T]=this.createProgram(x.context,E)}return x.programCache[T]},getFilterWindow:function(){var x=this.tempScale;return Math.ceil(this.lanczosLobes/x)},getTaps:function(){for(var x=this.lanczosCreate(this.lanczosLobes),_=this.tempScale,T=this.getFilterWindow(),E=new Array(T),A=1;A<=T;A++)E[A-1]=x(A*_);return E},generateShader:function(E){for(var _=new Array(E),T=this.fragmentSourceTOP,E,A=1;A<=E;A++)_[A-1]=A+".0 * uDelta";return T+="uniform float uTaps["+E+`];
`,T+=`void main() {
`,T+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,T+=`  float sum = 1.0;
`,_.forEach(function(k,z){T+="  color += texture2D(uTexture, vTexCoord + "+k+") * uTaps["+z+`];
`,T+="  color += texture2D(uTexture, vTexCoord - "+k+") * uTaps["+z+`];
`,T+="  sum += 2.0 * uTaps["+z+`];
`}),T+=`  gl_FragColor = color / sum;
`,T+="}",T},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(x){x.webgl?(x.passes++,this.width=x.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=x.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),x.destinationWidth=this.dW,this._setupFrameBuffer(x),this.applyToWebGL(x),this._swapTextures(x),x.sourceWidth=x.destinationWidth,this.height=x.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),x.destinationHeight=this.dH,this._setupFrameBuffer(x),this.applyToWebGL(x),this._swapTextures(x),x.sourceHeight=x.destinationHeight):this.applyTo2d(x)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(x){return function(_){if(_>=x||_<=-x)return 0;if(_<11920929e-14&&_>-11920929e-14)return 1;_*=Math.PI;var T=_/x;return c(_)/_*c(T)/T}},applyTo2d:function(x){var _=x.imageData,T=this.scaleX,E=this.scaleY;this.rcpScaleX=1/T,this.rcpScaleY=1/E;var A=_.width,k=_.height,z=o(A*T),I=o(k*E),D;this.resizeType==="sliceHack"?D=this.sliceByTwo(x,A,k,z,I):this.resizeType==="hermite"?D=this.hermiteFastResize(x,A,k,z,I):this.resizeType==="bilinear"?D=this.bilinearFiltering(x,A,k,z,I):this.resizeType==="lanczos"&&(D=this.lanczosResize(x,A,k,z,I)),x.imageData=D},sliceByTwo:function(x,_,T,E,A){var k=x.imageData,z=.5,I=!1,D=!1,q=_*z,st=T*z,Z=a.filterBackend.resources,$,ut,U=0,tt=0,nt=_,F=0;for(Z.sliceByTwo||(Z.sliceByTwo=document.createElement("canvas")),$=Z.sliceByTwo,($.width<_*1.5||$.height<T)&&($.width=_*1.5,$.height=T),ut=$.getContext("2d"),ut.clearRect(0,0,_*1.5,T),ut.putImageData(k,0,0),E=g(E),A=g(A);!I||!D;)_=q,T=st,E<g(q*z)?q=g(q*z):(q=E,I=!0),A<g(st*z)?st=g(st*z):(st=A,D=!0),ut.drawImage($,U,tt,_,T,nt,F,q,st),U=nt,tt=F,F+=st;return ut.getImageData(U,tt,E,A)},lanczosResize:function(x,_,T,E,A){function k(M){var N,X,L,B,H,Y,rt,et,pt,gt,vt;for(F.x=(M+.5)*st,P.x=g(F.x),N=0;N<A;N++){for(F.y=(N+.5)*Z,P.y=g(F.y),H=0,Y=0,rt=0,et=0,pt=0,X=P.x-U;X<=P.x+U;X++)if(!(X<0||X>=_)){gt=g(1e3*l(X-F.x)),nt[gt]||(nt[gt]={});for(var it=P.y-tt;it<=P.y+tt;it++)it<0||it>=T||(vt=g(1e3*l(it-F.y)),nt[gt][vt]||(nt[gt][vt]=q(s(h(gt*$,2)+h(vt*ut,2))/1e3)),L=nt[gt][vt],L>0&&(B=(it*_+X)*4,H+=L,Y+=L*z[B],rt+=L*z[B+1],et+=L*z[B+2],pt+=L*z[B+3]))}B=(N*E+M)*4,D[B]=Y/H,D[B+1]=rt/H,D[B+2]=et/H,D[B+3]=pt/H}return++M<E?k(M):I}var z=x.imageData.data,I=x.ctx.createImageData(E,A),D=I.data,q=this.lanczosCreate(this.lanczosLobes),st=this.rcpScaleX,Z=this.rcpScaleY,$=2/this.rcpScaleX,ut=2/this.rcpScaleY,U=v(st*this.lanczosLobes/2),tt=v(Z*this.lanczosLobes/2),nt={},F={},P={};return k(0)},bilinearFiltering:function(x,_,T,E,A){var k,z,I,D,q,st,Z,$,ut,U,tt,nt,F=0,P,M=this.rcpScaleX,N=this.rcpScaleY,X=4*(_-1),L=x.imageData,B=L.data,H=x.ctx.createImageData(E,A),Y=H.data;for(Z=0;Z<A;Z++)for($=0;$<E;$++)for(q=g(M*$),st=g(N*Z),ut=M*$-q,U=N*Z-st,P=4*(st*_+q),tt=0;tt<4;tt++)k=B[P+tt],z=B[P+4+tt],I=B[P+X+tt],D=B[P+X+4+tt],nt=k*(1-ut)*(1-U)+z*ut*(1-U)+I*U*(1-ut)+D*ut*U,Y[F++]=nt;return H},hermiteFastResize:function(x,_,T,E,A){for(var k=this.rcpScaleX,z=this.rcpScaleY,I=v(k/2),D=v(z/2),q=x.imageData,st=q.data,Z=x.ctx.createImageData(E,A),$=Z.data,ut=0;ut<A;ut++)for(var U=0;U<E;U++){for(var tt=(U+ut*E)*4,nt=0,F=0,P=0,M=0,N=0,X=0,L=0,B=(ut+.5)*z,H=g(ut*z);H<(ut+1)*z;H++)for(var Y=l(B-(H+.5))/D,rt=(U+.5)*k,et=Y*Y,pt=g(U*k);pt<(U+1)*k;pt++){var gt=l(rt-(pt+.5))/I,vt=s(et+gt*gt);vt>1&&vt<-1||(nt=2*vt*vt*vt-3*vt*vt+1,nt>0&&(gt=4*(pt+H*_),L+=nt*st[gt+3],P+=nt,st[gt+3]<255&&(nt=nt*st[gt+3]/250),M+=nt*st[gt],N+=nt*st[gt+1],X+=nt*st[gt+2],F+=nt))}$[tt]=M/F,$[tt+1]=N/F,$[tt+2]=X/F,$[tt+3]=L/P}return Z},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),a.Image.filters.Resize.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(d){var a=d.fabric||(d.fabric={}),h=a.Image.filters,g=a.util.createClass;h.Contrast=g(h.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(s){if(this.contrast!==0){var l=s.imageData,o,v,c=l.data,v=c.length,f=Math.floor(this.contrast*255),y=259*(f+255)/(255*(259-f));for(o=0;o<v;o+=4)c[o]=y*(c[o]-128)+128,c[o+1]=y*(c[o+1]-128)+128,c[o+2]=y*(c[o+2]-128)+128}},getUniformLocations:function(s,l){return{uContrast:s.getUniformLocation(l,"uContrast")}},sendUniformData:function(s,l){s.uniform1f(l.uContrast,this.contrast)}}),a.Image.filters.Contrast.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(d){var a=d.fabric||(d.fabric={}),h=a.Image.filters,g=a.util.createClass;h.Saturation=g(h.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(s){if(this.saturation!==0){var l=s.imageData,o=l.data,c=o.length,v=-this.saturation,f,y;for(f=0;f<c;f+=4)y=Math.max(o[f],o[f+1],o[f+2]),o[f]+=y!==o[f]?(y-o[f])*v:0,o[f+1]+=y!==o[f+1]?(y-o[f+1])*v:0,o[f+2]+=y!==o[f+2]?(y-o[f+2])*v:0}},getUniformLocations:function(s,l){return{uSaturation:s.getUniformLocation(l,"uSaturation")}},sendUniformData:function(s,l){s.uniform1f(l.uSaturation,-this.saturation)}}),a.Image.filters.Saturation.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(d){var a=d.fabric||(d.fabric={}),h=a.Image.filters,g=a.util.createClass;h.Vibrance=g(h.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(s){if(this.vibrance!==0){var l=s.imageData,o=l.data,c=o.length,v=-this.vibrance,f,y,x,_;for(f=0;f<c;f+=4)y=Math.max(o[f],o[f+1],o[f+2]),x=(o[f]+o[f+1]+o[f+2])/3,_=Math.abs(y-x)*2/255*v,o[f]+=y!==o[f]?(y-o[f])*_:0,o[f+1]+=y!==o[f+1]?(y-o[f+1])*_:0,o[f+2]+=y!==o[f+2]?(y-o[f+2])*_:0}},getUniformLocations:function(s,l){return{uVibrance:s.getUniformLocation(l,"uVibrance")}},sendUniformData:function(s,l){s.uniform1f(l.uVibrance,-this.vibrance)}}),a.Image.filters.Vibrance.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(d){var a=d.fabric||(d.fabric={}),h=a.Image.filters,g=a.util.createClass;h.Blur=g(h.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(s){s.webgl?(this.aspectRatio=s.sourceWidth/s.sourceHeight,s.passes++,this._setupFrameBuffer(s),this.horizontal=!0,this.applyToWebGL(s),this._swapTextures(s),this._setupFrameBuffer(s),this.horizontal=!1,this.applyToWebGL(s),this._swapTextures(s)):this.applyTo2d(s)},applyTo2d:function(s){s.imageData=this.simpleBlur(s)},simpleBlur:function(s){var l=s.filterBackend.resources,o,c,v=s.imageData.width,f=s.imageData.height;l.blurLayer1||(l.blurLayer1=a.util.createCanvasElement(),l.blurLayer2=a.util.createCanvasElement()),o=l.blurLayer1,c=l.blurLayer2,(o.width!==v||o.height!==f)&&(c.width=o.width=v,c.height=o.height=f);var y=o.getContext("2d"),x=c.getContext("2d"),_=15,T,E,A,k,z=this.blur*.06*.5;for(y.putImageData(s.imageData,0,0),x.clearRect(0,0,v,f),k=-_;k<=_;k++)T=(Math.random()-.5)/4,E=k/_,A=z*E*v+T,x.globalAlpha=1-Math.abs(E),x.drawImage(o,A,T),y.drawImage(c,0,0),x.globalAlpha=1,x.clearRect(0,0,c.width,c.height);for(k=-_;k<=_;k++)T=(Math.random()-.5)/4,E=k/_,A=z*E*f+T,x.globalAlpha=1-Math.abs(E),x.drawImage(o,T,A),y.drawImage(c,0,0),x.globalAlpha=1,x.clearRect(0,0,c.width,c.height);s.ctx.drawImage(o,0,0);var I=s.ctx.getImageData(0,0,o.width,o.height);return y.globalAlpha=1,y.clearRect(0,0,o.width,o.height),I},getUniformLocations:function(s,l){return{delta:s.getUniformLocation(l,"uDelta")}},sendUniformData:function(s,l){var o=this.chooseRightDelta();s.uniform2fv(l.delta,o)},chooseRightDelta:function(){var s=1,l=[0,0],o;return this.horizontal?this.aspectRatio>1&&(s=1/this.aspectRatio):this.aspectRatio<1&&(s=this.aspectRatio),o=s*this.blur*.12,this.horizontal?l[0]=o:l[1]=o,l}}),h.Blur.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(d){var a=d.fabric||(d.fabric={}),h=a.Image.filters,g=a.util.createClass;h.Gamma=g(h.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(s){this.gamma=[1,1,1],h.BaseFilter.prototype.initialize.call(this,s)},applyTo2d:function(s){var l=s.imageData,o=l.data,c=this.gamma,v=o.length,f=1/c[0],y=1/c[1],x=1/c[2],_;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),_=0,v=256;_<v;_++)this.rVals[_]=Math.pow(_/255,f)*255,this.gVals[_]=Math.pow(_/255,y)*255,this.bVals[_]=Math.pow(_/255,x)*255;for(_=0,v=o.length;_<v;_+=4)o[_]=this.rVals[o[_]],o[_+1]=this.gVals[o[_+1]],o[_+2]=this.bVals[o[_+2]]},getUniformLocations:function(s,l){return{uGamma:s.getUniformLocation(l,"uGamma")}},sendUniformData:function(s,l){s.uniform3fv(l.uGamma,this.gamma)}}),a.Image.filters.Gamma.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(d){var a=d.fabric||(d.fabric={}),h=a.Image.filters,g=a.util.createClass;h.Composed=g(h.BaseFilter,{type:"Composed",subFilters:[],initialize:function(s){this.callSuper("initialize",s),this.subFilters=this.subFilters.slice(0)},applyTo:function(s){s.passes+=this.subFilters.length-1,this.subFilters.forEach(function(l){l.applyTo(s)})},toObject:function(){return a.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(s){return s.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(s){return!s.isNeutralState()})}}),a.Image.filters.Composed.fromObject=function(s,l){var o=s.subFilters||[],c=o.map(function(f){return new a.Image.filters[f.type](f)}),v=new a.Image.filters.Composed({subFilters:c});return l&&l(v),v}}(r),function(d){var a=d.fabric||(d.fabric={}),h=a.Image.filters,g=a.util.createClass;h.HueRotation=g(h.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var s=this.rotation*Math.PI,l=a.util.cos(s),o=a.util.sin(s),c=1/3,v=Math.sqrt(c)*o,f=1-l;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=l+f/3,this.matrix[1]=c*f-v,this.matrix[2]=c*f+v,this.matrix[5]=c*f+v,this.matrix[6]=l+c*f,this.matrix[7]=c*f-v,this.matrix[10]=c*f-v,this.matrix[11]=c*f+v,this.matrix[12]=l+c*f},isNeutralState:function(s){return this.calculateMatrix(),h.BaseFilter.prototype.isNeutralState.call(this,s)},applyTo:function(s){this.calculateMatrix(),h.BaseFilter.prototype.applyTo.call(this,s)}}),a.Image.filters.HueRotation.fromObject=a.Image.filters.BaseFilter.fromObject}(r),function(d){var a=d.fabric||(d.fabric={}),h=a.util.object.clone;if(a.Text){a.warn("fabric.Text is already defined");return}var g="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide".split(" ");a.Text=a.util.createClass(a.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:a.Object.prototype.stateProperties.concat(g),cacheProperties:a.Object.prototype.cacheProperties.concat(g),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(s,l){this.styles=l?l.styles||{}:{},this.text=s,this.__skipDimension=!0,this.callSuper("initialize",l),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var s=this.path;s&&(s.segmentsInfo=a.util.getPathSegmentsInfo(s.path))},getMeasuringContext:function(){return a._measuringContext||(a._measuringContext=this.canvas&&this.canvas.contextCache||a.util.createCanvasElement().getContext("2d")),a._measuringContext},_splitText:function(){var s=this._splitTextIntoLines(this.text);return this.textLines=s.lines,this._textLines=s.graphemeLines,this._unwrappedTextLines=s._unwrappedLines,this._text=s.graphemeText,s},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var s,l,o,c,v,f,y,x=0,_=this._textLines.length;x<_;x++)if(!(this.textAlign!=="justify"&&(x===_-1||this.isEndOfWrapping(x)))&&(c=0,v=this._textLines[x],l=this.getLineWidth(x),l<this.width&&(y=this.textLines[x].match(this._reSpacesAndTabs)))){o=y.length,s=(this.width-l)/o;for(var T=0,E=v.length;T<=E;T++)f=this.__charBounds[x][T],this._reSpaceAndTab.test(v[T])?(f.width+=s,f.kernedWidth+=s,f.left+=c,c+=s):f.left+=c}},isEndOfWrapping:function(s){return s===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var s=this.callSuper("_getCacheCanvasDimensions"),l=this.fontSize;return s.width+=l*s.zoomX,s.height+=l*s.zoomY,s},_render:function(s){var l=this.path;l&&!l.isNotVisible()&&l._render(s),this._setTextStyles(s),this._renderTextLinesBackground(s),this._renderTextDecoration(s,"underline"),this._renderText(s),this._renderTextDecoration(s,"overline"),this._renderTextDecoration(s,"linethrough")},_renderText:function(s){this.paintFirst==="stroke"?(this._renderTextStroke(s),this._renderTextFill(s)):(this._renderTextFill(s),this._renderTextStroke(s))},_setTextStyles:function(s,l,o){s.textBaseline="alphabetic",s.font=this._getFontDeclaration(l,o)},calcTextWidth:function(){for(var s=this.getLineWidth(0),l=1,o=this._textLines.length;l<o;l++){var c=this.getLineWidth(l);c>s&&(s=c)}return s},_renderTextLine:function(s,l,o,c,v,f){this._renderChars(s,l,o,c,v,f)},_renderTextLinesBackground:function(s){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var l,o,c=s.fillStyle,v,f,y=this._getLeftOffset(),x=this._getTopOffset(),_=0,T=0,E,A,k=this.path,z,I=0,D=this._textLines.length;I<D;I++){if(l=this.getHeightOfLine(I),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",I)){x+=l;continue}v=this._textLines[I],o=this._getLineLeftOffset(I),T=0,_=0,f=this.getValueOfPropertyAt(I,0,"textBackgroundColor");for(var q=0,st=v.length;q<st;q++)E=this.__charBounds[I][q],A=this.getValueOfPropertyAt(I,q,"textBackgroundColor"),k?(s.save(),s.translate(E.renderLeft,E.renderTop),s.rotate(E.angle),s.fillStyle=A,A&&s.fillRect(-E.width/2,-l/this.lineHeight*(1-this._fontSizeFraction),E.width,l/this.lineHeight),s.restore()):A!==f?(z=y+o+_,this.direction==="rtl"&&(z=this.width-z-T),s.fillStyle=f,f&&s.fillRect(z,x,T,l/this.lineHeight),_=E.left,T=E.width,f=A):T+=E.kernedWidth;A&&!k&&(z=y+o+_,this.direction==="rtl"&&(z=this.width-z-T),s.fillStyle=A,s.fillRect(z,x,T,l/this.lineHeight)),x+=l}s.fillStyle=c,this._removeShadow(s)}},getFontCache:function(s){var l=s.fontFamily.toLowerCase();a.charWidthsCache[l]||(a.charWidthsCache[l]={});var o=a.charWidthsCache[l],c=s.fontStyle.toLowerCase()+"_"+(s.fontWeight+"").toLowerCase();return o[c]||(o[c]={}),o[c]},_measureChar:function(s,l,o,c){var v=this.getFontCache(l),f=this._getFontDeclaration(l),y=this._getFontDeclaration(c),x=o+s,_=f===y,T,E,A,k=l.fontSize/this.CACHE_FONT_SIZE,z;if(o&&v[o]!==void 0&&(A=v[o]),v[s]!==void 0&&(z=T=v[s]),_&&v[x]!==void 0&&(E=v[x],z=E-A),T===void 0||A===void 0||E===void 0){var I=this.getMeasuringContext();this._setTextStyles(I,l,!0)}return T===void 0&&(z=T=I.measureText(s).width,v[s]=T),A===void 0&&_&&o&&(A=I.measureText(o).width,v[o]=A),_&&E===void 0&&(E=I.measureText(x).width,v[x]=E,z=E-A),{width:T*k,kernedWidth:z*k}},getHeightOfChar:function(s,l){return this.getValueOfPropertyAt(s,l,"fontSize")},measureLine:function(s){var l=this._measureLine(s);return this.charSpacing!==0&&(l.width-=this._getWidthOfCharSpacing()),l.width<0&&(l.width=0),l},_measureLine:function(s){var l=0,o,c,v=this._textLines[s],f,y,x=0,_=new Array(v.length),T=0,E,A,k=this.path,z=this.pathSide==="right";for(this.__charBounds[s]=_,o=0;o<v.length;o++)c=v[o],y=this._getGraphemeBox(c,s,o,f),_[o]=y,l+=y.kernedWidth,f=c;if(_[o]={left:y?y.left+y.width:0,width:0,kernedWidth:0,height:this.fontSize},k){switch(A=k.segmentsInfo[k.segmentsInfo.length-1].length,E=a.util.getPointOnPath(k.path,0,k.segmentsInfo),E.x+=k.pathOffset.x,E.y+=k.pathOffset.y,this.textAlign){case"left":T=z?A-l:0;break;case"center":T=(A-l)/2;break;case"right":T=z?0:A-l;break}for(T+=this.pathStartOffset*(z?-1:1),o=z?v.length-1:0;z?o>=0:o<v.length;z?o--:o++)y=_[o],T>A?T%=A:T<0&&(T+=A),this._setGraphemeOnPath(T,y,E),T+=y.kernedWidth}return{width:l,numOfSpaces:x}},_setGraphemeOnPath:function(s,l,o){var c=s+l.kernedWidth/2,v=this.path,f=a.util.getPointOnPath(v.path,c,v.segmentsInfo);l.renderLeft=f.x-o.x,l.renderTop=f.y-o.y,l.angle=f.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(s,l,o,c,v){var f=this.getCompleteStyleDeclaration(l,o),y=c?this.getCompleteStyleDeclaration(l,o-1):{},x=this._measureChar(s,f,c,y),_=x.kernedWidth,T=x.width,E;this.charSpacing!==0&&(E=this._getWidthOfCharSpacing(),T+=E,_+=E);var A={width:T,left:0,height:f.fontSize,kernedWidth:_,deltaY:f.deltaY};if(o>0&&!v){var k=this.__charBounds[l][o-1];A.left=k.left+k.width+x.kernedWidth-x.width}return A},getHeightOfLine:function(s){if(this.__lineHeights[s])return this.__lineHeights[s];for(var l=this._textLines[s],o=this.getHeightOfChar(s,0),c=1,v=l.length;c<v;c++)o=Math.max(this.getHeightOfChar(s,c),o);return this.__lineHeights[s]=o*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var s,l=0,o=0,c=this._textLines.length;o<c;o++)s=this.getHeightOfLine(o),l+=o===c-1?s/this.lineHeight:s;return l},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(s,l){s.save();for(var o=0,c=this._getLeftOffset(),v=this._getTopOffset(),f=0,y=this._textLines.length;f<y;f++){var x=this.getHeightOfLine(f),_=x/this.lineHeight,T=this._getLineLeftOffset(f);this._renderTextLine(l,s,this._textLines[f],c+T,v+o+_,f),o+=x}s.restore()},_renderTextFill:function(s){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(s,"fillText")},_renderTextStroke:function(s){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(s),s.save(),this._setLineDash(s,this.strokeDashArray),s.beginPath(),this._renderTextCommon(s,"strokeText"),s.closePath(),s.restore())},_renderChars:function(s,l,o,c,v,f){var y=this.getHeightOfLine(f),x=this.textAlign.indexOf("justify")!==-1,_,T,E="",A,k=0,z,I=this.path,D=!x&&this.charSpacing===0&&this.isEmptyStyles(f)&&!I,q=this.direction==="ltr",st=this.direction==="ltr"?1:-1,Z;if(l.save(),v-=y*this._fontSizeFraction/this.lineHeight,D){l.canvas.setAttribute("dir",q?"ltr":"rtl"),l.direction=q?"ltr":"rtl",l.textAlign=q?"left":"right",this._renderChar(s,l,f,0,o.join(""),c,v,y),l.restore();return}for(var $=0,ut=o.length-1;$<=ut;$++)z=$===ut||this.charSpacing||I,E+=o[$],A=this.__charBounds[f][$],k===0?(c+=st*(A.kernedWidth-A.width),k+=A.width):k+=A.kernedWidth,x&&!z&&this._reSpaceAndTab.test(o[$])&&(z=!0),z||(_=_||this.getCompleteStyleDeclaration(f,$),T=this.getCompleteStyleDeclaration(f,$+1),z=this._hasStyleChanged(_,T)),z&&(I?(l.save(),l.translate(A.renderLeft,A.renderTop),l.rotate(A.angle),this._renderChar(s,l,f,$,E,-k/2,0,y),l.restore()):(Z=c,l.canvas.setAttribute("dir",q?"ltr":"rtl"),l.direction=q?"ltr":"rtl",l.textAlign=q?"left":"right",this._renderChar(s,l,f,$,E,Z,v,y)),E="",_=T,c+=st*k,k=0);l.restore()},_applyPatternGradientTransformText:function(s){var l=a.util.createCanvasElement(),o,c=this.width+this.strokeWidth,v=this.height+this.strokeWidth;return l.width=c,l.height=v,o=l.getContext("2d"),o.beginPath(),o.moveTo(0,0),o.lineTo(c,0),o.lineTo(c,v),o.lineTo(0,v),o.closePath(),o.translate(c/2,v/2),o.fillStyle=s.toLive(o),this._applyPatternGradientTransform(o,s),o.fill(),o.createPattern(l,"no-repeat")},handleFiller:function(s,l,o){var c,v;return o.toLive?o.gradientUnits==="percentage"||o.gradientTransform||o.patternTransform?(c=-this.width/2,v=-this.height/2,s.translate(c,v),s[l]=this._applyPatternGradientTransformText(o),{offsetX:c,offsetY:v}):(s[l]=o.toLive(s,this),this._applyPatternGradientTransform(s,o)):(s[l]=o,{offsetX:0,offsetY:0})},_setStrokeStyles:function(s,l){return s.lineWidth=l.strokeWidth,s.lineCap=this.strokeLineCap,s.lineDashOffset=this.strokeDashOffset,s.lineJoin=this.strokeLineJoin,s.miterLimit=this.strokeMiterLimit,this.handleFiller(s,"strokeStyle",l.stroke)},_setFillStyles:function(s,l){return this.handleFiller(s,"fillStyle",l.fill)},_renderChar:function(s,l,o,c,v,f,y){var x=this._getStyleDeclaration(o,c),_=this.getCompleteStyleDeclaration(o,c),T=s==="fillText"&&_.fill,E=s==="strokeText"&&_.stroke&&_.strokeWidth,A,k;!E&&!T||(l.save(),T&&(A=this._setFillStyles(l,_)),E&&(k=this._setStrokeStyles(l,_)),l.font=this._getFontDeclaration(_),x&&x.textBackgroundColor&&this._removeShadow(l),x&&x.deltaY&&(y+=x.deltaY),T&&l.fillText(v,f-A.offsetX,y-A.offsetY),E&&l.strokeText(v,f-k.offsetX,y-k.offsetY),l.restore())},setSuperscript:function(s,l){return this._setScript(s,l,this.superscript)},setSubscript:function(s,l){return this._setScript(s,l,this.subscript)},_setScript:function(s,l,o){var c=this.get2DCursorLocation(s,!0),v=this.getValueOfPropertyAt(c.lineIndex,c.charIndex,"fontSize"),f=this.getValueOfPropertyAt(c.lineIndex,c.charIndex,"deltaY"),y={fontSize:v*o.size,deltaY:f+v*o.baseline};return this.setSelectionStyles(y,s,l),this},_hasStyleChanged:function(s,l){return s.fill!==l.fill||s.stroke!==l.stroke||s.strokeWidth!==l.strokeWidth||s.fontSize!==l.fontSize||s.fontFamily!==l.fontFamily||s.fontWeight!==l.fontWeight||s.fontStyle!==l.fontStyle||s.deltaY!==l.deltaY},_hasStyleChangedForSvg:function(s,l){return this._hasStyleChanged(s,l)||s.overline!==l.overline||s.underline!==l.underline||s.linethrough!==l.linethrough},_getLineLeftOffset:function(s){var l=this.getLineWidth(s),o=this.width-l,c=this.textAlign,v=this.direction,y,f=0,y=this.isEndOfWrapping(s);return c==="justify"||c==="justify-center"&&!y||c==="justify-right"&&!y||c==="justify-left"&&!y?0:(c==="center"&&(f=o/2),c==="right"&&(f=o),c==="justify-center"&&(f=o/2),c==="justify-right"&&(f=o),v==="rtl"&&(f-=o),f)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var s=this._forceClearCache;return s||(s=this.hasStateChanged("_dimensionAffectingProps")),s&&(this.dirty=!0,this._forceClearCache=!1),s},getLineWidth:function(s){if(this.__lineWidths[s])return this.__lineWidths[s];var l,o=this._textLines[s],c;return o===""?l=0:(c=this.measureLine(s),l=c.width),this.__lineWidths[s]=l,l},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(s,l,o){var c=this._getStyleDeclaration(s,l);return c&&typeof c[o]<"u"?c[o]:this[o]},_renderTextDecoration:function(s,l){if(!(!this[l]&&!this.styleHas(l))){for(var o,c,v,f,y,x,_,T,E=this._getLeftOffset(),A=this._getTopOffset(),k,z,I,D,q,st,Z,$,ut=this.path,U=this._getWidthOfCharSpacing(),tt=this.offsets[l],nt=0,F=this._textLines.length;nt<F;nt++){if(o=this.getHeightOfLine(nt),!this[l]&&!this.styleHas(l,nt)){A+=o;continue}_=this._textLines[nt],st=o/this.lineHeight,f=this._getLineLeftOffset(nt),z=0,I=0,T=this.getValueOfPropertyAt(nt,0,l),$=this.getValueOfPropertyAt(nt,0,"fill"),k=A+st*(1-this._fontSizeFraction),c=this.getHeightOfChar(nt,0),y=this.getValueOfPropertyAt(nt,0,"deltaY");for(var P=0,M=_.length;P<M;P++)if(D=this.__charBounds[nt][P],q=this.getValueOfPropertyAt(nt,P,l),Z=this.getValueOfPropertyAt(nt,P,"fill"),v=this.getHeightOfChar(nt,P),x=this.getValueOfPropertyAt(nt,P,"deltaY"),ut&&q&&Z)s.save(),s.fillStyle=$,s.translate(D.renderLeft,D.renderTop),s.rotate(D.angle),s.fillRect(-D.kernedWidth/2,tt*v+x,D.kernedWidth,this.fontSize/15),s.restore();else if((q!==T||Z!==$||v!==c||x!==y)&&I>0){var N=E+f+z;this.direction==="rtl"&&(N=this.width-N-I),T&&$&&(s.fillStyle=$,s.fillRect(N,k+tt*c+y,I,this.fontSize/15)),z=D.left,I=D.width,T=q,$=Z,c=v,y=x}else I+=D.kernedWidth;var N=E+f+z;this.direction==="rtl"&&(N=this.width-N-I),s.fillStyle=Z,q&&Z&&s.fillRect(N,k+tt*c+y,I-U,this.fontSize/15),A+=o}this._removeShadow(s)}},_getFontDeclaration:function(s,l){var o=s||this,c=this.fontFamily,v=a.Text.genericFonts.indexOf(c.toLowerCase())>-1,f=c===void 0||c.indexOf("'")>-1||c.indexOf(",")>-1||c.indexOf('"')>-1||v?o.fontFamily:'"'+o.fontFamily+'"';return[a.isLikelyNode?o.fontWeight:o.fontStyle,a.isLikelyNode?o.fontStyle:o.fontWeight,l?this.CACHE_FONT_SIZE+"px":o.fontSize+"px",f].join(" ")},render:function(s){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",s)))},_splitTextIntoLines:function(s){for(var l=s.split(this._reNewline),o=new Array(l.length),c=[`
`],v=[],f=0;f<l.length;f++)o[f]=a.util.string.graphemeSplit(l[f]),v=v.concat(o[f],c);return v.pop(),{_unwrappedLines:o,lines:l,graphemeText:v,graphemeLines:o}},toObject:function(s){var l=g.concat(s),o=this.callSuper("toObject",l);return o.styles=h(this.styles,!0),o.path&&(o.path=this.path.toObject()),o},set:function(s,l){this.callSuper("set",s,l);var o=!1,c=!1;if(typeof s=="object")for(var v in s)v==="path"&&this.setPathInfo(),o=o||this._dimensionAffectingProps.indexOf(v)!==-1,c=c||v==="path";else o=this._dimensionAffectingProps.indexOf(s)!==-1,c=s==="path";return c&&this.setPathInfo(),o&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),a.Text.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),a.Text.DEFAULT_SVG_FONT_SIZE=16,a.Text.fromElement=function(s,l,o){if(!s)return l(null);var c=a.parseAttributes(s,a.Text.ATTRIBUTE_NAMES),v=c.textAnchor||"left";if(o=a.util.object.extend(o?h(o):{},c),o.top=o.top||0,o.left=o.left||0,c.textDecoration){var f=c.textDecoration;f.indexOf("underline")!==-1&&(o.underline=!0),f.indexOf("overline")!==-1&&(o.overline=!0),f.indexOf("line-through")!==-1&&(o.linethrough=!0),delete o.textDecoration}"dx"in c&&(o.left+=c.dx),"dy"in c&&(o.top+=c.dy),"fontSize"in o||(o.fontSize=a.Text.DEFAULT_SVG_FONT_SIZE);var y="";"textContent"in s?y=s.textContent:"firstChild"in s&&s.firstChild!==null&&"data"in s.firstChild&&s.firstChild.data!==null&&(y=s.firstChild.data),y=y.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var x=o.strokeWidth;o.strokeWidth=0;var _=new a.Text(y,o),T=_.getScaledHeight()/_.height,E=(_.height+_.strokeWidth)*_.lineHeight-_.height,A=E*T,k=_.getScaledHeight()+A,z=0;v==="center"&&(z=_.getScaledWidth()/2),v==="right"&&(z=_.getScaledWidth()),_.set({left:_.left-z,top:_.top-(k-_.fontSize*(.07+_._fontSizeFraction))/_.lineHeight,strokeWidth:typeof x<"u"?x:1}),l(_)},a.Text.fromObject=function(s,l){var o=h(s),c=s.path;return delete o.path,a.Object._fromObject("Text",o,function(v){c?a.Object._fromObject("Path",c,function(f){v.set("path",f),l(v)},"path"):l(v)},"text")},a.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],a.util.createAccessors&&a.util.createAccessors(a.Text)}(r),function(){i.util.object.extend(i.Text.prototype,{isEmptyStyles:function(d){if(!this.styles||typeof d<"u"&&!this.styles[d])return!0;var a=typeof d>"u"?this.styles:{line:this.styles[d]};for(var h in a)for(var g in a[h])for(var s in a[h][g])return!1;return!0},styleHas:function(d,a){if(!this.styles||!d||d===""||typeof a<"u"&&!this.styles[a])return!1;var h=typeof a>"u"?this.styles:{0:this.styles[a]};for(var g in h)for(var s in h[g])if(typeof h[g][s][d]<"u")return!0;return!1},cleanStyle:function(d){if(!this.styles||!d||d==="")return!1;var a=this.styles,h=0,g,s,l=!0,o=0,c;for(var v in a){g=0;for(var f in a[v]){var c=a[v][f],y=c.hasOwnProperty(d);h++,y?(s?c[d]!==s&&(l=!1):s=c[d],c[d]===this[d]&&delete c[d]):l=!1,Object.keys(c).length!==0?g++:delete a[v][f]}g===0&&delete a[v]}for(var x=0;x<this._textLines.length;x++)o+=this._textLines[x].length;l&&h===o&&(this[d]=s,this.removeStyle(d))},removeStyle:function(d){if(!(!this.styles||!d||d==="")){var a=this.styles,h,g,s;for(g in a){h=a[g];for(s in h)delete h[s][d],Object.keys(h[s]).length===0&&delete h[s];Object.keys(h).length===0&&delete a[g]}}},_extendStyles:function(d,a){var h=this.get2DCursorLocation(d);this._getLineStyle(h.lineIndex)||this._setLineStyle(h.lineIndex),this._getStyleDeclaration(h.lineIndex,h.charIndex)||this._setStyleDeclaration(h.lineIndex,h.charIndex,{}),i.util.object.extend(this._getStyleDeclaration(h.lineIndex,h.charIndex),a)},get2DCursorLocation:function(d,a){typeof d>"u"&&(d=this.selectionStart);for(var h=a?this._unwrappedTextLines:this._textLines,g=h.length,s=0;s<g;s++){if(d<=h[s].length)return{lineIndex:s,charIndex:d};d-=h[s].length+this.missingNewlineOffset(s)}return{lineIndex:s-1,charIndex:h[s-1].length<d?h[s-1].length:d}},getSelectionStyles:function(d,a,h){typeof d>"u"&&(d=this.selectionStart||0),typeof a>"u"&&(a=this.selectionEnd||d);for(var g=[],s=d;s<a;s++)g.push(this.getStyleAtPosition(s,h));return g},getStyleAtPosition:function(d,a){var h=this.get2DCursorLocation(d),g=a?this.getCompleteStyleDeclaration(h.lineIndex,h.charIndex):this._getStyleDeclaration(h.lineIndex,h.charIndex);return g||{}},setSelectionStyles:function(d,a,h){typeof a>"u"&&(a=this.selectionStart||0),typeof h>"u"&&(h=this.selectionEnd||a);for(var g=a;g<h;g++)this._extendStyles(g,d);return this._forceClearCache=!0,this},_getStyleDeclaration:function(d,a){var h=this.styles&&this.styles[d];return h?h[a]:null},getCompleteStyleDeclaration:function(d,a){for(var h=this._getStyleDeclaration(d,a)||{},g={},s,l=0;l<this._styleProperties.length;l++)s=this._styleProperties[l],g[s]=typeof h[s]>"u"?this[s]:h[s];return g},_setStyleDeclaration:function(d,a,h){this.styles[d][a]=h},_deleteStyleDeclaration:function(d,a){delete this.styles[d][a]},_getLineStyle:function(d){return!!this.styles[d]},_setLineStyle:function(d){this.styles[d]={}},_deleteLineStyle:function(d){delete this.styles[d]}})}(),function(){function d(a){a.textDecoration&&(a.textDecoration.indexOf("underline")>-1&&(a.underline=!0),a.textDecoration.indexOf("line-through")>-1&&(a.linethrough=!0),a.textDecoration.indexOf("overline")>-1&&(a.overline=!0),delete a.textDecoration)}i.IText=i.util.createClass(i.Text,i.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(a,h){this.callSuper("initialize",a,h),this.initBehavior()},setSelectionStart:function(a){a=Math.max(a,0),this._updateAndFire("selectionStart",a)},setSelectionEnd:function(a){a=Math.min(a,this.text.length),this._updateAndFire("selectionEnd",a)},_updateAndFire:function(a,h){this[a]!==h&&(this._fireSelectionChanged(),this[a]=h),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(a){this.clearContextTop(),this.callSuper("render",a),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(a){this.callSuper("_render",a)},clearContextTop:function(a){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var h=this.canvas.contextTop,g=this.canvas.viewportTransform;h.save(),h.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this.transform(h),this._clearTextArea(h),a||h.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var a=this._getCursorBoundaries(),h=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(a,h):this.renderSelection(a,h),h.restore()}},_clearTextArea:function(a){var h=this.width+4,g=this.height+4;a.clearRect(-h/2,-g/2,h,g)},_getCursorBoundaries:function(a){typeof a>"u"&&(a=this.selectionStart);var h=this._getLeftOffset(),g=this._getTopOffset(),s=this._getCursorBoundariesOffsets(a);return{left:h,top:g,leftOffset:s.left,topOffset:s.top}},_getCursorBoundariesOffsets:function(a){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var h,g,s,l=0,o=0,c,v=this.get2DCursorLocation(a);s=v.charIndex,g=v.lineIndex;for(var f=0;f<g;f++)l+=this.getHeightOfLine(f);h=this._getLineLeftOffset(g);var y=this.__charBounds[g][s];return y&&(o=y.left),this.charSpacing!==0&&s===this._textLines[g].length&&(o-=this._getWidthOfCharSpacing()),c={top:l,left:h+(o>0?o:0)},this.direction==="rtl"&&(c.left*=-1),this.cursorOffsetCache=c,this.cursorOffsetCache},renderCursor:function(a,h){var g=this.get2DCursorLocation(),s=g.lineIndex,l=g.charIndex>0?g.charIndex-1:0,o=this.getValueOfPropertyAt(s,l,"fontSize"),c=this.scaleX*this.canvas.getZoom(),v=this.cursorWidth/c,f=a.topOffset,y=this.getValueOfPropertyAt(s,l,"deltaY");f+=(1-this._fontSizeFraction)*this.getHeightOfLine(s)/this.lineHeight-o*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(a,h),h.fillStyle=this.cursorColor||this.getValueOfPropertyAt(s,l,"fill"),h.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,h.fillRect(a.left+a.leftOffset-v/2,f+a.top+y,v,o)},renderSelection:function(a,h){for(var g=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,s=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,l=this.textAlign.indexOf("justify")!==-1,o=this.get2DCursorLocation(g),c=this.get2DCursorLocation(s),v=o.lineIndex,f=c.lineIndex,y=o.charIndex<0?0:o.charIndex,x=c.charIndex<0?0:c.charIndex,_=v;_<=f;_++){var T=this._getLineLeftOffset(_)||0,E=this.getHeightOfLine(_),A=0,k=0,z=0;if(_===v&&(k=this.__charBounds[v][y].left),_>=v&&_<f)z=l&&!this.isEndOfWrapping(_)?this.width:this.getLineWidth(_)||5;else if(_===f)if(x===0)z=this.__charBounds[f][x].left;else{var I=this._getWidthOfCharSpacing();z=this.__charBounds[f][x-1].left+this.__charBounds[f][x-1].width-I}A=E,(this.lineHeight<1||_===f&&this.lineHeight>1)&&(E/=this.lineHeight);var D=a.left+T+k,q=z-k,st=E,Z=0;this.inCompositionMode?(h.fillStyle=this.compositionColor||"black",st=1,Z=E):h.fillStyle=this.selectionColor,this.direction==="rtl"&&(D=this.width-D-q),h.fillRect(D,a.top+a.topOffset+Z,q,st),a.topOffset+=A}},getCurrentCharFontSize:function(){var a=this._getCurrentCharIndex();return this.getValueOfPropertyAt(a.l,a.c,"fontSize")},getCurrentCharColor:function(){var a=this._getCurrentCharIndex();return this.getValueOfPropertyAt(a.l,a.c,"fill")},_getCurrentCharIndex:function(){var a=this.get2DCursorLocation(this.selectionStart,!0),h=a.charIndex>0?a.charIndex-1:0;return{l:a.lineIndex,c:h}}}),i.IText.fromObject=function(a,h){if(d(a),a.styles)for(var g in a.styles)for(var s in a.styles[g])d(a.styles[g][s]);i.Object._fromObject("IText",a,h,"text")}}(),function(){var d=i.util.object.clone;i.util.object.extend(i.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var a=this;this.on("added",function(){var h=a.canvas;h&&(h._hasITextHandlers||(h._hasITextHandlers=!0,a._initCanvasHandlers(h)),h._iTextInstances=h._iTextInstances||[],h._iTextInstances.push(a))})},initRemovedHandler:function(){var a=this;this.on("removed",function(){var h=a.canvas;h&&(h._iTextInstances=h._iTextInstances||[],i.util.removeFromArray(h._iTextInstances,a),h._iTextInstances.length===0&&(h._hasITextHandlers=!1,a._removeCanvasHandlers(h)))})},_initCanvasHandlers:function(a){a._mouseUpITextHandler=function(){a._iTextInstances&&a._iTextInstances.forEach(function(h){h.__isMousedown=!1})},a.on("mouse:up",a._mouseUpITextHandler)},_removeCanvasHandlers:function(a){a.off("mouse:up",a._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(a,h,g,s){var l;return l={isAborted:!1,abort:function(){this.isAborted=!0}},a.animate("_currentCursorOpacity",h,{duration:g,onComplete:function(){l.isAborted||a[s]()},onChange:function(){a.canvas&&a.selectionStart===a.selectionEnd&&a.renderCursorOrSelection()},abort:function(){return l.isAborted}}),l},_onTickComplete:function(){var a=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){a._currentTickCompleteState=a._animateCursor(a,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(a){var h=this,g=a?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){h._tick()},g)},abortCursorAnimation:function(){var a=this._currentTickState||this._currentTickCompleteState,h=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,a&&h&&h.clearContext(h.contextTop||h.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(a){var h=0,g=a-1;if(this._reSpace.test(this._text[g]))for(;this._reSpace.test(this._text[g]);)h++,g--;for(;/\S/.test(this._text[g])&&g>-1;)h++,g--;return a-h},findWordBoundaryRight:function(a){var h=0,g=a;if(this._reSpace.test(this._text[g]))for(;this._reSpace.test(this._text[g]);)h++,g++;for(;/\S/.test(this._text[g])&&g<this._text.length;)h++,g++;return a+h},findLineBoundaryLeft:function(a){for(var h=0,g=a-1;!/\n/.test(this._text[g])&&g>-1;)h++,g--;return a-h},findLineBoundaryRight:function(a){for(var h=0,g=a;!/\n/.test(this._text[g])&&g<this._text.length;)h++,g++;return a+h},searchWordBoundary:function(a,h){for(var g=this._text,s=this._reSpace.test(g[a])?a-1:a,l=g[s],o=i.reNonWord;!o.test(l)&&s>0&&s<g.length;)s+=h,l=g[s];return o.test(l)&&(s+=h===1?0:1),s},selectWord:function(a){a=a||this.selectionStart;var h=this.searchWordBoundary(a,-1),g=this.searchWordBoundary(a,1);this.selectionStart=h,this.selectionEnd=g,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(a){a=a||this.selectionStart;var h=this.findLineBoundaryLeft(a),g=this.findLineBoundaryRight(a);return this.selectionStart=h,this.selectionEnd=g,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(a){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(a),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(a){a._iTextInstances&&a._iTextInstances.forEach(function(h){h.selected=!1,h.isEditing&&h.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(a){if(!(!this.__isMousedown||!this.isEditing)){var h=this.getSelectionStartFromPointer(a.e),g=this.selectionStart,s=this.selectionEnd;(h!==this.__selectionStartOnMouseDown||g===s)&&(g===h||s===h)||(h>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=h):(this.selectionStart=h,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==g||this.selectionEnd!==s)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(a,h,g){var s=g.slice(0,a),l=i.util.string.graphemeSplit(s).length;if(a===h)return{selectionStart:l,selectionEnd:l};var o=g.slice(a,h),c=i.util.string.graphemeSplit(o).length;return{selectionStart:l,selectionEnd:l+c}},fromGraphemeToStringSelection:function(a,h,g){var s=g.slice(0,a),l=s.join("").length;if(a===h)return{selectionStart:l,selectionEnd:l};var o=g.slice(a,h),c=o.join("").length;return{selectionStart:l,selectionEnd:l+c}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var a=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=a.selectionStart,this.hiddenTextarea.selectionEnd=a.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var a=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=a.selectionEnd,this.inCompositionMode||(this.selectionStart=a.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var a=this._calcTextareaPosition();this.hiddenTextarea.style.left=a.left,this.hiddenTextarea.style.top=a.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var a=this.inCompositionMode?this.compositionStart:this.selectionStart,h=this._getCursorBoundaries(a),g=this.get2DCursorLocation(a),s=g.lineIndex,l=g.charIndex,o=this.getValueOfPropertyAt(s,l,"fontSize")*this.lineHeight,c=h.leftOffset,v=this.calcTransformMatrix(),f={x:h.left+c,y:h.top+h.topOffset+o},y=this.canvas.getRetinaScaling(),x=this.canvas.upperCanvasEl,_=x.width/y,T=x.height/y,E=_-o,A=T-o,k=x.clientWidth/_,z=x.clientHeight/T;return f=i.util.transformPoint(f,v),f=i.util.transformPoint(f,this.canvas.viewportTransform),f.x*=k,f.y*=z,f.x<0&&(f.x=0),f.x>E&&(f.x=E),f.y<0&&(f.y=0),f.y>A&&(f.y=A),f.x+=this.canvas._offset.left,f.y+=this.canvas._offset.top,{left:f.x+"px",top:f.y+"px",fontSize:o+"px",charHeight:o}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var a=this._textBeforeEdit!==this.text,h=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,h&&(h.blur&&h.blur(),h.parentNode&&h.parentNode.removeChild(h)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),a&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),a&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var a in this.styles)this._textLines[a]||delete this.styles[a]},removeStyleFromTo:function(a,h){var g=this.get2DCursorLocation(a,!0),s=this.get2DCursorLocation(h,!0),l=g.lineIndex,o=g.charIndex,c=s.lineIndex,v=s.charIndex,f,y;if(l!==c){if(this.styles[l])for(f=o;f<this._unwrappedTextLines[l].length;f++)delete this.styles[l][f];if(this.styles[c])for(f=v;f<this._unwrappedTextLines[c].length;f++)y=this.styles[c][f],y&&(this.styles[l]||(this.styles[l]={}),this.styles[l][o+f-v]=y);for(f=l+1;f<=c;f++)delete this.styles[f];this.shiftLineStyles(c,l-c)}else if(this.styles[l]){y=this.styles[l];var x=v-o,_,T;for(f=o;f<v;f++)delete y[f];for(T in this.styles[l])_=parseInt(T,10),_>=v&&(y[_-x]=y[T],delete y[T])}},shiftLineStyles:function(a,h){var g=d(this.styles);for(var s in this.styles){var l=parseInt(s,10);l>a&&(this.styles[l+h]=g[l],g[l-h]||delete this.styles[l])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(a,h,g,s){var l,o={},c=!1,v=this._unwrappedTextLines[a].length===h;g||(g=1),this.shiftLineStyles(a,g),this.styles[a]&&(l=this.styles[a][h===0?h:h-1]);for(var f in this.styles[a]){var y=parseInt(f,10);y>=h&&(c=!0,o[y-h]=this.styles[a][f],v&&h===0||delete this.styles[a][f])}var x=!1;for(c&&!v&&(this.styles[a+g]=o,x=!0),x&&g--;g>0;)s&&s[g-1]?this.styles[a+g]={0:d(s[g-1])}:l?this.styles[a+g]={0:d(l)}:delete this.styles[a+g],g--;this._forceClearCache=!0},insertCharStyleObject:function(a,h,g,s){this.styles||(this.styles={});var l=this.styles[a],o=l?d(l):{};g||(g=1);for(var c in o){var v=parseInt(c,10);v>=h&&(l[v+g]=o[v],o[v-g]||delete l[v])}if(this._forceClearCache=!0,s){for(;g--;)Object.keys(s[g]).length&&(this.styles[a]||(this.styles[a]={}),this.styles[a][h+g]=d(s[g]));return}if(l)for(var f=l[h?h-1:1];f&&g--;)this.styles[a][h+g]=d(f)},insertNewStyleBlock:function(a,h,g){for(var s=this.get2DCursorLocation(h,!0),l=[0],o=0,c=0;c<a.length;c++)a[c]===`
`?(o++,l[o]=0):l[o]++;l[0]>0&&(this.insertCharStyleObject(s.lineIndex,s.charIndex,l[0],g),g=g&&g.slice(l[0]+1)),o&&this.insertNewlineStyleObject(s.lineIndex,s.charIndex+l[0],o);for(var c=1;c<o;c++)l[c]>0?this.insertCharStyleObject(s.lineIndex+c,0,l[c],g):g&&(this.styles[s.lineIndex+c][0]=g[0]),g=g&&g.slice(l[c]+1);l[c]>0&&this.insertCharStyleObject(s.lineIndex+c,0,l[c],g)},setSelectionStartEndWithShift:function(a,h,g){g<=a?(h===a?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=a),this.selectionStart=g):g>a&&g<h?this._selectionDirection==="right"?this.selectionEnd=g:this.selectionStart=g:(h===a?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=h),this.selectionEnd=g)},setSelectionInBoundaries:function(){var a=this.text.length;this.selectionStart>a?this.selectionStart=a:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>a?this.selectionEnd=a:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),i.util.object.extend(i.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(d){if(this.canvas){this.__newClickTime=+new Date;var a=d.pointer;this.isTripleClick(a)&&(this.fire("tripleclick",d),this._stopEvent(d.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=a,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(d){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===d.x&&this.__lastPointer.y===d.y},_stopEvent:function(d){d.preventDefault&&d.preventDefault(),d.stopPropagation&&d.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(d){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(d.e))},tripleClickHandler:function(d){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(d.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(d){!this.canvas||!this.editable||d.e.button&&d.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(d.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(d){!this.canvas||!this.editable||d.e.button&&d.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(d){if(this.__isMousedown=!1,!(!this.editable||this.group||d.transform&&d.transform.actionPerformed||d.e.button&&d.e.button!==1)){if(this.canvas){var a=this.canvas._activeObject;if(a&&a!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(d.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(d){var a=this.getSelectionStartFromPointer(d),h=this.selectionStart,g=this.selectionEnd;d.shiftKey?this.setSelectionStartEndWithShift(h,g,a):(this.selectionStart=a,this.selectionEnd=a),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(d){for(var a=this.getLocalPointer(d),h=0,g=0,s=0,l=0,o=0,c,v,f=0,y=this._textLines.length;f<y&&s<=a.y;f++)s+=this.getHeightOfLine(f)*this.scaleY,o=f,f>0&&(l+=this._textLines[f-1].length+this.missingNewlineOffset(f-1));c=this._getLineLeftOffset(o),g=c*this.scaleX,v=this._textLines[o],this.direction==="rtl"&&(a.x=this.width*this.scaleX-a.x+g);for(var x=0,_=v.length;x<_&&(h=g,g+=this.__charBounds[o][x].kernedWidth*this.scaleX,g<=a.x);x++)l++;return this._getNewSelectionStartFromOffset(a,h,g,l,_)},_getNewSelectionStartFromOffset:function(d,a,h,g,s){var l=d.x-a,o=h-d.x,c=o>l||o<0?0:1,v=g+c;return this.flipX&&(v=s-v),v>this._text.length&&(v=this._text.length),v}}),i.util.object.extend(i.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=i.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var d=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+d.top+"; left: "+d.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; paddingｰtop: "+d.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):i.document.body.appendChild(this.hiddenTextarea),i.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),i.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),i.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),i.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),i.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),i.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),i.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),i.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),i.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(i.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(d){if(this.isEditing){var a=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(d.keyCode in a)this[a[d.keyCode]](d);else if(d.keyCode in this.ctrlKeysMapDown&&(d.ctrlKey||d.metaKey))this[this.ctrlKeysMapDown[d.keyCode]](d);else return;d.stopImmediatePropagation(),d.preventDefault(),d.keyCode>=33&&d.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(d){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(d.keyCode in this.ctrlKeysMapUp&&(d.ctrlKey||d.metaKey))this[this.ctrlKeysMapUp[d.keyCode]](d);else return;d.stopImmediatePropagation(),d.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(d){var a=this.fromPaste;if(this.fromPaste=!1,d&&d.stopPropagation(),!!this.isEditing){var h=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,g=this._text.length,s=h.length,l,o,c=s-g,v=this.selectionStart,f=this.selectionEnd,y=v!==f,x,_,T;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var E=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),A=v>E.selectionStart;y?(l=this._text.slice(v,f),c+=f-v):s<g&&(A?l=this._text.slice(f+c,f):l=this._text.slice(v,v-c)),o=h.slice(E.selectionEnd-c,E.selectionEnd),l&&l.length&&(o.length&&(x=this.getSelectionStyles(v,v+1,!1),x=o.map(function(){return x[0]})),y?(_=v,T=f):A?(_=f-l.length,T=f):(_=f,T=f+l.length),this.removeStyleFromTo(_,T)),o.length&&(a&&o.join("")===i.copiedText&&!i.disableStyleCopyPaste&&(x=i.copiedTextStyle),this.insertNewStyleBlock(o,v,x)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(d){this.compositionStart=d.target.selectionStart,this.compositionEnd=d.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(i.copiedText=this.getSelectedText(),i.disableStyleCopyPaste?i.copiedTextStyle=null:i.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(d){return d&&d.clipboardData||i.window.clipboardData},_getWidthBeforeCursor:function(d,a){var h=this._getLineLeftOffset(d),g;return a>0&&(g=this.__charBounds[d][a-1],h+=g.left+g.width),h},getDownCursorOffset:function(d,a){var h=this._getSelectionForOffset(d,a),g=this.get2DCursorLocation(h),s=g.lineIndex;if(s===this._textLines.length-1||d.metaKey||d.keyCode===34)return this._text.length-h;var l=g.charIndex,o=this._getWidthBeforeCursor(s,l),c=this._getIndexOnLine(s+1,o),v=this._textLines[s].slice(l);return v.length+c+1+this.missingNewlineOffset(s)},_getSelectionForOffset:function(d,a){return d.shiftKey&&this.selectionStart!==this.selectionEnd&&a?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(d,a){var h=this._getSelectionForOffset(d,a),g=this.get2DCursorLocation(h),s=g.lineIndex;if(s===0||d.metaKey||d.keyCode===33)return-h;var l=g.charIndex,o=this._getWidthBeforeCursor(s,l),c=this._getIndexOnLine(s-1,o),v=this._textLines[s].slice(0,l),f=this.missingNewlineOffset(s-1);return-this._textLines[s-1].length+c-v.length+(1-f)},_getIndexOnLine:function(d,a){for(var h=this._textLines[d],g=this._getLineLeftOffset(d),s=g,l=0,o,c,v=0,f=h.length;v<f;v++)if(o=this.__charBounds[d][v].width,s+=o,s>a){c=!0;var y=s-o,x=s,_=Math.abs(y-a),T=Math.abs(x-a);l=T<_?v:v-1;break}return c||(l=h.length-1),l},moveCursorDown:function(d){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",d)},moveCursorUp:function(d){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",d)},_moveCursorUpOrDown:function(d,a){var h="get"+d+"CursorOffset",g=this[h](a,this._selectionDirection==="right");a.shiftKey?this.moveCursorWithShift(g):this.moveCursorWithoutShift(g),g!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(d){var a=this._selectionDirection==="left"?this.selectionStart+d:this.selectionEnd+d;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,a),d!==0},moveCursorWithoutShift:function(d){return d<0?(this.selectionStart+=d,this.selectionEnd=this.selectionStart):(this.selectionEnd+=d,this.selectionStart=this.selectionEnd),d!==0},moveCursorLeft:function(d){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",d)},_move:function(d,a,h){var g;if(d.altKey)g=this["findWordBoundary"+h](this[a]);else if(d.metaKey||d.keyCode===35||d.keyCode===36)g=this["findLineBoundary"+h](this[a]);else return this[a]+=h==="Left"?-1:1,!0;if(typeof g!==void 0&&this[a]!==g)return this[a]=g,!0},_moveLeft:function(d,a){return this._move(d,a,"Left")},_moveRight:function(d,a){return this._move(d,a,"Right")},moveCursorLeftWithoutShift:function(d){var a=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(a=this._moveLeft(d,"selectionStart")),this.selectionEnd=this.selectionStart,a},moveCursorLeftWithShift:function(d){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(d,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(d,"selectionStart")},moveCursorRight:function(d){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",d)},_moveCursorLeftOrRight:function(d,a){var h="moveCursor"+d+"With";this._currentCursorOpacity=1,a.shiftKey?h+="Shift":h+="outShift",this[h](a)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(d){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(d,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(d,"selectionEnd")},moveCursorRightWithoutShift:function(d){var a=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(a=this._moveRight(d,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,a},removeChars:function(d,a){typeof a>"u"&&(a=d+1),this.removeStyleFromTo(d,a),this._text.splice(d,a-d),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(d,a,h,g){typeof g>"u"&&(g=h),g>h&&this.removeStyleFromTo(h,g);var s=i.util.string.graphemeSplit(d);this.insertNewStyleBlock(s,h,a),this._text=[].concat(this._text.slice(0,h),s,this._text.slice(g)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var d=i.util.toFixed,a=/  +/g;i.util.object.extend(i.Text.prototype,{_toSVG:function(){var h=this._getSVGLeftTopOffsets(),g=this._getSVGTextAndBg(h.textTop,h.textLeft);return this._wrapSVGTextAndBg(g)},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(),{reviver:h,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(h){var g=!0,s=this.getSvgTextDecoration(this);return[h.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",s?'text-decoration="'+s+'" ':"",'style="',this.getSvgStyles(g),'"',this.addPaintOrder()," >",h.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(h,g){var s=[],l=[],o=h,c;this._setSVGBg(l);for(var v=0,f=this._textLines.length;v<f;v++)c=this._getLineLeftOffset(v),(this.textBackgroundColor||this.styleHas("textBackgroundColor",v))&&this._setSVGTextLineBg(l,v,g+c,o),this._setSVGTextLineText(s,v,g+c,o),o+=this.getHeightOfLine(v);return{textSpans:s,textBgRects:l}},_createTextCharSpan:function(h,g,s,l){var o=h!==h.trim()||h.match(a),c=this.getSvgSpanStyles(g,o),v=c?'style="'+c+'"':"",f=g.deltaY,y="",x=i.Object.NUM_FRACTION_DIGITS;return f&&(y=' dy="'+d(f,x)+'" '),['<tspan x="',d(s,x),'" y="',d(l,x),'" ',y,v,">",i.util.string.escapeXml(h),"</tspan>"].join("")},_setSVGTextLineText:function(h,g,s,l){var o=this.getHeightOfLine(g),c=this.textAlign.indexOf("justify")!==-1,v,f,y="",x,_,T=0,E=this._textLines[g],A;l+=o*(1-this._fontSizeFraction)/this.lineHeight;for(var k=0,z=E.length-1;k<=z;k++)A=k===z||this.charSpacing,y+=E[k],x=this.__charBounds[g][k],T===0?(s+=x.kernedWidth-x.width,T+=x.width):T+=x.kernedWidth,c&&!A&&this._reSpaceAndTab.test(E[k])&&(A=!0),A||(v=v||this.getCompleteStyleDeclaration(g,k),f=this.getCompleteStyleDeclaration(g,k+1),A=this._hasStyleChangedForSvg(v,f)),A&&(_=this._getStyleDeclaration(g,k)||{},h.push(this._createTextCharSpan(y,_,s,l)),y="",v=f,s+=T,T=0)},_pushTextBgRect:function(h,g,s,l,o,c){var v=i.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(g),' x="',d(s,v),'" y="',d(l,v),'" width="',d(o,v),'" height="',d(c,v),`"></rect>
`)},_setSVGTextLineBg:function(h,g,s,l){for(var o=this._textLines[g],c=this.getHeightOfLine(g)/this.lineHeight,v=0,f=0,y,x,_=this.getValueOfPropertyAt(g,0,"textBackgroundColor"),T=0,E=o.length;T<E;T++)y=this.__charBounds[g][T],x=this.getValueOfPropertyAt(g,T,"textBackgroundColor"),x!==_?(_&&this._pushTextBgRect(h,_,s+f,l,v,c),f=y.left,v=y.width,_=x):v+=y.kernedWidth;x&&this._pushTextBgRect(h,x,s+f,l,v,c)},_getFillAttributes:function(h){var g=h&&typeof h=="string"?new i.Color(h):"";return!g||!g.getSource()||g.getAlpha()===1?'fill="'+h+'"':'opacity="'+g.getAlpha()+'" fill="'+g.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(h){for(var g=0,s=0,l=0;l<h;l++)g+=this.getHeightOfLine(l);return s=this.getHeightOfLine(l),{lineTop:g,offset:(this._fontSizeMult-this._fontSizeFraction)*s/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(h){var g=i.Object.prototype.getSvgStyles.call(this,h);return g+" white-space: pre;"}})}(),function(d){var a=d.fabric||(d.fabric={});a.Textbox=a.util.createClass(a.IText,a.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:a.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(h){for(var g=0,s=0,l=0,o={},c=0;c<h.graphemeLines.length;c++)h.graphemeText[l]===`
`&&c>0?(s=0,l++,g++):!this.splitByGrapheme&&this._reSpaceAndTab.test(h.graphemeText[l])&&c>0&&(s++,l++),o[c]={line:g,offset:s},l+=h.graphemeLines[c].length,s+=h.graphemeLines[c].length;return o},styleHas:function(h,g){if(this._styleMap&&!this.isWrapping){var s=this._styleMap[g];s&&(g=s.line)}return a.Text.prototype.styleHas.call(this,h,g)},isEmptyStyles:function(h){if(!this.styles)return!0;var g=0,s=h+1,l,o,c=!1,v=this._styleMap[h],f=this._styleMap[h+1];v&&(h=v.line,g=v.offset),f&&(s=f.line,c=s===h,l=f.offset),o=typeof h>"u"?this.styles:{line:this.styles[h]};for(var y in o)for(var x in o[y])if(x>=g&&(!c||x<l))for(var _ in o[y][x])return!1;return!0},_getStyleDeclaration:function(h,g){if(this._styleMap&&!this.isWrapping){var s=this._styleMap[h];if(!s)return null;h=s.line,g=s.offset+g}return this.callSuper("_getStyleDeclaration",h,g)},_setStyleDeclaration:function(h,g,s){var l=this._styleMap[h];h=l.line,g=l.offset+g,this.styles[h][g]=s},_deleteStyleDeclaration:function(h,g){var s=this._styleMap[h];h=s.line,g=s.offset+g,delete this.styles[h][g]},_getLineStyle:function(h){var g=this._styleMap[h];return!!this.styles[g.line]},_setLineStyle:function(h){var g=this._styleMap[h];this.styles[g.line]={}},_wrapText:function(h,g){var s=[],l;for(this.isWrapping=!0,l=0;l<h.length;l++)s=s.concat(this._wrapLine(h[l],l,g));return this.isWrapping=!1,s},_measureWord:function(h,g,s){var l=0,o,c=!0;s=s||0;for(var v=0,f=h.length;v<f;v++){var y=this._getGraphemeBox(h[v],g,v+s,o,c);l+=y.kernedWidth,o=h[v]}return l},_wrapLine:function(h,g,s,D){var o=0,c=this.splitByGrapheme,v=[],f=[],y=c?a.util.string.graphemeSplit(h):h.split(this._wordJoiners),x="",_=0,T=c?"":" ",E=0,A=0,k=0,z=!0,I=this._getWidthOfCharSpacing(),D=D||0;y.length===0&&y.push([]),s-=D;for(var q=0;q<y.length;q++)x=c?y[q]:a.util.string.graphemeSplit(y[q]),E=this._measureWord(x,g,_),_+=x.length,o+=A+E-I,o>s&&!z?(v.push(f),f=[],o=E,z=!0):o+=I,!z&&!c&&f.push(T),f=f.concat(x),A=c?0:this._measureWord([T],g,_),_++,z=!1,E>k&&(k=E);return q&&v.push(f),k+D>this.dynamicMinWidth&&(this.dynamicMinWidth=k-I+D),v},isEndOfWrapping:function(h){return!this._styleMap[h+1]||this._styleMap[h+1].line!==this._styleMap[h].line},missingNewlineOffset:function(h){return this.splitByGrapheme?this.isEndOfWrapping(h)?1:0:1},_splitTextIntoLines:function(h){for(var g=a.Text.prototype._splitTextIntoLines.call(this,h),s=this._wrapText(g.lines,this.width),l=new Array(s.length),o=0;o<s.length;o++)l[o]=s[o].join("");return g.lines=l,g.graphemeLines=s,g},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var h={};for(var g in this._styleMap)this._textLines[g]&&(h[this._styleMap[g].line]=1);for(var g in this.styles)h[g]||delete this.styles[g]},toObject:function(h){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(h))}}),a.Textbox.fromObject=function(h,g){return a.Object._fromObject("Textbox",h,g,"text")}}(r),function(){var d=i.controlsUtils,a=d.scaleSkewCursorStyleHandler,h=d.scaleCursorStyleHandler,g=d.scalingEqually,s=d.scalingYOrSkewingX,l=d.scalingXOrSkewingY,o=d.scaleOrSkewActionName,c=i.Object.prototype.controls;if(c.ml=new i.Control({x:-.5,y:0,cursorStyleHandler:a,actionHandler:l,getActionName:o}),c.mr=new i.Control({x:.5,y:0,cursorStyleHandler:a,actionHandler:l,getActionName:o}),c.mb=new i.Control({x:0,y:.5,cursorStyleHandler:a,actionHandler:s,getActionName:o}),c.mt=new i.Control({x:0,y:-.5,cursorStyleHandler:a,actionHandler:s,getActionName:o}),c.tl=new i.Control({x:-.5,y:-.5,cursorStyleHandler:h,actionHandler:g}),c.tr=new i.Control({x:.5,y:-.5,cursorStyleHandler:h,actionHandler:g}),c.bl=new i.Control({x:-.5,y:.5,cursorStyleHandler:h,actionHandler:g}),c.br=new i.Control({x:.5,y:.5,cursorStyleHandler:h,actionHandler:g}),c.mtr=new i.Control({x:0,y:-.5,actionHandler:d.rotationWithSnapping,cursorStyleHandler:d.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),i.Textbox){var v=i.Textbox.prototype.controls={};v.mtr=c.mtr,v.tr=c.tr,v.br=c.br,v.tl=c.tl,v.bl=c.bl,v.mt=c.mt,v.mb=c.mb,v.mr=new i.Control({x:.5,y:0,actionHandler:d.changeWidth,cursorStyleHandler:a,actionName:"resizing"}),v.ml=new i.Control({x:-.5,y:0,actionHandler:d.changeWidth,cursorStyleHandler:a,actionName:"resizing"})}}()}(xf)),xf}var fr=Kw();const Qw=({image:r,open:i,onClose:u,onCropComplete:m})=>{const[b,C]=G.useState({x:0,y:0}),[O,d]=G.useState(1),[a,h]=G.useState(null),g=c=>{C(c)},s=c=>{d(c)},l=G.useCallback((c,v)=>{h(v)},[]),o=G.useCallback(async()=>{try{if(a){const c=window.__fabricCanvasInstance;if(!c){console.error("无法获取canvas实例");return}const v=[],f=c.getActiveObject();let y=-1;c.getObjects().forEach((_,T)=>{if(T>0||_.isSticker){const E=_.toJSON();if(_.isSticker&&_.type==="image"){const A=_,k=A.originalSrc||(A._element?A._element.src:null);k?v.push({json:E,type:_.type,isSticker:!0,src:k}):v.push({json:E,type:_.type,isSticker:!0})}else v.push({json:E,type:_.type,isSticker:!1});_===f&&(y=v.length-1)}});const x=await Jw(r,a);u(),m(x),setTimeout(()=>{if(window.__fabricCanvasInstance){const _=window.__fabricCanvasInstance;try{const T=v.map(E=>new Promise(A=>{if(E.type==="image"&&E.isSticker&&E.src)fr.fabric.Image.fromURL(E.src,k=>{k.set(E.json),k.isSticker=!0,k.set({selectable:!0,evented:!0,hasControls:!0,hasBorders:!0}),A(k)},{crossOrigin:"anonymous"});else try{const k=new fr.fabric.Canvas(null);k.loadFromJSON({objects:[E.json]},()=>{if(k.getObjects().length>0){const z=k.getObjects()[0];z.set({selectable:!0,evented:!0,hasControls:!0,hasBorders:!0}),A(z)}else console.error("无法从JSON恢复对象"),A(null)})}catch(k){console.error("恢复对象失败:",k),A(null)}}));Promise.all(T).then(E=>{if(E.forEach(A=>{A&&_.add(A)}),y>=0&&y<E.length){const A=E[y];A&&requestAnimationFrame(()=>{try{_.setActiveObject(A),_.requestRenderAll()}catch(k){console.error("恢复选中状态失败:",k)}})}_.requestRenderAll()}).catch(E=>{console.error("恢复对象失败:",E)})}catch(T){console.error("恢复对象时出错:",T)}}},800)}}catch(c){console.error("Error creating cropped image:",c)}},[r,a,m,u]);return Q.jsxs(pw,{open:i,onClose:u,maxWidth:"md",fullWidth:!0,children:[Q.jsx(ww,{sx:{height:"400px",position:"relative",padding:0},children:Q.jsx(jS,{image:r,crop:b,zoom:O,aspect:1,onCropChange:g,onZoomChange:s,onCropComplete:l})}),Q.jsx("div",{style:{padding:"0 24px"},children:Q.jsxs("div",{style:{display:"flex",alignItems:"center",margin:"10px 0"},children:[Q.jsx("span",{style:{marginRight:"10px"},children:"缩放:"}),Q.jsx(Ww,{value:O,min:1,max:3,step:.1,onChange:(c,v)=>d(v)})]})}),Q.jsxs(bw,{children:[Q.jsx(tv,{onClick:u,color:"inherit",children:"取消"}),Q.jsx(tv,{onClick:o,color:"primary",variant:"contained",children:"裁剪"})]})]})},Zw=r=>new Promise((i,u)=>{const m=new Image;m.addEventListener("load",()=>i(m)),m.addEventListener("error",b=>u(b)),m.src=r}),Jw=async(r,i)=>{const u=await Zw(r),m=document.createElement("canvas"),b=m.getContext("2d");if(!b)throw new Error("Could not get canvas context");return m.width=i.width,m.height=i.height,b.drawImage(u,i.x,i.y,i.width,i.height,0,0,i.width,i.height),m.toDataURL("image/jpeg")},tT=G.forwardRef((r,i)=>{const{image:u,onModified:m}=r,b=G.useRef(null),C=G.useRef(null),O=G.useRef(null),d=G.useRef(null),a=G.useRef(null),[h,g]=G.useState(!1),s=G.useRef(null);G.useEffect(()=>{if(!b.current)return;if(h&&C.current){try{window.__fabricCanvasInstance=C.current}catch(c){console.error("设置全局fabric canvas实例失败:",c)}u!==O.current&&u&&l(u);return}return g(!0),setTimeout(()=>{C.current&&(C.current.dispose(),C.current=null);try{let c=function(){try{if(!d.current)return;const _=v.getActiveObject();if(!_||_===a.current){d.current.style.display="none";return}const T=_.getBoundingRect();if(!T||typeof T.left!="number"||typeof T.top!="number"||typeof T.width!="number"||typeof T.height!="number"){console.error("无效的边界矩形:",T),d.current.style.display="none";return}const E=T.left+T.width-16,A=T.top-16,k=parseFloat(d.current.style.left)||0,z=parseFloat(d.current.style.top)||0;(Math.abs(k-E)>2||Math.abs(z-A)>2)&&(d.current.style.left=`${E}px`,d.current.style.top=`${A}px`),d.current.style.display!=="flex"&&(d.current.style.display="flex");const I=d.current.getBoundingClientRect(),D=b.current?.parentElement?.getBoundingClientRect();D&&(I.left<D.left&&(d.current.style.left=`${D.left+5}px`),I.top<D.top&&(d.current.style.top=`${D.top+5}px`),I.right>D.right&&(d.current.style.left=`${D.right-I.width-5}px`))}catch(_){console.error("更新删除按钮位置出错:",_),d.current&&(d.current.style.display="none")}};const v=new fr.fabric.Canvas(b.current,{width:800,height:400,selection:!0,preserveObjectStacking:!0});try{window.__fabricCanvasInstance=v}catch(_){console.error("设置全局fabric canvas实例失败:",_)}const f=document.createElement("div");f.innerHTML=`
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="3 6 5 6 21 6"></polyline>
            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
            <line x1="10" y1="11" x2="10" y2="17"></line>
            <line x1="14" y1="11" x2="14" y2="17"></line>
          </svg>
        `,f.style.position="absolute",f.style.display="none",f.style.cursor="pointer",f.style.width="32px",f.style.height="32px",f.style.backgroundColor="red",f.style.borderRadius="50%",f.style.alignItems="center",f.style.justifyContent="center",f.style.zIndex="100",f.style.opacity="0.8",f.style.transition="all 0.3s ease";const y=b.current.parentElement;y&&(y.style.position="relative",y.appendChild(f)),d.current=f;const x=_=>{_.stopPropagation(),_.preventDefault();try{const T=v.getActiveObject();T&&T!==a.current&&(v.remove(T),d.current&&(d.current.style.display="none"),v.requestRenderAll(),m&&m())}catch(T){console.error("删除对象出错:",T)}};f.removeEventListener("click",x),f.addEventListener("click",x),v.on("selection:created",_=>{requestAnimationFrame(()=>c()),s.current=_.selected?_.selected[0]:null}),v.on("selection:updated",_=>{requestAnimationFrame(()=>c()),s.current=_.selected?_.selected[0]:null}),v.on("selection:cleared",()=>{d.current&&(d.current.style.display="none"),s.current=null}),v.on("text:editing:entered",()=>{requestAnimationFrame(()=>c())}),v.on("text:editing:exited",()=>{setTimeout(()=>{const _=v.getActiveObject();!_&&d.current?d.current.style.display="none":_&&requestAnimationFrame(()=>c())},100)}),v.on("mouse:down",_=>{!_.target&&d.current&&(d.current.style.display="none")}),v.on("object:moving",()=>requestAnimationFrame(()=>c())),v.on("object:scaling",()=>requestAnimationFrame(()=>c())),v.on("object:rotating",()=>requestAnimationFrame(()=>c())),v.on("object:modified",()=>{requestAnimationFrame(()=>c()),m&&m()}),v.on("object:added",_=>{const T=_.target;T&&T!==a.current&&(T.set({selectable:!0,evented:!0,hasControls:!0,hasBorders:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1}),T===v.getActiveObject()&&requestAnimationFrame(()=>c()))}),C.current=v,u&&l(u)}catch(c){console.error("初始化Canvas失败:",c)}},200),()=>{if(C.current){try{C.current.off("selection:created"),C.current.off("selection:updated"),C.current.off("selection:cleared"),C.current.off("object:moving"),C.current.off("object:scaling"),C.current.off("object:rotating"),C.current.off("object:modified"),C.current.off("object:added"),C.current.off("text:editing:entered"),C.current.off("text:editing:exited"),C.current.off("mouse:down"),d.current&&d.current.parentElement&&d.current.parentElement.removeChild(d.current);try{window.__fabricCanvasInstance=null}catch(c){console.error("移除全局fabric canvas实例失败:",c)}C.current.dispose(),g(!1)}catch(c){console.error("清理Canvas失败:",c)}C.current=null,a.current=null}}},[u,m,h]);const l=o=>{if(!C.current||!o)return;O.current=o;const c=C.current,v=[];let f=-1;const y=c.getActiveObject()||s.current;c.getObjects().forEach(x=>{x!==a.current&&(x.isSticker&&x.type==="image"?v.push({object:x,isSticker:!0,originalSrc:x.originalSrc,isActive:x===y}):v.push({object:x,isSticker:!1,isActive:x===y}),x===y&&(f=v.length-1))}),a.current&&(c.remove(a.current),a.current=null),fr.fabric.Image.fromURL(o,x=>{const _=c.getWidth(),T=c.getHeight(),E=x.width||0,A=x.height||0;let k=1;if(E>_||A>T){const z=_/E,I=T/A;k=Math.min(z,I)*.9}x.set({scaleX:k,scaleY:k,originX:"center",originY:"center",selectable:!1,evented:!1,hasControls:!1,hasBorders:!1}),a.current=x,c.add(x),x.center(),c.sendToBack(x),d.current&&(d.current.style.display="none"),v.forEach(z=>{const I=z.object;I.set({selectable:!0,evented:!0,hasControls:!0,hasBorders:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1}),z.isSticker&&z.originalSrc&&(I.originalSrc=z.originalSrc),c.add(I)});try{window.__fabricCanvasInstance=c,setTimeout(()=>{try{window.__fabricCanvasInstance=c}catch(z){console.error("延迟设置全局fabric canvas实例失败:",z)}},100),setTimeout(()=>{try{window.__fabricCanvasInstance=c}catch(z){console.error("延迟设置全局fabric canvas实例失败:",z)}},500),setTimeout(()=>{try{window.__fabricCanvasInstance=c}catch(z){console.error("延迟设置全局fabric canvas实例失败:",z)}},1e3)}catch(z){console.error("设置全局fabric canvas实例失败:",z)}if(f>=0&&f<v.length){const z=v[f];z&&z.isActive&&requestAnimationFrame(()=>{try{c.setActiveObject(z.object),c.requestRenderAll(),setTimeout(()=>{try{if(c.getActiveObject()&&d.current){const I=c.getActiveObject();if(I){const D=I.getBoundingRect();D&&(d.current.style.left=`${D.left+D.width-16}px`,d.current.style.top=`${D.top-16}px`,d.current.style.display="flex")}}}catch(I){console.error("更新删除按钮位置出错:",I),d.current&&(d.current.style.display="none")}},200),z.object.type==="i-text"&&setTimeout(()=>{try{z.object.enterEditing(),c.requestRenderAll(),requestAnimationFrame(()=>{try{if(d.current){const I=z.object.getBoundingRect();I&&(d.current.style.left=`${I.left+I.width-16}px`,d.current.style.top=`${I.top-16}px`,d.current.style.display="flex")}}catch(I){console.error("更新删除按钮位置出错:",I)}})}catch(I){console.error("进入文本编辑模式失败:",I)}},100)}catch(I){console.error("恢复选中状态失败:",I),d.current&&(d.current.style.display="none")}})}else d.current&&(d.current.style.display="none");c.requestRenderAll()},{crossOrigin:"anonymous"})};return G.useImperativeHandle(i,()=>({addText:(o,c={})=>{if(!C.current)return;const v=C.current;try{v.discardActiveObject(),d.current&&(d.current.style.display="none");const f=new fr.fabric.IText(o,{left:v.getWidth()/2,top:v.getHeight()/2,originX:"center",originY:"center",fontFamily:"Arial",fontSize:30,fill:"#000000",selectable:!0,evented:!0,editable:!0,hasControls:!0,hasBorders:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,...c});v.add(f),s.current=f,v.setActiveObject(f),v.requestRenderAll(),requestAnimationFrame(()=>{try{if(d.current){const y=f.getBoundingRect();d.current.style.left=`${y.left+y.width-16}px`,d.current.style.top=`${y.top-16}px`,d.current.style.display="flex"}}catch(y){console.error("更新删除按钮位置出错:",y)}});try{f.enterEditing(),f.selectAll(),v.requestRenderAll()}catch(y){console.error("直接进入文本编辑模式失败:",y),setTimeout(()=>{try{v.setActiveObject(f),f.enterEditing(),f.selectAll(),v.requestRenderAll(),requestAnimationFrame(()=>{try{if(d.current){const x=f.getBoundingRect();d.current.style.left=`${x.left+x.width-16}px`,d.current.style.top=`${x.top-16}px`,d.current.style.display="flex"}}catch(x){console.error("更新删除按钮位置出错:",x)}})}catch(x){console.error("延迟进入文本编辑模式失败:",x)}},100)}m&&setTimeout(()=>{m()},500)}catch(f){console.error("添加文本失败:",f)}},addSticker:o=>{if(!C.current)return;const c=C.current;try{c.discardActiveObject(),d.current&&(d.current.style.display="none"),fr.fabric.Image.fromURL(o,v=>{const y=v.width||0,x=v.height||0;let _=1;if(y>150||x>150){const T=150/y,E=150/x;_=Math.min(T,E)}v.set({left:c.getWidth()/2,top:c.getHeight()/2,originX:"center",originY:"center",scaleX:_,scaleY:_,selectable:!0,evented:!0,hasControls:!0,hasBorders:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,cornerSize:12,transparentCorners:!1,cornerColor:"#2196F3",cornerStrokeColor:"#ffffff",borderColor:"#2196F3",borderOpacityWhenMoving:.4,borderScaleFactor:1.5,padding:5}),v.isSticker=!0,v.originalSrc=o,v.setControlsVisibility({mt:!0,mb:!0,ml:!0,mr:!0,tl:!0,tr:!0,bl:!0,br:!0,mtr:!0}),c.add(v),s.current=v,c.setActiveObject(v),c.requestRenderAll(),requestAnimationFrame(()=>{try{if(d.current){const T=v.getBoundingRect();d.current.style.left=`${T.left+T.width-16}px`,d.current.style.top=`${T.top-16}px`,d.current.style.display="flex"}}catch(T){console.error("更新删除按钮位置出错:",T)}}),m&&setTimeout(()=>{m()},500)},{crossOrigin:"anonymous"})}catch(v){console.error("添加贴纸失败:",v)}},deleteSelected:()=>{if(!C.current)return;const o=C.current,c=o.getActiveObject();c&&c!==a.current&&(o.remove(c),d.current&&(d.current.style.display="none"),o.requestRenderAll(),m&&m())},toDataURL:()=>{if(!C.current)return"";const o=C.current,c=o.getActiveObject();c&&o.discardActiveObject();const v=o.toDataURL({format:"png",quality:1});return c&&(o.setActiveObject(c),o.requestRenderAll()),v},ensureObjectsSelectable:()=>{if(!C.current)return;const o=C.current;o.getObjects().forEach(c=>{c!==a.current&&c.set({selectable:!0,evented:!0,hasControls:!0,hasBorders:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1})}),o.requestRenderAll()},getCanvas:()=>C.current})),Q.jsx("canvas",{ref:b})}),cv=({color:r,onChange:i,className:u=""})=>{const m=["#000000","#ffffff","#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff","#ff8000","#8000ff","#808080","#800000"],b=C=>{try{i(C)}catch(O){console.error("处理颜色变更时出错:",O)}};return Q.jsx("div",{className:`color-picker ${u}`,children:Q.jsx("div",{className:"preset-colors flex flex-wrap justify-center gap-2 mb-2 w-full",children:m.map(C=>Q.jsx("div",{className:"color-item",style:{width:"calc(100% / 6 - 8px)"},children:Q.jsx("button",{className:`w-full border-2 ${r===C?"border-blue-500 ring-2 ring-blue-300":"border-gray-300"} hover:scale-105 transition-transform`,style:{backgroundColor:C,height:"24px",borderRadius:"4px"},onClick:()=>b(C),title:C,"aria-label":`选择颜色 ${C}`})},C))})})},eT="transparent",iT=({onAddText:r})=>{const{t:i}=Sa(),[u,m]=G.useState("Arial"),[b,C]=G.useState(30),[O,d]=G.useState("#000000"),[a,h]=G.useState(eT),[g,s]=G.useState(.3),[l,o]=G.useState(!1),[c,v]=G.useState(!1),[f,y]=G.useState(!1),[x,_]=G.useState(!1),[T,E]=G.useState(null),A=[{value:"Arial",label:"Arial"},{value:"Verdana",label:"Verdana"},{value:"Times New Roman",label:"Times New Roman"},{value:"Courier New",label:"Courier New"},{value:"Georgia",label:"Georgia"},{value:"Tahoma",label:"Tahoma"}],k=[{value:20,label:i("small")},{value:30,label:i("medium")},{value:40,label:i("large")},{value:50,label:i("xlarge")}],z=[{value:0,label:i("none")},{value:.3,label:i("thin")},{value:.5,label:i("medium_stroke")},{value:1,label:i("thick")}];G.useEffect(()=>{let D=null,q=null,st=null,Z=null;try{const $=()=>{try{const U=window.__fabricCanvasInstance;if(!U){console.error("TextEditor - 无法获取fabric canvas实例");return}try{U.off("selection:created"),U.off("selection:updated"),U.off("selection:cleared")}catch(tt){console.error("TextEditor - 清除旧事件监听器出错:",tt)}st&&window.clearTimeout(st),st=window.setTimeout(()=>{try{D=()=>{try{const tt=U.getActiveObject();if(tt&&tt.type==="i-text"){const nt=tt;E(nt),nt.fontFamily&&m(nt.fontFamily),nt.fontSize&&C(nt.fontSize),nt.fill&&typeof nt.fill=="string"&&d(nt.fill),nt.stroke&&typeof nt.stroke=="string"&&h(nt.stroke),nt.strokeWidth&&s(nt.strokeWidth),o(nt.fontWeight==="bold"),v(nt.fontStyle==="italic"),y(!!nt.underline),_(!!nt.shadow)}else E(null)}catch(tt){console.error("TextEditor - 处理选择事件出错:",tt)}},q=()=>{E(null)},D&&q&&(U.on("selection:created",D),U.on("selection:updated",D),U.on("selection:cleared",q),D())}catch(tt){console.error("TextEditor - 设置事件监听器出错:",tt)}},500)}catch(U){console.error("TextEditor - setupEventListeners出错:",U)}},ut=()=>{try{window.__fabricCanvasInstance&&($(),Z&&(window.clearInterval(Z),Z=null))}catch(U){console.error("TextEditor - checkCanvasReady出错:",U)}};Z=window.setInterval(ut,500),ut()}catch($){console.error("TextEditor - useEffect初始化出错:",$)}return()=>{try{st&&(window.clearTimeout(st),st=null),Z&&(window.clearInterval(Z),Z=null);try{const $=window.__fabricCanvasInstance;if($&&D&&q)try{$.off("selection:created",D),$.off("selection:updated",D),$.off("selection:cleared",q)}catch(ut){console.error("TextEditor - 移除事件监听器出错:",ut)}}catch($){console.error("TextEditor - 清理fabric canvas出错:",$)}}catch($){console.error("TextEditor - 清理事件监听器出错:",$)}}},[]),G.useEffect(()=>{if(T)try{T.set({fontFamily:u,fontSize:b,fill:O,stroke:a==="transparent"?"":a,strokeWidth:a==="transparent"?0:g,fontWeight:l?"bold":"normal",fontStyle:c?"italic":"normal",underline:f,shadow:x?new fr.fabric.Shadow({color:"rgba(0,0,0,0.3)",blur:5,offsetX:2,offsetY:2}):void 0}),T.setControlsVisibility({mt:!0,mb:!0,ml:!0,mr:!0,tl:!0,tr:!0,bl:!0,br:!0,mtr:!0}),T.canvas&&T.canvas.requestRenderAll()}catch(D){console.error("TextEditor - 更新文本样式出错:",D)}},[u,b,O,a,g,l,c,f,x,T]);const I=()=>{try{r&&r(i("click_edit_text"),{fontFamily:u,fontSize:b,fill:O,stroke:a==="transparent"?"":a,strokeWidth:a==="transparent"?0:g,fontWeight:l?"bold":"normal",fontStyle:c?"italic":"normal",underline:f,shadow:x?{color:"rgba(0,0,0,0.3)",blur:5,offsetX:2,offsetY:2}:null})}catch(D){console.error("TextEditor - 添加文本出错:",D)}};return Q.jsxs("div",{className:"text-editor",children:[Q.jsx("div",{className:"flex justify-center mb-5",children:Q.jsx("button",{onClick:I,className:"px-6 py-3 rounded-md text-lg bg-blue-500 hover:bg-blue-600 text-white w-48",children:i("add_text")})}),Q.jsxs("div",{className:"space-y-4",children:[Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("font")}),Q.jsx("select",{value:u,onChange:D=>m(D.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:A.map(D=>Q.jsx("option",{value:D.value,children:D.label},D.value))})]}),Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("font_size")}),Q.jsx("div",{className:"flex flex-wrap gap-2",children:k.map(D=>Q.jsx("button",{onClick:()=>C(D.value),className:`px-4 py-2 rounded-md flex-1 ${b===D.value?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:D.label},D.value))})]}),Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("text_style")}),Q.jsxs("div",{className:"flex flex-wrap gap-2",children:[Q.jsx("button",{onClick:()=>o(!l),className:`px-4 py-2 rounded-md flex-1 ${l?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:Q.jsx("span",{className:"font-bold",children:i("bold")})}),Q.jsx("button",{onClick:()=>v(!c),className:`px-4 py-2 rounded-md flex-1 ${c?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:Q.jsx("span",{className:"italic",children:i("italic")})}),Q.jsx("button",{onClick:()=>y(!f),className:`px-4 py-2 rounded-md flex-1 ${f?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:Q.jsx("span",{className:"underline",children:i("underline")})}),Q.jsx("button",{onClick:()=>_(!x),className:`px-4 py-2 rounded-md flex-1 ${x?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:i("shadow")})]})]}),Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("text_color")}),Q.jsx("div",{children:Q.jsx(cv,{color:O,onChange:d,className:"mb-4"})})]}),Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("stroke_color")}),Q.jsx("div",{children:Q.jsx(cv,{color:a,onChange:h,className:"mb-4"})})]}),Q.jsxs("div",{children:[Q.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:i("stroke_width")}),Q.jsx("div",{className:"flex flex-wrap gap-2",children:z.map(D=>Q.jsx("button",{onClick:()=>s(D.value),className:`px-4 py-2 rounded-md flex-1 ${g===D.value?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:D.label},D.value))})]})]})]})},nT=({onStickerSelect:r})=>{const{t:i}=Sa(),u=[{id:"emoji",name:i("emoji"),stickers:[{id:"emoji1",emoji:"😊",alt:"笑脸"},{id:"emoji2",emoji:"😂",alt:"笑哭"},{id:"emoji3",emoji:"❤️",alt:"爱心"},{id:"emoji4",emoji:"😍",alt:"爱慕"},{id:"emoji5",emoji:"🥰",alt:"带爱心的笑脸"},{id:"emoji6",emoji:"😎",alt:"酷"},{id:"emoji7",emoji:"🤩",alt:"星星眼"},{id:"emoji8",emoji:"😘",alt:"飞吻"}]},{id:"animals",name:i("animals"),stickers:[{id:"animal1",emoji:"🐱",alt:"猫"},{id:"animal2",emoji:"🐶",alt:"狗"},{id:"animal3",emoji:"🦊",alt:"狐狸"},{id:"animal4",emoji:"🐼",alt:"熊猫"},{id:"animal5",emoji:"🦁",alt:"狮子"},{id:"animal6",emoji:"🐰",alt:"兔子"},{id:"animal7",emoji:"🐨",alt:"考拉"},{id:"animal8",emoji:"🦄",alt:"独角兽"}]},{id:"food",name:i("food"),stickers:[{id:"food1",emoji:"🍕",alt:"披萨"},{id:"food2",emoji:"🍔",alt:"汉堡"},{id:"food3",emoji:"🍰",alt:"蛋糕"},{id:"food4",emoji:"☕",alt:"咖啡"},{id:"food5",emoji:"🍦",alt:"冰淇淋"},{id:"food6",emoji:"🍎",alt:"苹果"},{id:"food7",emoji:"🍓",alt:"草莓"},{id:"food8",emoji:"🍉",alt:"西瓜"}]},{id:"objects",name:i("objects"),stickers:[{id:"object1",emoji:"🚗",alt:"汽车"},{id:"object2",emoji:"📱",alt:"手机"},{id:"object3",emoji:"💻",alt:"笔记本电脑"},{id:"object4",emoji:"📷",alt:"相机"},{id:"object5",emoji:"🎁",alt:"礼物"},{id:"object6",emoji:"🏆",alt:"奖杯"},{id:"object7",emoji:"🔑",alt:"钥匙"},{id:"object8",emoji:"💰",alt:"钱袋"}]},{id:"symbols",name:i("symbols"),stickers:[{id:"symbol1",emoji:"⭐",alt:"星星"},{id:"symbol2",emoji:"🌟",alt:"闪亮的星"},{id:"symbol3",emoji:"💯",alt:"100分"},{id:"symbol4",emoji:"🔥",alt:"火焰"},{id:"symbol5",emoji:"✨",alt:"闪光"},{id:"symbol6",emoji:"💫",alt:"眩晕"},{id:"symbol7",emoji:"🌈",alt:"彩虹"},{id:"symbol8",emoji:"☀️",alt:"太阳"}]}],[m,b]=G.useState("emoji"),[C,O]=G.useState({}),d=g=>{try{const s=document.createElement("canvas"),l=s.getContext("2d");return l?(s.width=200,s.height=200,l.clearRect(0,0,s.width,s.height),l.font="160px sans-serif",l.textAlign="center",l.textBaseline="middle",l.fillText(g.emoji,100,100),s.toDataURL("image/png")):(console.error(`无法获取canvas 2d上下文 - 贴纸 ${g.id}`),null)}catch(s){return console.error(`处理贴纸 ${g.id} 时出错:`,s),null}};G.useEffect(()=>{try{const g={},s=l=>{if(l>=u.length){O(g);return}u[l].stickers.forEach(c=>{const v=d(c);v&&(g[c.id]=v)}),setTimeout(()=>s(l+1),10)};s(0)}catch(g){console.error("预渲染贴纸出错:",g)}},[]);const a=g=>{try{const s=C[g.id];if(s){r(s);return}try{const l=document.createElement("canvas"),o=l.getContext("2d");if(!o){console.error("无法获取canvas 2d上下文");return}l.width=200,l.height=200;try{o.clearRect(0,0,l.width,l.height),o.font="160px sans-serif",o.textAlign="center",o.textBaseline="middle",o.fillText(g.emoji,100,100);const c=l.toDataURL("image/png");r(c)}catch(c){console.error("渲染贴纸出错:",c)}}catch(l){console.error("创建Canvas出错:",l)}}catch(s){console.error("添加贴纸出错:",s)}},h=u.find(g=>g.id===m)?.stickers||[];return Q.jsxs("div",{className:"sticker-picker",children:[Q.jsx("h3",{className:"text-lg font-medium mb-3",children:i("sticker")}),Q.jsx("div",{className:"sticker-categories overflow-x-auto whitespace-nowrap mb-3 pb-2",children:Q.jsx("div",{className:"inline-flex",children:u.map(g=>Q.jsx("button",{className:`px-3 py-1 rounded-md mr-2 ${m===g.id?"bg-blue-500 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,onClick:()=>b(g.id),children:g.name},g.id))})}),Q.jsx("div",{className:"sticker-grid grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-8 gap-2",children:h.map(g=>Q.jsx("div",{className:"sticker-item p-2 border rounded-lg cursor-pointer hover:bg-blue-50 hover:border-blue-300 transition-colors active:bg-blue-100",onClick:()=>a(g),title:g.alt,children:Q.jsx("div",{className:"flex items-center justify-center h-12",children:Q.jsx("span",{className:"text-3xl",children:g.emoji})})},g.id))})]})};class uv extends G.Component{constructor(i){super(i),this.state={hasError:!1,error:null}}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,u){console.error("组件错误:",i),console.error("错误详情:",u)}render(){return this.state.hasError?this.props.fallback:this.props.children}}const rT=({image:r,onSave:i})=>{const{t:u}=Sa(),[m,b]=G.useState("text"),C=G.useRef(null),[O,d]=G.useState(!1),a=G.useRef(null),h=G.useRef(!1),g=G.useRef(null),s=G.useRef(!1),l=G.useRef(!0),[o,c]=G.useState(!1),[v,f]=G.useState(null);G.useEffect(()=>{l.current&&r?(a.current=r,d(!0),l.current=!1):!a.current&&r&&(a.current=r,d(!0))},[r]);const y=G.useCallback(()=>{C.current&&!h.current&&(h.current=!0,g.current&&(window.clearTimeout(g.current),g.current=null),g.current=window.setTimeout(()=>{try{if(C.current?.ensureObjectsSelectable(),o){const Z=C.current?.toDataURL();Z&&(a.current=Z,i(Z)),c(!1)}}catch(Z){console.error("处理画布状态失败:",Z)}finally{setTimeout(()=>{h.current=!1},500)}},300))},[i,o]),x=G.useCallback((Z,$)=>{C.current&&(s.current=!0,C.current.addText(Z,$),setTimeout(()=>{C.current&&C.current.ensureObjectsSelectable()},500))},[]),_=G.useCallback(Z=>{C.current&&(s.current=!0,C.current.addSticker(Z),setTimeout(()=>{C.current&&C.current.ensureObjectsSelectable()},500))},[]),T=G.useCallback(()=>{if(!C.current)return;const Z=C.current.toDataURL(),$=document.createElement("a");$.download="edited-picture.png",$.href=Z,$.click()},[]),E=G.useCallback(async()=>{if(C.current)try{const Z=C.current.toDataURL(),$=document.createElement("canvas"),ut=$.getContext("2d");if(!ut){console.error("无法创建临时canvas上下文");return}const U=new Image;U.onload=async()=>{$.width=U.width,$.height=U.height,ut.drawImage(U,0,0);try{const tt=await new Promise(nt=>{$.toBlob(F=>{if(F)nt(F);else throw new Error("转换为blob失败")})});await navigator.clipboard.write([new ClipboardItem({[tt.type]:tt})]),alert(u("copy_success"))}catch(tt){console.error("复制到剪贴板失败:",tt),alert(u("copy_fail"))}},U.src=Z}catch(Z){console.error("复制图片失败:",Z),alert(u("copy_fail"))}},[u]),A=G.useCallback(Z=>{try{f(null),b(Z),C.current&&setTimeout(()=>{try{C.current?.ensureObjectsSelectable()}catch($){console.error(`切换到${Z}标签后确保对象可选择出错:`,$)}},100)}catch($){console.error(`切换到${Z}标签出错:`,$),f(`切换到${Z==="text"?"文本":"贴纸"}编辑器失败`)}},[]),k=G.useCallback(()=>{f(null)},[]),z=G.useCallback(()=>{if(v)return Q.jsxs("div",{className:"p-4 text-center",children:[Q.jsx("div",{className:"text-red-500 mb-3",children:v}),Q.jsx("button",{onClick:k,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:u("try_again")})]});try{return m==="text"?Q.jsx(uv,{fallback:Q.jsxs("div",{className:"p-4 text-center",children:[Q.jsx("div",{className:"text-red-500 mb-3",children:u("text_editor_error")}),Q.jsx("button",{onClick:()=>A("text"),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:u("reload")})]}),children:Q.jsx(iT,{onAddText:x},`text-editor-${Date.now()}`)}):Q.jsx(uv,{fallback:Q.jsxs("div",{className:"p-4 text-center",children:[Q.jsx("div",{className:"text-red-500 mb-3",children:u("sticker_picker_error")}),Q.jsx("button",{onClick:()=>A("sticker"),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:u("reload")})]}),children:Q.jsx(nT,{onStickerSelect:_},`sticker-picker-${Date.now()}`)})}catch(Z){return console.error("渲染编辑器内容出错:",Z),Q.jsx("div",{className:"p-4 text-center text-red-500",children:u("editor_render_error")})}},[m,v,x,_,A,k,u]),I="flex flex-col items-center justify-center rounded-md px-2 py-1 transition-colors shadow-md w-[70px] h-[50px]",D="bg-blue-500 hover:bg-blue-600 text-white",q="bg-green-500 hover:bg-green-600 text-white",st="bg-gray-300 cursor-not-allowed text-white";return Q.jsxs("div",{className:"enhanced-picture-editor",children:[Q.jsx("div",{className:"canvas-container bg-white rounded-lg shadow-md p-4 mb-4",children:Q.jsx("div",{className:"w-full overflow-hidden rounded-lg bg-gray-100 flex items-center justify-center",style:{height:"400px"},children:Q.jsx(tT,{ref:C,image:r,onModified:y})})}),Q.jsxs("div",{className:"flex justify-center mb-4 p-4",style:{gap:"15px"},children:[Q.jsxs("button",{onClick:T,disabled:!O,className:`${I} ${O?D:st}`,children:[Q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),Q.jsx("span",{className:"text-xs font-medium",children:u("download")})]}),Q.jsxs("button",{onClick:E,disabled:!O,className:`${I} ${O?q:st}`,children:[Q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),Q.jsx("span",{className:"text-xs font-medium",children:u("copy")})]})]}),Q.jsx("div",{className:"toolbar flex flex-wrap justify-between items-center mb-4 gap-2",children:Q.jsxs("div",{className:"flex flex-wrap gap-2",children:[Q.jsx("button",{onClick:()=>A("text"),className:`px-4 py-2 rounded-md ${m==="text"?"bg-blue-500 text-white":"bg-gray-200"}`,children:u("text")}),Q.jsx("button",{onClick:()=>A("sticker"),className:`px-4 py-2 rounded-md ${m==="sticker"?"bg-blue-500 text-white":"bg-gray-200"}`,children:u("sticker")})]})}),Q.jsx("div",{className:"edit-panel bg-white rounded-lg shadow-md p-4",children:z()})]})},aT=()=>{const{t:r}=Sa(),[i,u]=G.useState(null),[m,b]=G.useState(!1),[C,O]=G.useState(window.innerWidth),d=G.useRef(null);G.useEffect(()=>{const _=()=>{O(window.innerWidth)};return window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)}},[]);const a=G.useCallback(_=>{u(_),d.current=_},[]),h=G.useCallback(()=>{u(null),d.current=null},[]),g=G.useCallback(()=>{i&&b(!0)},[i]),s=G.useCallback(_=>{u(_),d.current=_,b(!1)},[]),l=G.useCallback(_=>{_&&_!==d.current&&(u(_),d.current=_)},[]),o=()=>C<768?"100%":C<1024?"90%":"1000px",c="flex flex-col items-center justify-center rounded-md px-2 py-1 transition-colors shadow-md w-[70px] h-[50px]",v="bg-pink-500 text-white hover:bg-pink-600",f="bg-blue-500 text-white hover:bg-blue-600",y="bg-red-500 text-white hover:bg-red-600",x="bg-gray-200 text-gray-400 cursor-not-allowed";return Q.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[Q.jsx(fS,{}),Q.jsx("main",{className:"flex-1 py-4 px-4",children:Q.jsxs("div",{style:{maxWidth:o(),margin:"0 auto"},children:[Q.jsxs("div",{className:"text-center mb-6",children:[Q.jsx("h2",{className:"text-sm text-gray-800",children:r("subtitle")}),Q.jsx("p",{className:"text-sm text-gray-600",children:r("privacy_notice")})]}),Q.jsxs("div",{className:"flex flex-wrap justify-center mb-4 p-4",style:{gap:"15px"},children:[Q.jsxs("button",{className:`${c} ${v}`,onClick:()=>document.getElementById("fileInput")?.click(),children:[Q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Q.jsx("span",{className:"text-xs font-medium",children:r("upload")})]}),Q.jsxs("button",{onClick:g,disabled:!i,className:`${c} ${i?f:x}`,children:[Q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.121 14.121L19 19m-7-7l7-7m-7 7l-2.879 2.879M12 12L9.121 9.121m0 5.758a3 3 0 10-4.243-4.243 3 3 0 004.243 4.243z"})}),Q.jsx("span",{className:"text-xs font-medium",children:r("crop")})]}),Q.jsxs("button",{className:`${c} ${i?y:x}`,onClick:h,disabled:!i,children:[Q.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Q.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Q.jsx("span",{className:"text-xs font-medium",children:r("delete")})]})]}),Q.jsx("div",{className:"mb-4 border border-dashed border-gray-300 rounded-lg overflow-hidden",children:i?Q.jsx(rT,{image:i,onSave:l}):Q.jsxs("div",{className:"bg-white",style:{height:"500px"},children:[Q.jsx("input",{id:"fileInput",type:"file",accept:"image/*",className:"hidden",onChange:_=>{const T=_.target.files?.[0];if(T){const E=new FileReader;E.onload=A=>{A.target?.result&&a(A.target.result)},E.readAsDataURL(T)}}}),Q.jsx(uS,{onImageUpload:a})]})})]})}),i&&Q.jsx(Qw,{image:i,open:m,onClose:()=>b(!1),onCropComplete:s}),Q.jsx(hS,{})]})},Ft=r=>typeof r=="string",Cs=()=>{let r,i;const u=new Promise((m,b)=>{r=m,i=b});return u.resolve=r,u.reject=i,u},fv=r=>r==null?"":""+r,sT=(r,i,u)=>{r.forEach(m=>{i[m]&&(u[m]=i[m])})},oT=/###/g,hv=r=>r&&r.indexOf("###")>-1?r.replace(oT,"."):r,dv=r=>!r||Ft(r),Rs=(r,i,u)=>{const m=Ft(i)?i.split("."):i;let b=0;for(;b<m.length-1;){if(dv(r))return{};const C=hv(m[b]);!r[C]&&u&&(r[C]=new u),Object.prototype.hasOwnProperty.call(r,C)?r=r[C]:r={},++b}return dv(r)?{}:{obj:r,k:hv(m[b])}},gv=(r,i,u)=>{const{obj:m,k:b}=Rs(r,i,Object);if(m!==void 0||i.length===1){m[b]=u;return}let C=i[i.length-1],O=i.slice(0,i.length-1),d=Rs(r,O,Object);for(;d.obj===void 0&&O.length;)C=`${O[O.length-1]}.${C}`,O=O.slice(0,O.length-1),d=Rs(r,O,Object),d?.obj&&typeof d.obj[`${d.k}.${C}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${C}`]=u},lT=(r,i,u,m)=>{const{obj:b,k:C}=Rs(r,i,Object);b[C]=b[C]||[],b[C].push(u)},Ol=(r,i)=>{const{obj:u,k:m}=Rs(r,i);if(u&&Object.prototype.hasOwnProperty.call(u,m))return u[m]},cT=(r,i,u)=>{const m=Ol(r,u);return m!==void 0?m:Ol(i,u)},x0=(r,i,u)=>{for(const m in i)m!=="__proto__"&&m!=="constructor"&&(m in r?Ft(r[m])||r[m]instanceof String||Ft(i[m])||i[m]instanceof String?u&&(r[m]=i[m]):x0(r[m],i[m],u):r[m]=i[m]);return r},ua=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var uT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const fT=r=>Ft(r)?r.replace(/[&<>"'\/]/g,i=>uT[i]):r;class hT{constructor(i){this.capacity=i,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(i){const u=this.regExpMap.get(i);if(u!==void 0)return u;const m=new RegExp(i);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(i,m),this.regExpQueue.push(i),m}}const dT=[" ",",","?","!",";"],gT=new hT(20),pT=(r,i,u)=>{i=i||"",u=u||"";const m=dT.filter(O=>i.indexOf(O)<0&&u.indexOf(O)<0);if(m.length===0)return!0;const b=gT.getRegExp(`(${m.map(O=>O==="?"?"\\?":O).join("|")})`);let C=!b.test(r);if(!C){const O=r.indexOf(u);O>0&&!b.test(r.substring(0,O))&&(C=!0)}return C},Yf=(r,i,u=".")=>{if(!r)return;if(r[i])return Object.prototype.hasOwnProperty.call(r,i)?r[i]:void 0;const m=i.split(u);let b=r;for(let C=0;C<m.length;){if(!b||typeof b!="object")return;let O,d="";for(let a=C;a<m.length;++a)if(a!==C&&(d+=u),d+=m[a],O=b[d],O!==void 0){if(["string","number","boolean"].indexOf(typeof O)>-1&&a<m.length-1)continue;C+=a-C+1;break}b=O}return b},Bs=r=>r?.replace("_","-"),mT={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,i){console?.[r]?.apply?.(console,i)}};class El{constructor(i,u={}){this.init(i,u)}init(i,u={}){this.prefix=u.prefix||"i18next:",this.logger=i||mT,this.options=u,this.debug=u.debug}log(...i){return this.forward(i,"log","",!0)}warn(...i){return this.forward(i,"warn","",!0)}error(...i){return this.forward(i,"error","")}deprecate(...i){return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}forward(i,u,m,b){return b&&!this.debug?null:(Ft(i[0])&&(i[0]=`${m}${this.prefix} ${i[0]}`),this.logger[u](i))}create(i){return new El(this.logger,{prefix:`${this.prefix}:${i}:`,...this.options})}clone(i){return i=i||this.options,i.prefix=i.prefix||this.prefix,new El(this.logger,i)}}var Hi=new El;class Xl{constructor(){this.observers={}}on(i,u){return i.split(" ").forEach(m=>{this.observers[m]||(this.observers[m]=new Map);const b=this.observers[m].get(u)||0;this.observers[m].set(u,b+1)}),this}off(i,u){if(this.observers[i]){if(!u){delete this.observers[i];return}this.observers[i].delete(u)}}emit(i,...u){this.observers[i]&&Array.from(this.observers[i].entries()).forEach(([b,C])=>{for(let O=0;O<C;O++)b(...u)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([b,C])=>{for(let O=0;O<C;O++)b.apply(b,[i,...u])})}}class pv extends Xl{constructor(i,u={ns:["translation"],defaultNS:"translation"}){super(),this.data=i||{},this.options=u,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}removeNamespaces(i){const u=this.options.ns.indexOf(i);u>-1&&this.options.ns.splice(u,1)}getResource(i,u,m,b={}){const C=b.keySeparator!==void 0?b.keySeparator:this.options.keySeparator,O=b.ignoreJSONStructure!==void 0?b.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;i.indexOf(".")>-1?d=i.split("."):(d=[i,u],m&&(Array.isArray(m)?d.push(...m):Ft(m)&&C?d.push(...m.split(C)):d.push(m)));const a=Ol(this.data,d);return!a&&!u&&!m&&i.indexOf(".")>-1&&(i=d[0],u=d[1],m=d.slice(2).join(".")),a||!O||!Ft(m)?a:Yf(this.data?.[i]?.[u],m,C)}addResource(i,u,m,b,C={silent:!1}){const O=C.keySeparator!==void 0?C.keySeparator:this.options.keySeparator;let d=[i,u];m&&(d=d.concat(O?m.split(O):m)),i.indexOf(".")>-1&&(d=i.split("."),b=u,u=d[1]),this.addNamespaces(u),gv(this.data,d,b),C.silent||this.emit("added",i,u,m,b)}addResources(i,u,m,b={silent:!1}){for(const C in m)(Ft(m[C])||Array.isArray(m[C]))&&this.addResource(i,u,C,m[C],{silent:!0});b.silent||this.emit("added",i,u,m)}addResourceBundle(i,u,m,b,C,O={silent:!1,skipCopy:!1}){let d=[i,u];i.indexOf(".")>-1&&(d=i.split("."),b=m,m=u,u=d[1]),this.addNamespaces(u);let a=Ol(this.data,d)||{};O.skipCopy||(m=JSON.parse(JSON.stringify(m))),b?x0(a,m,C):a={...a,...m},gv(this.data,d,a),O.silent||this.emit("added",i,u,m)}removeResourceBundle(i,u){this.hasResourceBundle(i,u)&&delete this.data[i][u],this.removeNamespaces(u),this.emit("removed",i,u)}hasResourceBundle(i,u){return this.getResource(i,u)!==void 0}getResourceBundle(i,u){return u||(u=this.options.defaultNS),this.getResource(i,u)}getDataByLanguage(i){return this.data[i]}hasLanguageSomeTranslations(i){const u=this.getDataByLanguage(i);return!!(u&&Object.keys(u)||[]).find(b=>u[b]&&Object.keys(u[b]).length>0)}toJSON(){return this.data}}var C0={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,i,u,m,b){return r.forEach(C=>{i=this.processors[C]?.process(i,u,m,b)??i}),i}};const mv={},vv=r=>!Ft(r)&&typeof r!="boolean"&&typeof r!="number";class Al extends Xl{constructor(i,u={}){super(),sT(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i,this),this.options=u,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Hi.create("translator")}changeLanguage(i){i&&(this.language=i)}exists(i,u={interpolation:{}}){const m={...u};return i==null?!1:this.resolve(i,m)?.res!==void 0}extractFromKey(i,u){let m=u.nsSeparator!==void 0?u.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const b=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator;let C=u.ns||this.options.defaultNS||[];const O=m&&i.indexOf(m)>-1,d=!this.options.userDefinedKeySeparator&&!u.keySeparator&&!this.options.userDefinedNsSeparator&&!u.nsSeparator&&!pT(i,m,b);if(O&&!d){const a=i.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:i,namespaces:Ft(C)?[C]:C};const h=i.split(m);(m!==b||m===b&&this.options.ns.indexOf(h[0])>-1)&&(C=h.shift()),i=h.join(b)}return{key:i,namespaces:Ft(C)?[C]:C}}translate(i,u,m){let b=typeof u=="object"?{...u}:u;if(typeof b!="object"&&this.options.overloadTranslationOptionHandler&&(b=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(b={...b}),b||(b={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);const C=b.returnDetails!==void 0?b.returnDetails:this.options.returnDetails,O=b.keySeparator!==void 0?b.keySeparator:this.options.keySeparator,{key:d,namespaces:a}=this.extractFromKey(i[i.length-1],b),h=a[a.length-1];let g=b.nsSeparator!==void 0?b.nsSeparator:this.options.nsSeparator;g===void 0&&(g=":");const s=b.lng||this.language,l=b.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(s?.toLowerCase()==="cimode")return l?C?{res:`${h}${g}${d}`,usedKey:d,exactUsedKey:d,usedLng:s,usedNS:h,usedParams:this.getUsedParamsDetails(b)}:`${h}${g}${d}`:C?{res:d,usedKey:d,exactUsedKey:d,usedLng:s,usedNS:h,usedParams:this.getUsedParamsDetails(b)}:d;const o=this.resolve(i,b);let c=o?.res;const v=o?.usedKey||d,f=o?.exactUsedKey||d,y=["[object Number]","[object Function]","[object RegExp]"],x=b.joinArrays!==void 0?b.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,T=b.count!==void 0&&!Ft(b.count),E=Al.hasDefaultValue(b),A=T?this.pluralResolver.getSuffix(s,b.count,b):"",k=b.ordinal&&T?this.pluralResolver.getSuffix(s,b.count,{ordinal:!1}):"",z=T&&!b.ordinal&&b.count===0,I=z&&b[`defaultValue${this.options.pluralSeparator}zero`]||b[`defaultValue${A}`]||b[`defaultValue${k}`]||b.defaultValue;let D=c;_&&!c&&E&&(D=I);const q=vv(D),st=Object.prototype.toString.apply(D);if(_&&D&&q&&y.indexOf(st)<0&&!(Ft(x)&&Array.isArray(D))){if(!b.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Z=this.options.returnedObjectHandler?this.options.returnedObjectHandler(v,D,{...b,ns:a}):`key '${d} (${this.language})' returned an object instead of string.`;return C?(o.res=Z,o.usedParams=this.getUsedParamsDetails(b),o):Z}if(O){const Z=Array.isArray(D),$=Z?[]:{},ut=Z?f:v;for(const U in D)if(Object.prototype.hasOwnProperty.call(D,U)){const tt=`${ut}${O}${U}`;E&&!c?$[U]=this.translate(tt,{...b,defaultValue:vv(I)?I[U]:void 0,joinArrays:!1,ns:a}):$[U]=this.translate(tt,{...b,joinArrays:!1,ns:a}),$[U]===tt&&($[U]=D[U])}c=$}}else if(_&&Ft(x)&&Array.isArray(c))c=c.join(x),c&&(c=this.extendTranslation(c,i,b,m));else{let Z=!1,$=!1;!this.isValidLookup(c)&&E&&(Z=!0,c=I),this.isValidLookup(c)||($=!0,c=d);const U=(b.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&$?void 0:c,tt=E&&I!==c&&this.options.updateMissing;if($||Z||tt){if(this.logger.log(tt?"updateKey":"missingKey",s,h,d,tt?I:c),O){const M=this.resolve(d,{...b,keySeparator:!1});M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let nt=[];const F=this.languageUtils.getFallbackCodes(this.options.fallbackLng,b.lng||this.language);if(this.options.saveMissingTo==="fallback"&&F&&F[0])for(let M=0;M<F.length;M++)nt.push(F[M]);else this.options.saveMissingTo==="all"?nt=this.languageUtils.toResolveHierarchy(b.lng||this.language):nt.push(b.lng||this.language);const P=(M,N,X)=>{const L=E&&X!==c?X:U;this.options.missingKeyHandler?this.options.missingKeyHandler(M,h,N,L,tt,b):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(M,h,N,L,tt,b),this.emit("missingKey",M,h,N,c)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?nt.forEach(M=>{const N=this.pluralResolver.getSuffixes(M,b);z&&b[`defaultValue${this.options.pluralSeparator}zero`]&&N.indexOf(`${this.options.pluralSeparator}zero`)<0&&N.push(`${this.options.pluralSeparator}zero`),N.forEach(X=>{P([M],d+X,b[`defaultValue${X}`]||I)})}):P(nt,d,I))}c=this.extendTranslation(c,i,b,o,m),$&&c===d&&this.options.appendNamespaceToMissingKey&&(c=`${h}${g}${d}`),($||Z)&&this.options.parseMissingKeyHandler&&(c=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${g}${d}`:d,Z?c:void 0,b))}return C?(o.res=c,o.usedParams=this.getUsedParamsDetails(b),o):c}extendTranslation(i,u,m,b,C){if(this.i18nFormat?.parse)i=this.i18nFormat.parse(i,{...this.options.interpolation.defaultVariables,...m},m.lng||this.language||b.usedLng,b.usedNS,b.usedKey,{resolved:b});else if(!m.skipInterpolation){m.interpolation&&this.interpolator.init({...m,interpolation:{...this.options.interpolation,...m.interpolation}});const a=Ft(i)&&(m?.interpolation?.skipOnVariables!==void 0?m.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(a){const s=i.match(this.interpolator.nestingRegexp);h=s&&s.length}let g=m.replace&&!Ft(m.replace)?m.replace:m;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),i=this.interpolator.interpolate(i,g,m.lng||this.language||b.usedLng,m),a){const s=i.match(this.interpolator.nestingRegexp),l=s&&s.length;h<l&&(m.nest=!1)}!m.lng&&b&&b.res&&(m.lng=this.language||b.usedLng),m.nest!==!1&&(i=this.interpolator.nest(i,(...s)=>C?.[0]===s[0]&&!m.context?(this.logger.warn(`It seems you are nesting recursively key: ${s[0]} in key: ${u[0]}`),null):this.translate(...s,u),m)),m.interpolation&&this.interpolator.reset()}const O=m.postProcess||this.options.postProcess,d=Ft(O)?[O]:O;return i!=null&&d?.length&&m.applyPostProcessor!==!1&&(i=C0.handle(d,i,u,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...b,usedParams:this.getUsedParamsDetails(m)},...m}:m,this)),i}resolve(i,u={}){let m,b,C,O,d;return Ft(i)&&(i=[i]),i.forEach(a=>{if(this.isValidLookup(m))return;const h=this.extractFromKey(a,u),g=h.key;b=g;let s=h.namespaces;this.options.fallbackNS&&(s=s.concat(this.options.fallbackNS));const l=u.count!==void 0&&!Ft(u.count),o=l&&!u.ordinal&&u.count===0,c=u.context!==void 0&&(Ft(u.context)||typeof u.context=="number")&&u.context!=="",v=u.lngs?u.lngs:this.languageUtils.toResolveHierarchy(u.lng||this.language,u.fallbackLng);s.forEach(f=>{this.isValidLookup(m)||(d=f,!mv[`${v[0]}-${f}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(mv[`${v[0]}-${f}`]=!0,this.logger.warn(`key "${b}" for languages "${v.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(y=>{if(this.isValidLookup(m))return;O=y;const x=[g];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(x,g,y,f,u);else{let T;l&&(T=this.pluralResolver.getSuffix(y,u.count,u));const E=`${this.options.pluralSeparator}zero`,A=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(l&&(x.push(g+T),u.ordinal&&T.indexOf(A)===0&&x.push(g+T.replace(A,this.options.pluralSeparator)),o&&x.push(g+E)),c){const k=`${g}${this.options.contextSeparator}${u.context}`;x.push(k),l&&(x.push(k+T),u.ordinal&&T.indexOf(A)===0&&x.push(k+T.replace(A,this.options.pluralSeparator)),o&&x.push(k+E))}}let _;for(;_=x.pop();)this.isValidLookup(m)||(C=_,m=this.getResource(y,f,_,u))}))})}),{res:m,usedKey:b,exactUsedKey:C,usedLng:O,usedNS:d}}isValidLookup(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}getResource(i,u,m,b={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(i,u,m,b):this.resourceStore.getResource(i,u,m,b)}getUsedParamsDetails(i={}){const u=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],m=i.replace&&!Ft(i.replace);let b=m?i.replace:i;if(m&&typeof i.count<"u"&&(b.count=i.count),this.options.interpolation.defaultVariables&&(b={...this.options.interpolation.defaultVariables,...b}),!m){b={...b};for(const C of u)delete b[C]}return b}static hasDefaultValue(i){const u="defaultValue";for(const m in i)if(Object.prototype.hasOwnProperty.call(i,m)&&u===m.substring(0,u.length)&&i[m]!==void 0)return!0;return!1}}class yv{constructor(i){this.options=i,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Hi.create("languageUtils")}getScriptPartFromCode(i){if(i=Bs(i),!i||i.indexOf("-")<0)return null;const u=i.split("-");return u.length===2||(u.pop(),u[u.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(u.join("-"))}getLanguagePartFromCode(i){if(i=Bs(i),!i||i.indexOf("-")<0)return i;const u=i.split("-");return this.formatLanguageCode(u[0])}formatLanguageCode(i){if(Ft(i)&&i.indexOf("-")>-1){let u;try{u=Intl.getCanonicalLocales(i)[0]}catch{}return u&&this.options.lowerCaseLng&&(u=u.toLowerCase()),u||(this.options.lowerCaseLng?i.toLowerCase():i)}return this.options.cleanCode||this.options.lowerCaseLng?i.toLowerCase():i}isSupportedCode(i){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(i=this.getLanguagePartFromCode(i)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(i)>-1}getBestMatchFromCodes(i){if(!i)return null;let u;return i.forEach(m=>{if(u)return;const b=this.formatLanguageCode(m);(!this.options.supportedLngs||this.isSupportedCode(b))&&(u=b)}),!u&&this.options.supportedLngs&&i.forEach(m=>{if(u)return;const b=this.getScriptPartFromCode(m);if(this.isSupportedCode(b))return u=b;const C=this.getLanguagePartFromCode(m);if(this.isSupportedCode(C))return u=C;u=this.options.supportedLngs.find(O=>{if(O===C)return O;if(!(O.indexOf("-")<0&&C.indexOf("-")<0)&&(O.indexOf("-")>0&&C.indexOf("-")<0&&O.substring(0,O.indexOf("-"))===C||O.indexOf(C)===0&&C.length>1))return O})}),u||(u=this.getFallbackCodes(this.options.fallbackLng)[0]),u}getFallbackCodes(i,u){if(!i)return[];if(typeof i=="function"&&(i=i(u)),Ft(i)&&(i=[i]),Array.isArray(i))return i;if(!u)return i.default||[];let m=i[u];return m||(m=i[this.getScriptPartFromCode(u)]),m||(m=i[this.formatLanguageCode(u)]),m||(m=i[this.getLanguagePartFromCode(u)]),m||(m=i.default),m||[]}toResolveHierarchy(i,u){const m=this.getFallbackCodes((u===!1?[]:u)||this.options.fallbackLng||[],i),b=[],C=O=>{O&&(this.isSupportedCode(O)?b.push(O):this.logger.warn(`rejecting language code not found in supportedLngs: ${O}`))};return Ft(i)&&(i.indexOf("-")>-1||i.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&C(this.formatLanguageCode(i)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&C(this.getScriptPartFromCode(i)),this.options.load!=="currentOnly"&&C(this.getLanguagePartFromCode(i))):Ft(i)&&C(this.formatLanguageCode(i)),m.forEach(O=>{b.indexOf(O)<0&&C(this.formatLanguageCode(O))}),b}}const bv={zero:0,one:1,two:2,few:3,many:4,other:5},Sv={select:r=>r===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class vT{constructor(i,u={}){this.languageUtils=i,this.options=u,this.logger=Hi.create("pluralResolver"),this.pluralRulesCache={}}addRule(i,u){this.rules[i]=u}clearCache(){this.pluralRulesCache={}}getRule(i,u={}){const m=Bs(i==="dev"?"en":i),b=u.ordinal?"ordinal":"cardinal",C=JSON.stringify({cleanedCode:m,type:b});if(C in this.pluralRulesCache)return this.pluralRulesCache[C];let O;try{O=new Intl.PluralRules(m,{type:b})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Sv;if(!i.match(/-|_/))return Sv;const a=this.languageUtils.getLanguagePartFromCode(i);O=this.getRule(a,u)}return this.pluralRulesCache[C]=O,O}needsPlural(i,u={}){let m=this.getRule(i,u);return m||(m=this.getRule("dev",u)),m?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(i,u,m={}){return this.getSuffixes(i,m).map(b=>`${u}${b}`)}getSuffixes(i,u={}){let m=this.getRule(i,u);return m||(m=this.getRule("dev",u)),m?m.resolvedOptions().pluralCategories.sort((b,C)=>bv[b]-bv[C]).map(b=>`${this.options.prepend}${u.ordinal?`ordinal${this.options.prepend}`:""}${b}`):[]}getSuffix(i,u,m={}){const b=this.getRule(i,m);return b?`${this.options.prepend}${m.ordinal?`ordinal${this.options.prepend}`:""}${b.select(u)}`:(this.logger.warn(`no plural rule found for: ${i}`),this.getSuffix("dev",u,m))}}const xv=(r,i,u,m=".",b=!0)=>{let C=cT(r,i,u);return!C&&b&&Ft(u)&&(C=Yf(r,u,m),C===void 0&&(C=Yf(i,u,m))),C},_f=r=>r.replace(/\$/g,"$$$$");class yT{constructor(i={}){this.logger=Hi.create("interpolator"),this.options=i,this.format=i?.interpolation?.format||(u=>u),this.init(i)}init(i={}){i.interpolation||(i.interpolation={escapeValue:!0});const{escape:u,escapeValue:m,useRawValueToEscape:b,prefix:C,prefixEscaped:O,suffix:d,suffixEscaped:a,formatSeparator:h,unescapeSuffix:g,unescapePrefix:s,nestingPrefix:l,nestingPrefixEscaped:o,nestingSuffix:c,nestingSuffixEscaped:v,nestingOptionsSeparator:f,maxReplaces:y,alwaysFormat:x}=i.interpolation;this.escape=u!==void 0?u:fT,this.escapeValue=m!==void 0?m:!0,this.useRawValueToEscape=b!==void 0?b:!1,this.prefix=C?ua(C):O||"{{",this.suffix=d?ua(d):a||"}}",this.formatSeparator=h||",",this.unescapePrefix=g?"":s||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=l?ua(l):o||ua("$t("),this.nestingSuffix=c?ua(c):v||ua(")"),this.nestingOptionsSeparator=f||",",this.maxReplaces=y||1e3,this.alwaysFormat=x!==void 0?x:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const i=(u,m)=>u?.source===m?(u.lastIndex=0,u):new RegExp(m,"g");this.regexp=i(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=i(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=i(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(i,u,m,b){let C,O,d;const a=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=o=>{if(o.indexOf(this.formatSeparator)<0){const y=xv(u,a,o,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,m,{...b,...u,interpolationkey:o}):y}const c=o.split(this.formatSeparator),v=c.shift().trim(),f=c.join(this.formatSeparator).trim();return this.format(xv(u,a,v,this.options.keySeparator,this.options.ignoreJSONStructure),f,m,{...b,...u,interpolationkey:v})};this.resetRegExp();const g=b?.missingInterpolationHandler||this.options.missingInterpolationHandler,s=b?.interpolation?.skipOnVariables!==void 0?b.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:o=>_f(o)},{regex:this.regexp,safeValue:o=>this.escapeValue?_f(this.escape(o)):_f(o)}].forEach(o=>{for(d=0;C=o.regex.exec(i);){const c=C[1].trim();if(O=h(c),O===void 0)if(typeof g=="function"){const f=g(i,C,b);O=Ft(f)?f:""}else if(b&&Object.prototype.hasOwnProperty.call(b,c))O="";else if(s){O=C[0];continue}else this.logger.warn(`missed to pass in variable ${c} for interpolating ${i}`),O="";else!Ft(O)&&!this.useRawValueToEscape&&(O=fv(O));const v=o.safeValue(O);if(i=i.replace(C[0],v),s?(o.regex.lastIndex+=O.length,o.regex.lastIndex-=C[0].length):o.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),i}nest(i,u,m={}){let b,C,O;const d=(a,h)=>{const g=this.nestingOptionsSeparator;if(a.indexOf(g)<0)return a;const s=a.split(new RegExp(`${g}[ ]*{`));let l=`{${s[1]}`;a=s[0],l=this.interpolate(l,O);const o=l.match(/'/g),c=l.match(/"/g);((o?.length??0)%2===0&&!c||c.length%2!==0)&&(l=l.replace(/'/g,'"'));try{O=JSON.parse(l),h&&(O={...h,...O})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${a}`,v),`${a}${g}${l}`}return O.defaultValue&&O.defaultValue.indexOf(this.prefix)>-1&&delete O.defaultValue,a};for(;b=this.nestingRegexp.exec(i);){let a=[];O={...m},O=O.replace&&!Ft(O.replace)?O.replace:O,O.applyPostProcessor=!1,delete O.defaultValue;const h=/{.*}/.test(b[1])?b[1].lastIndexOf("}")+1:b[1].indexOf(this.formatSeparator);if(h!==-1&&(a=b[1].slice(h).split(this.formatSeparator).map(g=>g.trim()).filter(Boolean),b[1]=b[1].slice(0,h)),C=u(d.call(this,b[1].trim(),O),O),C&&b[0]===i&&!Ft(C))return C;Ft(C)||(C=fv(C)),C||(this.logger.warn(`missed to resolve ${b[1]} for nesting ${i}`),C=""),a.length&&(C=a.reduce((g,s)=>this.format(g,s,m.lng,{...m,interpolationkey:b[1].trim()}),C.trim())),i=i.replace(b[0],C),this.regexp.lastIndex=0}return i}}const bT=r=>{let i=r.toLowerCase().trim();const u={};if(r.indexOf("(")>-1){const m=r.split("(");i=m[0].toLowerCase().trim();const b=m[1].substring(0,m[1].length-1);i==="currency"&&b.indexOf(":")<0?u.currency||(u.currency=b.trim()):i==="relativetime"&&b.indexOf(":")<0?u.range||(u.range=b.trim()):b.split(";").forEach(O=>{if(O){const[d,...a]=O.split(":"),h=a.join(":").trim().replace(/^'+|'+$/g,""),g=d.trim();u[g]||(u[g]=h),h==="false"&&(u[g]=!1),h==="true"&&(u[g]=!0),isNaN(h)||(u[g]=parseInt(h,10))}})}return{formatName:i,formatOptions:u}},Cv=r=>{const i={};return(u,m,b)=>{let C=b;b&&b.interpolationkey&&b.formatParams&&b.formatParams[b.interpolationkey]&&b[b.interpolationkey]&&(C={...C,[b.interpolationkey]:void 0});const O=m+JSON.stringify(C);let d=i[O];return d||(d=r(Bs(m),b),i[O]=d),d(u)}},ST=r=>(i,u,m)=>r(Bs(u),m)(i);class xT{constructor(i={}){this.logger=Hi.create("formatter"),this.options=i,this.init(i)}init(i,u={interpolation:{}}){this.formatSeparator=u.interpolation.formatSeparator||",";const m=u.cacheInBuiltFormats?Cv:ST;this.formats={number:m((b,C)=>{const O=new Intl.NumberFormat(b,{...C});return d=>O.format(d)}),currency:m((b,C)=>{const O=new Intl.NumberFormat(b,{...C,style:"currency"});return d=>O.format(d)}),datetime:m((b,C)=>{const O=new Intl.DateTimeFormat(b,{...C});return d=>O.format(d)}),relativetime:m((b,C)=>{const O=new Intl.RelativeTimeFormat(b,{...C});return d=>O.format(d,C.range||"day")}),list:m((b,C)=>{const O=new Intl.ListFormat(b,{...C});return d=>O.format(d)})}}add(i,u){this.formats[i.toLowerCase().trim()]=u}addCached(i,u){this.formats[i.toLowerCase().trim()]=Cv(u)}format(i,u,m,b={}){const C=u.split(this.formatSeparator);if(C.length>1&&C[0].indexOf("(")>1&&C[0].indexOf(")")<0&&C.find(d=>d.indexOf(")")>-1)){const d=C.findIndex(a=>a.indexOf(")")>-1);C[0]=[C[0],...C.splice(1,d)].join(this.formatSeparator)}return C.reduce((d,a)=>{const{formatName:h,formatOptions:g}=bT(a);if(this.formats[h]){let s=d;try{const l=b?.formatParams?.[b.interpolationkey]||{},o=l.locale||l.lng||b.locale||b.lng||m;s=this.formats[h](d,o,{...g,...b,...l})}catch(l){this.logger.warn(l)}return s}else this.logger.warn(`there was no format function for ${h}`);return d},i)}}const CT=(r,i)=>{r.pending[i]!==void 0&&(delete r.pending[i],r.pendingCount--)};class _T extends Xl{constructor(i,u,m,b={}){super(),this.backend=i,this.store=u,this.services=m,this.languageUtils=m.languageUtils,this.options=b,this.logger=Hi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=b.maxParallelReads||10,this.readingCalls=0,this.maxRetries=b.maxRetries>=0?b.maxRetries:5,this.retryTimeout=b.retryTimeout>=1?b.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(m,b.backend,b)}queueLoad(i,u,m,b){const C={},O={},d={},a={};return i.forEach(h=>{let g=!0;u.forEach(s=>{const l=`${h}|${s}`;!m.reload&&this.store.hasResourceBundle(h,s)?this.state[l]=2:this.state[l]<0||(this.state[l]===1?O[l]===void 0&&(O[l]=!0):(this.state[l]=1,g=!1,O[l]===void 0&&(O[l]=!0),C[l]===void 0&&(C[l]=!0),a[s]===void 0&&(a[s]=!0)))}),g||(d[h]=!0)}),(Object.keys(C).length||Object.keys(O).length)&&this.queue.push({pending:O,pendingCount:Object.keys(O).length,loaded:{},errors:[],callback:b}),{toLoad:Object.keys(C),pending:Object.keys(O),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(a)}}loaded(i,u,m){const b=i.split("|"),C=b[0],O=b[1];u&&this.emit("failedLoading",C,O,u),!u&&m&&this.store.addResourceBundle(C,O,m,void 0,void 0,{skipCopy:!0}),this.state[i]=u?-1:2,u&&m&&(this.state[i]=0);const d={};this.queue.forEach(a=>{lT(a.loaded,[C],O),CT(a,i),u&&a.errors.push(u),a.pendingCount===0&&!a.done&&(Object.keys(a.loaded).forEach(h=>{d[h]||(d[h]={});const g=a.loaded[h];g.length&&g.forEach(s=>{d[h][s]===void 0&&(d[h][s]=!0)})}),a.done=!0,a.errors.length?a.callback(a.errors):a.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(a=>!a.done)}read(i,u,m,b=0,C=this.retryTimeout,O){if(!i.length)return O(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:u,fcName:m,tried:b,wait:C,callback:O});return}this.readingCalls++;const d=(h,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const s=this.waitingReads.shift();this.read(s.lng,s.ns,s.fcName,s.tried,s.wait,s.callback)}if(h&&g&&b<this.maxRetries){setTimeout(()=>{this.read.call(this,i,u,m,b+1,C*2,O)},C);return}O(h,g)},a=this.backend[m].bind(this.backend);if(a.length===2){try{const h=a(i,u);h&&typeof h.then=="function"?h.then(g=>d(null,g)).catch(d):d(null,h)}catch(h){d(h)}return}return a(i,u,d)}prepareLoading(i,u,m={},b){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),b&&b();Ft(i)&&(i=this.languageUtils.toResolveHierarchy(i)),Ft(u)&&(u=[u]);const C=this.queueLoad(i,u,m,b);if(!C.toLoad.length)return C.pending.length||b(),null;C.toLoad.forEach(O=>{this.loadOne(O)})}load(i,u,m){this.prepareLoading(i,u,{},m)}reload(i,u,m){this.prepareLoading(i,u,{reload:!0},m)}loadOne(i,u=""){const m=i.split("|"),b=m[0],C=m[1];this.read(b,C,"read",void 0,void 0,(O,d)=>{O&&this.logger.warn(`${u}loading namespace ${C} for language ${b} failed`,O),!O&&d&&this.logger.log(`${u}loaded namespace ${C} for language ${b}`,d),this.loaded(i,O,d)})}saveMissing(i,u,m,b,C,O={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(u)){this.logger.warn(`did not save key "${m}" as the namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(m==null||m==="")){if(this.backend?.create){const a={...O,isUpdate:C},h=this.backend.create.bind(this.backend);if(h.length<6)try{let g;h.length===5?g=h(i,u,m,b,a):g=h(i,u,m,b),g&&typeof g.then=="function"?g.then(s=>d(null,s)).catch(d):d(null,g)}catch(g){d(g)}else h(i,u,m,b,d,a)}!i||!i[0]||this.store.addResource(i[0],u,m,b)}}}const _v=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let i={};if(typeof r[1]=="object"&&(i=r[1]),Ft(r[1])&&(i.defaultValue=r[1]),Ft(r[2])&&(i.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const u=r[3]||r[2];Object.keys(u).forEach(m=>{i[m]=u[m]})}return i},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),wv=r=>(Ft(r.ns)&&(r.ns=[r.ns]),Ft(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),Ft(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),r.supportedLngs?.indexOf?.("cimode")<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),typeof r.initImmediate=="boolean"&&(r.initAsync=r.initImmediate),r),ul=()=>{},wT=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(u=>{typeof r[u]=="function"&&(r[u]=r[u].bind(r))})};class Ns extends Xl{constructor(i={},u){if(super(),this.options=wv(i),this.services={},this.logger=Hi,this.modules={external:[]},wT(this),u&&!this.isInitialized&&!i.isClone){if(!this.options.initAsync)return this.init(i,u),this;setTimeout(()=>{this.init(i,u)},0)}}init(i={},u){this.isInitializing=!0,typeof i=="function"&&(u=i,i={}),i.defaultNS==null&&i.ns&&(Ft(i.ns)?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));const m=_v();this.options={...m,...this.options,...wv(i)},this.options.interpolation={...m.interpolation,...this.options.interpolation},i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator);const b=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Hi.init(b(this.modules.logger),this.options):Hi.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=xT;const g=new yv(this.options);this.store=new pv(this.options.resources,this.options);const s=this.services;s.logger=Hi,s.resourceStore=this.store,s.languageUtils=g,s.pluralResolver=new vT(g,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==m.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===m.interpolation.format)&&(s.formatter=b(h),s.formatter.init&&s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new yT(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new _T(b(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(o,...c)=>{this.emit(o,...c)}),this.modules.languageDetector&&(s.languageDetector=b(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=b(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new Al(this.services,this.options),this.translator.on("*",(o,...c)=>{this.emit(o,...c)}),this.modules.external.forEach(o=>{o.init&&o.init(this)})}if(this.format=this.options.interpolation.format,u||(u=ul),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...g)=>this.store[h](...g)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...g)=>(this.store[h](...g),this)});const d=Cs(),a=()=>{const h=(g,s)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(s),u(g,s)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?a():setTimeout(a,0),d}loadResources(i,u=ul){let m=u;const b=Ft(i)?i:this.language;if(typeof i=="function"&&(m=i),!this.options.resources||this.options.partialBundledLanguages){if(b?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return m();const C=[],O=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(h=>{h!=="cimode"&&C.indexOf(h)<0&&C.push(h)})};b?O(b):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(a=>O(a)),this.options.preload?.forEach?.(d=>O(d)),this.services.backendConnector.load(C,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),m(d)})}else m(null)}reloadResources(i,u,m){const b=Cs();return typeof i=="function"&&(m=i,i=void 0),typeof u=="function"&&(m=u,u=void 0),i||(i=this.languages),u||(u=this.options.ns),m||(m=ul),this.services.backendConnector.reload(i,u,C=>{b.resolve(),m(C)}),b}use(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&C0.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}setResolvedLanguage(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1)){for(let u=0;u<this.languages.length;u++){const m=this.languages[u];if(!(["cimode","dev"].indexOf(m)>-1)&&this.store.hasLanguageSomeTranslations(m)){this.resolvedLanguage=m;break}}!this.resolvedLanguage&&this.languages.indexOf(i)<0&&this.store.hasLanguageSomeTranslations(i)&&(this.resolvedLanguage=i,this.languages.unshift(i))}}changeLanguage(i,u){this.isLanguageChangingTo=i;const m=Cs();this.emit("languageChanging",i);const b=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},C=(d,a)=>{a?this.isLanguageChangingTo===i&&(b(a),this.translator.changeLanguage(a),this.isLanguageChangingTo=void 0,this.emit("languageChanged",a),this.logger.log("languageChanged",a)):this.isLanguageChangingTo=void 0,m.resolve((...h)=>this.t(...h)),u&&u(d,(...h)=>this.t(...h))},O=d=>{!i&&!d&&this.services.languageDetector&&(d=[]);const a=Ft(d)?d:d&&d[0],h=this.store.hasLanguageSomeTranslations(a)?a:this.services.languageUtils.getBestMatchFromCodes(Ft(d)?[d]:d);h&&(this.language||b(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,g=>{C(g,h)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?O(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(O):this.services.languageDetector.detect(O):O(i),m}getFixedT(i,u,m){const b=(C,O,...d)=>{let a;typeof O!="object"?a=this.options.overloadTranslationOptionHandler([C,O].concat(d)):a={...O},a.lng=a.lng||b.lng,a.lngs=a.lngs||b.lngs,a.ns=a.ns||b.ns,a.keyPrefix!==""&&(a.keyPrefix=a.keyPrefix||m||b.keyPrefix);const h=this.options.keySeparator||".";let g;return a.keyPrefix&&Array.isArray(C)?g=C.map(s=>`${a.keyPrefix}${h}${s}`):g=a.keyPrefix?`${a.keyPrefix}${h}${C}`:C,this.t(g,a)};return Ft(i)?b.lng=i:b.lngs=i,b.ns=u,b.keyPrefix=m,b}t(...i){return this.translator?.translate(...i)}exists(...i){return this.translator?.exists(...i)}setDefaultNamespace(i){this.options.defaultNS=i}hasLoadedNamespace(i,u={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const m=u.lng||this.resolvedLanguage||this.languages[0],b=this.options?this.options.fallbackLng:!1,C=this.languages[this.languages.length-1];if(m.toLowerCase()==="cimode")return!0;const O=(d,a)=>{const h=this.services.backendConnector.state[`${d}|${a}`];return h===-1||h===0||h===2};if(u.precheck){const d=u.precheck(this,O);if(d!==void 0)return d}return!!(this.hasResourceBundle(m,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||O(m,i)&&(!b||O(C,i)))}loadNamespaces(i,u){const m=Cs();return this.options.ns?(Ft(i)&&(i=[i]),i.forEach(b=>{this.options.ns.indexOf(b)<0&&this.options.ns.push(b)}),this.loadResources(b=>{m.resolve(),u&&u(b)}),m):(u&&u(),Promise.resolve())}loadLanguages(i,u){const m=Cs();Ft(i)&&(i=[i]);const b=this.options.preload||[],C=i.filter(O=>b.indexOf(O)<0&&this.services.languageUtils.isSupportedCode(O));return C.length?(this.options.preload=b.concat(C),this.loadResources(O=>{m.resolve(),u&&u(O)}),m):(u&&u(),Promise.resolve())}dir(i){if(i||(i=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!i)return"rtl";if(Intl.Locale){const b=new Intl.Locale(i);if(b&&b.getTextInfo){const C=b.getTextInfo();if(C&&C.direction)return C.direction}}const u=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],m=this.services?.languageUtils||new yv(_v());return i.toLowerCase().indexOf("-latn")>1?"ltr":u.indexOf(m.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(i={},u){return new Ns(i,u)}cloneInstance(i={},u=ul){const m=i.forkResourceStore;m&&delete i.forkResourceStore;const b={...this.options,...i,isClone:!0},C=new Ns(b);if((i.debug!==void 0||i.prefix!==void 0)&&(C.logger=C.logger.clone(i)),["store","services","language"].forEach(d=>{C[d]=this[d]}),C.services={...this.services},C.services.utils={hasLoadedNamespace:C.hasLoadedNamespace.bind(C)},m){const d=Object.keys(this.store.data).reduce((a,h)=>(a[h]={...this.store.data[h]},a[h]=Object.keys(a[h]).reduce((g,s)=>(g[s]={...a[h][s]},g),a[h]),a),{});C.store=new pv(d,b),C.services.resourceStore=C.store}return C.translator=new Al(C.services,b),C.translator.on("*",(d,...a)=>{C.emit(d,...a)}),C.init(b,u),C.translator.options=b,C.translator.backendConnector.services.utils={hasLoadedNamespace:C.hasLoadedNamespace.bind(C)},C}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ie=Ns.createInstance();Ie.createInstance=Ns.createInstance;Ie.createInstance;Ie.dir;Ie.init;Ie.loadResources;Ie.reloadResources;Ie.use;Ie.changeLanguage;Ie.getFixedT;Ie.t;Ie.exists;Ie.setDefaultNamespace;Ie.hasLoadedNamespace;Ie.loadNamespaces;Ie.loadLanguages;const{slice:TT,forEach:OT}=[];function ET(r){return OT.call(TT.call(arguments,1),i=>{if(i)for(const u in i)r[u]===void 0&&(r[u]=i[u])}),r}function AT(r){return typeof r!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(u=>u.test(r))}const Tv=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,RT=function(r,i){const m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},b=encodeURIComponent(i);let C=`${r}=${b}`;if(m.maxAge>0){const O=m.maxAge-0;if(Number.isNaN(O))throw new Error("maxAge should be a Number");C+=`; Max-Age=${Math.floor(O)}`}if(m.domain){if(!Tv.test(m.domain))throw new TypeError("option domain is invalid");C+=`; Domain=${m.domain}`}if(m.path){if(!Tv.test(m.path))throw new TypeError("option path is invalid");C+=`; Path=${m.path}`}if(m.expires){if(typeof m.expires.toUTCString!="function")throw new TypeError("option expires is invalid");C+=`; Expires=${m.expires.toUTCString()}`}if(m.httpOnly&&(C+="; HttpOnly"),m.secure&&(C+="; Secure"),m.sameSite)switch(typeof m.sameSite=="string"?m.sameSite.toLowerCase():m.sameSite){case!0:C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"strict":C+="; SameSite=Strict";break;case"none":C+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return m.partitioned&&(C+="; Partitioned"),C},Ov={create(r,i,u,m){let b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};u&&(b.expires=new Date,b.expires.setTime(b.expires.getTime()+u*60*1e3)),m&&(b.domain=m),document.cookie=RT(r,i,b)},read(r){const i=`${r}=`,u=document.cookie.split(";");for(let m=0;m<u.length;m++){let b=u[m];for(;b.charAt(0)===" ";)b=b.substring(1,b.length);if(b.indexOf(i)===0)return b.substring(i.length,b.length)}return null},remove(r,i){this.create(r,"",-1,i)}};var DT={name:"cookie",lookup(r){let{lookupCookie:i}=r;if(i&&typeof document<"u")return Ov.read(i)||void 0},cacheUserLanguage(r,i){let{lookupCookie:u,cookieMinutes:m,cookieDomain:b,cookieOptions:C}=i;u&&typeof document<"u"&&Ov.create(u,r,m,b,C)}},kT={name:"querystring",lookup(r){let{lookupQuerystring:i}=r,u;if(typeof window<"u"){let{search:m}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(m=window.location.hash.substring(window.location.hash.indexOf("?")));const C=m.substring(1).split("&");for(let O=0;O<C.length;O++){const d=C[O].indexOf("=");d>0&&C[O].substring(0,d)===i&&(u=C[O].substring(d+1))}}return u}},MT={name:"hash",lookup(r){let{lookupHash:i,lookupFromHashIndex:u}=r,m;if(typeof window<"u"){const{hash:b}=window.location;if(b&&b.length>2){const C=b.substring(1);if(i){const O=C.split("&");for(let d=0;d<O.length;d++){const a=O[d].indexOf("=");a>0&&O[d].substring(0,a)===i&&(m=O[d].substring(a+1))}}if(m)return m;if(!m&&u>-1){const O=b.match(/\/([a-zA-Z-]*)/g);return Array.isArray(O)?O[typeof u=="number"?u:0]?.replace("/",""):void 0}}}return m}};let fa=null;const Ev=()=>{if(fa!==null)return fa;try{if(fa=typeof window<"u"&&window.localStorage!==null,!fa)return!1;const r="i18next.translate.boo";window.localStorage.setItem(r,"foo"),window.localStorage.removeItem(r)}catch{fa=!1}return fa};var LT={name:"localStorage",lookup(r){let{lookupLocalStorage:i}=r;if(i&&Ev())return window.localStorage.getItem(i)||void 0},cacheUserLanguage(r,i){let{lookupLocalStorage:u}=i;u&&Ev()&&window.localStorage.setItem(u,r)}};let ha=null;const Av=()=>{if(ha!==null)return ha;try{if(ha=typeof window<"u"&&window.sessionStorage!==null,!ha)return!1;const r="i18next.translate.boo";window.sessionStorage.setItem(r,"foo"),window.sessionStorage.removeItem(r)}catch{ha=!1}return ha};var jT={name:"sessionStorage",lookup(r){let{lookupSessionStorage:i}=r;if(i&&Av())return window.sessionStorage.getItem(i)||void 0},cacheUserLanguage(r,i){let{lookupSessionStorage:u}=i;u&&Av()&&window.sessionStorage.setItem(u,r)}},PT={name:"navigator",lookup(r){const i=[];if(typeof navigator<"u"){const{languages:u,userLanguage:m,language:b}=navigator;if(u)for(let C=0;C<u.length;C++)i.push(u[C]);m&&i.push(m),b&&i.push(b)}return i.length>0?i:void 0}},BT={name:"htmlTag",lookup(r){let{htmlTag:i}=r,u;const m=i||(typeof document<"u"?document.documentElement:null);return m&&typeof m.getAttribute=="function"&&(u=m.getAttribute("lang")),u}},NT={name:"path",lookup(r){let{lookupFromPathIndex:i}=r;if(typeof window>"u")return;const u=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(u)?u[typeof i=="number"?i:0]?.replace("/",""):void 0}},zT={name:"subdomain",lookup(r){let{lookupFromSubdomainIndex:i}=r;const u=typeof i=="number"?i+1:1,m=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(m)return m[u]}};let _0=!1;try{document.cookie,_0=!0}catch{}const w0=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];_0||w0.splice(1,1);const FT=()=>({order:w0,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:r=>r});class T0{constructor(i){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(i,u)}init(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=i,this.options=ET(u,this.options||{},FT()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=b=>b.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=m,this.addDetector(DT),this.addDetector(kT),this.addDetector(LT),this.addDetector(jT),this.addDetector(PT),this.addDetector(BT),this.addDetector(NT),this.addDetector(zT),this.addDetector(MT)}addDetector(i){return this.detectors[i.name]=i,this}detect(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,u=[];return i.forEach(m=>{if(this.detectors[m]){let b=this.detectors[m].lookup(this.options);b&&typeof b=="string"&&(b=[b]),b&&(u=u.concat(b))}}),u=u.filter(m=>m!=null&&!AT(m)).map(m=>this.options.convertDetectedLanguage(m)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?u:u.length>0?u[0]:null}cacheUserLanguage(i){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;u&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(i)>-1||u.forEach(m=>{this.detectors[m]&&this.detectors[m].cacheUserLanguage(i,this.options)}))}}T0.type="languageDetector";const UT={en:{translation:{title:"Quick Picture Editing",subtitle:"Free edit, download or copy pictures",privacy_notice:"※Pictures are only processed on your device, we do not upload your pictures. Feel free to use.",upload:"Upload",crop:"Crop",delete:"Delete",download:"Download",copy:"Copy",upload_image:"Upload Picture",drop_here:"or drop here",upload_first:"Please upload a picture first",text:"Text",sticker:"Sticker",add_text:"Add Text",click_edit_text:"Click to edit text",font:"Font",font_size:"Font Size",text_style:"Text Style",text_color:"Text Color",stroke_color:"Stroke Color",stroke_width:"Stroke Width",bold:"Bold",italic:"Italic",underline:"Underline",shadow:"Shadow",small:"Small",medium:"Medium",large:"Large",xlarge:"X-Large",none:"None",thin:"Thin",medium_stroke:"Medium",thick:"Thick",emoji:"Emoji",animals:"Animals",food:"Food",objects:"Objects",symbols:"Symbols",copy_success:"Picture copied to clipboard",copy_fail:"Copy failed",language:"Language",en:"English",zh:"中文",try_again:"Try Again"}},zh:{translation:{title:"Quick Picture Editing",subtitle:"免费编辑、下载或复制图片",privacy_notice:"※图片仅在终端设备上操作，我们不会上传您的图片，请放心使用。",upload:"上传",crop:"裁剪",delete:"删除",download:"下载",copy:"复制",upload_image:"上传图片",drop_here:"或拖放到这里",upload_first:"请先上传图片",text:"文本",sticker:"贴纸",add_text:"添加文本",click_edit_text:"点击编辑文字",font:"字体",font_size:"字体大小",text_style:"文本样式",text_color:"文本颜色",stroke_color:"描边颜色",stroke_width:"描边宽度",bold:"粗体",italic:"斜体",underline:"下划线",shadow:"阴影",small:"小",medium:"中",large:"大",xlarge:"特大",none:"无",thin:"细",medium_stroke:"中",thick:"粗",emoji:"表情",animals:"动物",food:"食物",objects:"物品",symbols:"符号",copy_success:"图片已复制到剪贴板",copy_fail:"复制失败",language:"语言",en:"English",zh:"中文",try_again:"重试"}}};Ie.use(T0).use(aS).init({resources:UT,fallbackLng:"en",lng:"en",interpolation:{escapeValue:!1},detection:{order:["querystring","localStorage","navigator"],caches:["localStorage"]}});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(r=>{console.log("Service Worker registered with scope:",r.scope)}).catch(r=>{console.error("Service Worker registration failed:",r)})});Wb.createRoot(document.getElementById("root")).render(Q.jsx(G.StrictMode,{children:Q.jsx(aT,{})}));
